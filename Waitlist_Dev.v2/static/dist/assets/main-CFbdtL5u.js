var Rx=Object.defineProperty;var Lx=(e,t,n)=>t in e?Rx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var V=(e,t,n)=>Lx(e,typeof t!="symbol"?t+"":t,n);function Ox(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Dx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tf={exports:{}},Ta={},nf={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=Symbol.for("react.element"),zx=Symbol.for("react.portal"),Ax=Symbol.for("react.fragment"),Fx=Symbol.for("react.strict_mode"),Ix=Symbol.for("react.profiler"),Bx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),Wx=Symbol.for("react.suspense"),Ux=Symbol.for("react.memo"),Vx=Symbol.for("react.lazy"),wd=Symbol.iterator;function Xx(e){return e===null||typeof e!="object"?null:(e=wd&&e[wd]||e["@@iterator"],typeof e=="function"?e:null)}var sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rf=Object.assign,af={};function Ts(e,t,n){this.props=e,this.context=t,this.refs=af,this.updater=n||sf}Ts.prototype.isReactComponent={};Ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lf(){}lf.prototype=Ts.prototype;function nc(e,t,n){this.props=e,this.context=t,this.refs=af,this.updater=n||sf}var sc=nc.prototype=new lf;sc.constructor=nc;rf(sc,Ts.prototype);sc.isPureReactComponent=!0;var jd=Array.isArray,of=Object.prototype.hasOwnProperty,rc={current:null},cf={key:!0,ref:!0,__self:!0,__source:!0};function df(e,t,n){var s,r={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)of.call(t,s)&&!cf.hasOwnProperty(s)&&(r[s]=t[s]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return{$$typeof:Ur,type:e,key:i,ref:l,props:r,_owner:rc.current}}function Yx(e,t){return{$$typeof:Ur,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ic(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ur}function Kx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _d=/\/+/g;function sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kx(""+e.key):t.toString(36)}function Ri(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ur:case zx:l=!0}}if(l)return l=e,r=r(l),e=s===""?"."+sl(l,0):s,jd(r)?(n="",e!=null&&(n=e.replace(_d,"$&/")+"/"),Ri(r,t,n,"",function(d){return d})):r!=null&&(ic(r)&&(r=Yx(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(_d,"$&/")+"/")+e)),t.push(r)),1;if(l=0,s=s===""?".":s+":",jd(e))for(var o=0;o<e.length;o++){i=e[o];var c=s+sl(i,o);l+=Ri(i,t,n,c,r)}else if(c=Xx(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=s+sl(i,o++),l+=Ri(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Jr(e,t,n){if(e==null)return e;var s=[],r=0;return Ri(e,s,"","",function(i){return t.call(n,i,r++)}),s}function qx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Li={transition:null},Gx={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Li,ReactCurrentOwner:rc};function uf(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Jr,forEach:function(e,t,n){Jr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jr(e,function(){t++}),t},toArray:function(e){return Jr(e,function(t){return t})||[]},only:function(e){if(!ic(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Ts;q.Fragment=Ax;q.Profiler=Ix;q.PureComponent=nc;q.StrictMode=Fx;q.Suspense=Wx;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx;q.act=uf;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=rf({},e.props),r=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=rc.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)of.call(t,c)&&!cf.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:Ur,type:e.type,key:r,ref:i,props:s,_owner:l}};q.createContext=function(e){return e={$$typeof:Hx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bx,_context:e},e.Consumer=e};q.createElement=df;q.createFactory=function(e){var t=df.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:$x,render:e}};q.isValidElement=ic;q.lazy=function(e){return{$$typeof:Vx,_payload:{_status:-1,_result:e},_init:qx}};q.memo=function(e,t){return{$$typeof:Ux,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Li.transition;Li.transition={};try{e()}finally{Li.transition=t}};q.unstable_act=uf;q.useCallback=function(e,t){return $e.current.useCallback(e,t)};q.useContext=function(e){return $e.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};q.useEffect=function(e,t){return $e.current.useEffect(e,t)};q.useId=function(){return $e.current.useId()};q.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return $e.current.useMemo(e,t)};q.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};q.useRef=function(e){return $e.current.useRef(e)};q.useState=function(e){return $e.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return $e.current.useTransition()};q.version="18.3.1";nf.exports=q;var j=nf.exports;const ac=Dx(j),Qx=Ox({__proto__:null,default:ac},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=j,Zx=Symbol.for("react.element"),eg=Symbol.for("react.fragment"),tg=Object.prototype.hasOwnProperty,ng=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sg={key:!0,ref:!0,__self:!0,__source:!0};function hf(e,t,n){var s,r={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)tg.call(t,s)&&!sg.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:Zx,type:e,key:i,ref:l,props:r,_owner:ng.current}}Ta.Fragment=eg;Ta.jsx=hf;Ta.jsxs=hf;tf.exports=Ta;var a=tf.exports,Kl={},ff={exports:{}},st={},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,k){var T=N.length;N.push(k);e:for(;0<T;){var D=T-1>>>1,B=N[D];if(0<r(B,k))N[D]=k,N[T]=B,T=D;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var k=N[0],T=N.pop();if(T!==k){N[0]=T;e:for(var D=0,B=N.length,G=B>>>1;D<G;){var P=2*(D+1)-1,U=N[P],ee=P+1,Ce=N[ee];if(0>r(U,T))ee<B&&0>r(Ce,U)?(N[D]=Ce,N[ee]=T,D=ee):(N[D]=U,N[P]=T,D=P);else if(ee<B&&0>r(Ce,T))N[D]=Ce,N[ee]=T,D=ee;else break e}}return k}function r(N,k){var T=N.sortIndex-k.sortIndex;return T!==0?T:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var k=n(d);k!==null;){if(k.callback===null)s(d);else if(k.startTime<=N)s(d),k.sortIndex=k.expirationTime,t(c,k);else break;k=n(d)}}function w(N){if(v=!1,y(N),!g)if(n(c)!==null)g=!0,O(_);else{var k=n(d);k!==null&&M(w,k.startTime-N)}}function _(N,k){g=!1,v&&(v=!1,x(E),E=-1),p=!0;var T=f;try{for(y(k),h=n(c);h!==null&&(!(h.expirationTime>k)||N&&!R());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var B=D(h.expirationTime<=k);k=e.unstable_now(),typeof B=="function"?h.callback=B:h===n(c)&&s(c),y(k)}else s(c);h=n(c)}if(h!==null)var G=!0;else{var P=n(d);P!==null&&M(w,P.startTime-k),G=!1}return G}finally{h=null,f=T,p=!1}}var S=!1,C=null,E=-1,A=5,z=-1;function R(){return!(e.unstable_now()-z<A)}function H(){if(C!==null){var N=e.unstable_now();z=N;var k=!0;try{k=C(!0,N)}finally{k?W():(S=!1,C=null)}}else S=!1}var W;if(typeof m=="function")W=function(){m(H)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,F=Y.port2;Y.port1.onmessage=H,W=function(){F.postMessage(null)}}else W=function(){b(H,0)};function O(N){C=N,S||(S=!0,W())}function M(N,k){E=b(function(){N(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,O(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var T=f;f=k;try{return N()}finally{f=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var T=f;f=N;try{return k()}finally{f=T}},e.unstable_scheduleCallback=function(N,k,T){var D=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?D+T:D):T=D,N){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=T+B,N={id:u++,callback:k,priorityLevel:N,startTime:T,expirationTime:B,sortIndex:-1},T>D?(N.sortIndex=T,t(d,N),n(c)===null&&N===n(d)&&(v?(x(E),E=-1):v=!0,M(w,T-D))):(N.sortIndex=B,t(c,N),g||p||(g=!0,O(_))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var k=f;return function(){var T=f;f=k;try{return N.apply(this,arguments)}finally{f=T}}}})(mf);pf.exports=mf;var rg=pf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=j,nt=rg;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xf=new Set,vr={};function Kn(e,t){js(e,t),js(e+"Capture",t)}function js(e,t){for(vr[e]=t,e=0;e<t.length;e++)xf.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ql=Object.prototype.hasOwnProperty,ag=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kd={},Nd={};function lg(e){return ql.call(Nd,e)?!0:ql.call(kd,e)?!1:ag.test(e)?Nd[e]=!0:(kd[e]=!0,!1)}function og(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cg(e,t,n,s){if(t===null||typeof t>"u"||og(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,s,r,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var lc=/[\-:]([a-z])/g;function oc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lc,oc);Le[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lc,oc);Le[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lc,oc);Le[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function cc(e,t,n,s){var r=Le.hasOwnProperty(t)?Le[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cg(t,n,r,s)&&(n=null),s||r===null?lg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var qt=ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zr=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),dc=Symbol.for("react.strict_mode"),Gl=Symbol.for("react.profiler"),gf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),uc=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),vf=Symbol.for("react.offscreen"),Sd=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=Sd&&e[Sd]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,rl;function Js(e){if(rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rl=t&&t[1]||""}return`
`+rl+e}var il=!1;function al(e,t){if(!e||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),l=r.length-1,o=i.length-1;1<=l&&0<=o&&r[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(r[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||r[l]!==i[o]){var c=`
`+r[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{il=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Js(e):""}function dg(e){switch(e.tag){case 5:return Js(e.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case Gl:return"Profiler";case dc:return"StrictMode";case Ql:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bf:return(e.displayName||"Context")+".Consumer";case gf:return(e._context.displayName||"Context")+".Provider";case uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hc:return t=e.displayName||null,t!==null?t:Zl(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Zl(e(t))}catch{}}return null}function ug(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(t);case 8:return t===dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hg(e){var t=yf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ei(e){e._valueTracker||(e._valueTracker=hg(e))}function wf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=yf(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eo(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jf(e,t){t=t.checked,t!=null&&cc(e,"checked",t,!1)}function to(e,t){jf(e,t);var n=wn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,n):t.hasOwnProperty("defaultValue")&&no(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Md(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function no(e,t,n){(t!=="number"||qi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zs=Array.isArray;function hs(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function so(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ed(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Zs(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wn(n)}}function _f(e,t){var n=wn(t.value),s=wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Pd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ro(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,Nf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fg=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(e){fg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});function Sf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function Cf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Sf(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var pg=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if(pg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oo=null,fs=null,ps=null;function Td(e){if(e=Yr(e)){if(typeof oo!="function")throw Error(I(280));var t=e.stateNode;t&&(t=za(t),oo(e.stateNode,e.type,t))}}function Mf(e){fs?ps?ps.push(e):ps=[e]:fs=e}function Ef(){if(fs){var e=fs,t=ps;if(ps=fs=null,Td(e),t)for(e=0;e<t.length;e++)Td(t[e])}}function Pf(e,t){return e(t)}function Tf(){}var ll=!1;function Rf(e,t,n){if(ll)return e(t,n);ll=!0;try{return Pf(e,t,n)}finally{ll=!1,(fs!==null||ps!==null)&&(Tf(),Ef())}}function wr(e,t){var n=e.stateNode;if(n===null)return null;var s=za(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var co=!1;if(Wt)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){co=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{co=!1}function mg(e,t,n,s,r,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var or=!1,Gi=null,Qi=!1,uo=null,xg={onError:function(e){or=!0,Gi=e}};function gg(e,t,n,s,r,i,l,o,c){or=!1,Gi=null,mg.apply(xg,arguments)}function bg(e,t,n,s,r,i,l,o,c){if(gg.apply(this,arguments),or){if(or){var d=Gi;or=!1,Gi=null}else throw Error(I(198));Qi||(Qi=!0,uo=d)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rd(e){if(qn(e)!==e)throw Error(I(188))}function vg(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Rd(r),e;if(i===s)return Rd(r),t;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=r,s=i;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,s=i;break}if(o===s){l=!0,s=r,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,s=r;break}if(o===s){l=!0,s=i,n=r;break}o=o.sibling}if(!l)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Of(e){return e=vg(e),e!==null?Df(e):null}function Df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Df(e);if(t!==null)return t;e=e.sibling}return null}var zf=nt.unstable_scheduleCallback,Ld=nt.unstable_cancelCallback,yg=nt.unstable_shouldYield,wg=nt.unstable_requestPaint,ve=nt.unstable_now,jg=nt.unstable_getCurrentPriorityLevel,pc=nt.unstable_ImmediatePriority,Af=nt.unstable_UserBlockingPriority,Ji=nt.unstable_NormalPriority,_g=nt.unstable_LowPriority,Ff=nt.unstable_IdlePriority,Ra=null,Tt=null;function kg(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ra,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Cg,Ng=Math.log,Sg=Math.LN2;function Cg(e){return e>>>=0,e===0?32:31-(Ng(e)/Sg|0)|0}var ni=64,si=4194304;function er(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~r;o!==0?s=er(o):(i&=l,i!==0&&(s=er(i)))}else l=n&~r,l!==0?s=er(l):i!==0&&(s=er(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-vt(t),r=1<<n,s|=e[n],t&=~r;return s}function Mg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eg(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-vt(i),o=1<<l,c=r[l];c===-1?(!(o&n)||o&s)&&(r[l]=Mg(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function ho(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function If(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Pg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-vt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function mc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-vt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var ne=0;function Bf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hf,xc,$f,Wf,Uf,fo=!1,ri=[],dn=null,un=null,hn=null,jr=new Map,_r=new Map,tn=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Od(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function Bs(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Yr(t),t!==null&&xc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Rg(e,t,n,s,r){switch(t){case"focusin":return dn=Bs(dn,e,t,n,s,r),!0;case"dragenter":return un=Bs(un,e,t,n,s,r),!0;case"mouseover":return hn=Bs(hn,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return jr.set(i,Bs(jr.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,_r.set(i,Bs(_r.get(i)||null,e,t,n,s,r)),!0}return!1}function Vf(e){var t=On(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Lf(n),t!==null){e.blockedOn=t,Uf(e.priority,function(){$f(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);lo=s,n.target.dispatchEvent(s),lo=null}else return t=Yr(n),t!==null&&xc(t),e.blockedOn=n,!1;t.shift()}return!0}function Dd(e,t,n){Oi(e)&&n.delete(t)}function Lg(){fo=!1,dn!==null&&Oi(dn)&&(dn=null),un!==null&&Oi(un)&&(un=null),hn!==null&&Oi(hn)&&(hn=null),jr.forEach(Dd),_r.forEach(Dd)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,fo||(fo=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Lg)))}function kr(e){function t(r){return Hs(r,e)}if(0<ri.length){Hs(ri[0],e);for(var n=1;n<ri.length;n++){var s=ri[n];s.blockedOn===e&&(s.blockedOn=null)}}for(dn!==null&&Hs(dn,e),un!==null&&Hs(un,e),hn!==null&&Hs(hn,e),jr.forEach(t),_r.forEach(t),n=0;n<tn.length;n++)s=tn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)Vf(n),n.blockedOn===null&&tn.shift()}var ms=qt.ReactCurrentBatchConfig,ea=!0;function Og(e,t,n,s){var r=ne,i=ms.transition;ms.transition=null;try{ne=1,gc(e,t,n,s)}finally{ne=r,ms.transition=i}}function Dg(e,t,n,s){var r=ne,i=ms.transition;ms.transition=null;try{ne=4,gc(e,t,n,s)}finally{ne=r,ms.transition=i}}function gc(e,t,n,s){if(ea){var r=po(e,t,n,s);if(r===null)bl(e,t,s,ta,n),Od(e,s);else if(Rg(r,e,t,n,s))s.stopPropagation();else if(Od(e,s),t&4&&-1<Tg.indexOf(e)){for(;r!==null;){var i=Yr(r);if(i!==null&&Hf(i),i=po(e,t,n,s),i===null&&bl(e,t,s,ta,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else bl(e,t,s,null,n)}}var ta=null;function po(e,t,n,s){if(ta=null,e=fc(s),e=On(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ta=e,null}function Xf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jg()){case pc:return 1;case Af:return 4;case Ji:case _g:return 16;case Ff:return 536870912;default:return 16}default:return 16}}var sn=null,bc=null,Di=null;function Yf(){if(Di)return Di;var e,t=bc,n=t.length,s,r="value"in sn?sn.value:sn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===r[i-s];s++);return Di=r.slice(e,1<s?1-s:void 0)}function zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function zd(){return!1}function rt(e){function t(n,s,r,i,l){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ii:zd,this.isPropagationStopped=zd,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=rt(Rs),Xr=me({},Rs,{view:0,detail:0}),zg=rt(Xr),cl,dl,$s,La=me({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(cl=e.screenX-$s.screenX,dl=e.screenY-$s.screenY):dl=cl=0,$s=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),Ad=rt(La),Ag=me({},La,{dataTransfer:0}),Fg=rt(Ag),Ig=me({},Xr,{relatedTarget:0}),ul=rt(Ig),Bg=me({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hg=rt(Bg),$g=me({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wg=rt($g),Ug=me({},Rs,{data:0}),Fd=rt(Ug),Vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yg[e])?!!t[e]:!1}function yc(){return Kg}var qg=me({},Xr,{key:function(e){if(e.key){var t=Vg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(e){return e.type==="keypress"?zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gg=rt(qg),Qg=me({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=rt(Qg),Jg=me({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),Zg=rt(Jg),e0=me({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=rt(e0),n0=me({},La,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=rt(n0),r0=[9,13,27,32],wc=Wt&&"CompositionEvent"in window,cr=null;Wt&&"documentMode"in document&&(cr=document.documentMode);var i0=Wt&&"TextEvent"in window&&!cr,Kf=Wt&&(!wc||cr&&8<cr&&11>=cr),Bd=" ",Hd=!1;function qf(e,t){switch(e){case"keyup":return r0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function a0(e,t){switch(e){case"compositionend":return Gf(t);case"keypress":return t.which!==32?null:(Hd=!0,Bd);case"textInput":return e=t.data,e===Bd&&Hd?null:e;default:return null}}function l0(e,t){if(ns)return e==="compositionend"||!wc&&qf(e,t)?(e=Yf(),Di=bc=sn=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kf&&t.locale!=="ko"?null:t.data;default:return null}}var o0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o0[e.type]:t==="textarea"}function Qf(e,t,n,s){Mf(s),t=na(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var dr=null,Nr=null;function c0(e){op(e,0)}function Oa(e){var t=is(e);if(wf(t))return e}function d0(e,t){if(e==="change")return t}var Jf=!1;if(Wt){var hl;if(Wt){var fl="oninput"in document;if(!fl){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),fl=typeof Wd.oninput=="function"}hl=fl}else hl=!1;Jf=hl&&(!document.documentMode||9<document.documentMode)}function Ud(){dr&&(dr.detachEvent("onpropertychange",Zf),Nr=dr=null)}function Zf(e){if(e.propertyName==="value"&&Oa(Nr)){var t=[];Qf(t,Nr,e,fc(e)),Rf(c0,t)}}function u0(e,t,n){e==="focusin"?(Ud(),dr=t,Nr=n,dr.attachEvent("onpropertychange",Zf)):e==="focusout"&&Ud()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oa(Nr)}function f0(e,t){if(e==="click")return Oa(t)}function p0(e,t){if(e==="input"||e==="change")return Oa(t)}function m0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:m0;function Sr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!ql.call(t,r)||!jt(e[r],t[r]))return!1}return!0}function Vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xd(e,t){var n=Vd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vd(n)}}function ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tp(){for(var e=window,t=qi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qi(e.document)}return t}function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x0(e){var t=tp(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ep(n.ownerDocument.documentElement,n)){if(s!==null&&jc(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=Xd(n,i);var l=Xd(n,s);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g0=Wt&&"documentMode"in document&&11>=document.documentMode,ss=null,mo=null,ur=null,xo=!1;function Yd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xo||ss==null||ss!==qi(s)||(s=ss,"selectionStart"in s&&jc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ur&&Sr(ur,s)||(ur=s,s=na(mo,"onSelect"),0<s.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ss)))}function ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},pl={},np={};Wt&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Da(e){if(pl[e])return pl[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in np)return pl[e]=t[n];return e}var sp=Da("animationend"),rp=Da("animationiteration"),ip=Da("animationstart"),ap=Da("transitionend"),lp=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){lp.set(e,t),Kn(t,[e])}for(var ml=0;ml<Kd.length;ml++){var xl=Kd[ml],b0=xl.toLowerCase(),v0=xl[0].toUpperCase()+xl.slice(1);kn(b0,"on"+v0)}kn(sp,"onAnimationEnd");kn(rp,"onAnimationIteration");kn(ip,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(ap,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("cancel close invalid load scroll toggle".split(" ").concat(tr));function qd(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,bg(s,t,void 0,e),e.currentTarget=null}function op(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;qd(r,o,d),i=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;qd(r,o,d),i=c}}}if(Qi)throw e=uo,Qi=!1,uo=null,e}function ce(e,t){var n=t[wo];n===void 0&&(n=t[wo]=new Set);var s=e+"__bubble";n.has(s)||(cp(t,e,2,!1),n.add(s))}function gl(e,t,n){var s=0;t&&(s|=4),cp(n,e,s,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){if(!e[li]){e[li]=!0,xf.forEach(function(n){n!=="selectionchange"&&(y0.has(n)||gl(n,!1,e),gl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,gl("selectionchange",!1,t))}}function cp(e,t,n,s){switch(Xf(t)){case 1:var r=Og;break;case 4:r=Dg;break;default:r=gc}n=r.bind(null,t,n,e),r=void 0,!co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function bl(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;o!==null;){if(l=On(o),l===null)return;if(c=l.tag,c===5||c===6){s=i=l;continue e}o=o.parentNode}}s=s.return}Rf(function(){var d=i,u=fc(n),h=[];e:{var f=lp.get(e);if(f!==void 0){var p=vc,g=e;switch(e){case"keypress":if(zi(n)===0)break e;case"keydown":case"keyup":p=Gg;break;case"focusin":g="focus",p=ul;break;case"focusout":g="blur",p=ul;break;case"beforeblur":case"afterblur":p=ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Zg;break;case sp:case rp:case ip:p=Hg;break;case ap:p=t0;break;case"scroll":p=zg;break;case"wheel":p=s0;break;case"copy":case"cut":case"paste":p=Wg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Id}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var m=d,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,x!==null&&(w=wr(m,x),w!=null&&v.push(Mr(m,w,y)))),b)break;m=m.return}0<v.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==lo&&(g=n.relatedTarget||n.fromElement)&&(On(g)||g[Ut]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?On(g):null,g!==null&&(b=qn(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(v=Ad,w="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Id,w="onPointerLeave",x="onPointerEnter",m="pointer"),b=p==null?f:is(p),y=g==null?f:is(g),f=new v(w,m+"leave",p,n,u),f.target=b,f.relatedTarget=y,w=null,On(u)===d&&(v=new v(x,m+"enter",g,n,u),v.target=y,v.relatedTarget=b,w=v),b=w,p&&g)t:{for(v=p,x=g,m=0,y=v;y;y=Qn(y))m++;for(y=0,w=x;w;w=Qn(w))y++;for(;0<m-y;)v=Qn(v),m--;for(;0<y-m;)x=Qn(x),y--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=Qn(v),x=Qn(x)}v=null}else v=null;p!==null&&Gd(h,f,p,v,!1),g!==null&&b!==null&&Gd(h,b,g,v,!0)}}e:{if(f=d?is(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=d0;else if($d(f))if(Jf)_=p0;else{_=h0;var S=u0}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=f0);if(_&&(_=_(e,d))){Qf(h,_,n,u);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&no(f,"number",f.value)}switch(S=d?is(d):window,e){case"focusin":($d(S)||S.contentEditable==="true")&&(ss=S,mo=d,ur=null);break;case"focusout":ur=mo=ss=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Yd(h,n,u);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":Yd(h,n,u)}var C;if(wc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ns?qf(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Kf&&n.locale!=="ko"&&(ns||E!=="onCompositionStart"?E==="onCompositionEnd"&&ns&&(C=Yf()):(sn=u,bc="value"in sn?sn.value:sn.textContent,ns=!0)),S=na(d,E),0<S.length&&(E=new Fd(E,e,null,n,u),h.push({event:E,listeners:S}),C?E.data=C:(C=Gf(n),C!==null&&(E.data=C)))),(C=i0?a0(e,n):l0(e,n))&&(d=na(d,"onBeforeInput"),0<d.length&&(u=new Fd("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}op(h,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function na(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=wr(e,n),i!=null&&s.unshift(Mr(e,i,r)),i=wr(e,t),i!=null&&s.push(Mr(e,i,r))),e=e.return}return s}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gd(e,t,n,s,r){for(var i=t._reactName,l=[];n!==null&&n!==s;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&d!==null&&(o=d,r?(c=wr(n,i),c!=null&&l.unshift(Mr(n,c,o))):r||(c=wr(n,i),c!=null&&l.push(Mr(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var w0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(w0,`
`).replace(j0,"")}function oi(e,t,n){if(t=Qd(t),Qd(e)!==t&&n)throw Error(I(425))}function sa(){}var go=null,bo=null;function vo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yo=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Jd=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jd<"u"?function(e){return Jd.resolve(null).then(e).catch(N0)}:yo;function N0(e){setTimeout(function(){throw e})}function vl(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),kr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);kr(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Ls,Er="__reactProps$"+Ls,Ut="__reactContainer$"+Ls,wo="__reactEvents$"+Ls,S0="__reactListeners$"+Ls,C0="__reactHandles$"+Ls;function On(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zd(e);e!==null;){if(n=e[Pt])return n;e=Zd(e)}return t}e=n,n=e.parentNode}return null}function Yr(e){return e=e[Pt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function za(e){return e[Er]||null}var jo=[],as=-1;function Nn(e){return{current:e}}function ue(e){0>as||(e.current=jo[as],jo[as]=null,as--)}function oe(e,t){as++,jo[as]=e.current,e.current=t}var jn={},Ie=Nn(jn),Ge=Nn(!1),Hn=jn;function _s(e,t){var n=e.type.contextTypes;if(!n)return jn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Qe(e){return e=e.childContextTypes,e!=null}function ra(){ue(Ge),ue(Ie)}function eu(e,t,n){if(Ie.current!==jn)throw Error(I(168));oe(Ie,t),oe(Ge,n)}function dp(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(I(108,ug(e)||"Unknown",r));return me({},n,s)}function ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Hn=Ie.current,oe(Ie,e),oe(Ge,Ge.current),!0}function tu(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=dp(e,t,Hn),s.__reactInternalMemoizedMergedChildContext=e,ue(Ge),ue(Ie),oe(Ie,e)):ue(Ge),oe(Ge,n)}var At=null,Aa=!1,yl=!1;function up(e){At===null?At=[e]:At.push(e)}function M0(e){Aa=!0,up(e)}function Sn(){if(!yl&&At!==null){yl=!0;var e=0,t=ne;try{var n=At;for(ne=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}At=null,Aa=!1}catch(r){throw At!==null&&(At=At.slice(e+1)),zf(pc,Sn),r}finally{ne=t,yl=!1}}return null}var ls=[],os=0,aa=null,la=0,at=[],lt=0,$n=null,It=1,Bt="";function Tn(e,t){ls[os++]=la,ls[os++]=aa,aa=e,la=t}function hp(e,t,n){at[lt++]=It,at[lt++]=Bt,at[lt++]=$n,$n=e;var s=It;e=Bt;var r=32-vt(s)-1;s&=~(1<<r),n+=1;var i=32-vt(t)+r;if(30<i){var l=r-r%5;i=(s&(1<<l)-1).toString(32),s>>=l,r-=l,It=1<<32-vt(t)+r|n<<r|s,Bt=i+e}else It=1<<i|n<<r|s,Bt=e}function _c(e){e.return!==null&&(Tn(e,1),hp(e,1,0))}function kc(e){for(;e===aa;)aa=ls[--os],ls[os]=null,la=ls[--os],ls[os]=null;for(;e===$n;)$n=at[--lt],at[lt]=null,Bt=at[--lt],at[lt]=null,It=at[--lt],at[lt]=null}var tt=null,et=null,he=!1,bt=null;function fp(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$n!==null?{id:It,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function _o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ko(e){if(he){var t=et;if(t){var n=t;if(!nu(e,t)){if(_o(e))throw Error(I(418));t=fn(n.nextSibling);var s=tt;t&&nu(e,t)?fp(s,n):(e.flags=e.flags&-4097|2,he=!1,tt=e)}}else{if(_o(e))throw Error(I(418));e.flags=e.flags&-4097|2,he=!1,tt=e}}}function su(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function ci(e){if(e!==tt)return!1;if(!he)return su(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vo(e.type,e.memoizedProps)),t&&(t=et)){if(_o(e))throw pp(),Error(I(418));for(;t;)fp(e,t),t=fn(t.nextSibling)}if(su(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?fn(e.stateNode.nextSibling):null;return!0}function pp(){for(var e=et;e;)e=fn(e.nextSibling)}function ks(){et=tt=null,he=!1}function Nc(e){bt===null?bt=[e]:bt.push(e)}var E0=qt.ReactCurrentBatchConfig;function Ws(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=r.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ru(e){var t=e._init;return t(e._payload)}function mp(e){function t(x,m){if(e){var y=x.deletions;y===null?(x.deletions=[m],x.flags|=16):y.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function s(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function r(x,m){return x=gn(x,m),x.index=0,x.sibling=null,x}function i(x,m,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<m?(x.flags|=2,m):y):(x.flags|=2,m)):(x.flags|=1048576,m)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,m,y,w){return m===null||m.tag!==6?(m=Cl(y,x.mode,w),m.return=x,m):(m=r(m,y),m.return=x,m)}function c(x,m,y,w){var _=y.type;return _===ts?u(x,m,y.props.children,w,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zt&&ru(_)===m.type)?(w=r(m,y.props),w.ref=Ws(x,m,y),w.return=x,w):(w=Wi(y.type,y.key,y.props,null,x.mode,w),w.ref=Ws(x,m,y),w.return=x,w)}function d(x,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Ml(y,x.mode,w),m.return=x,m):(m=r(m,y.children||[]),m.return=x,m)}function u(x,m,y,w,_){return m===null||m.tag!==7?(m=In(y,x.mode,w,_),m.return=x,m):(m=r(m,y),m.return=x,m)}function h(x,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Cl(""+m,x.mode,y),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zr:return y=Wi(m.type,m.key,m.props,null,x.mode,y),y.ref=Ws(x,null,m),y.return=x,y;case es:return m=Ml(m,x.mode,y),m.return=x,m;case Zt:var w=m._init;return h(x,w(m._payload),y)}if(Zs(m)||Fs(m))return m=In(m,x.mode,y,null),m.return=x,m;di(x,m)}return null}function f(x,m,y,w){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:o(x,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zr:return y.key===_?c(x,m,y,w):null;case es:return y.key===_?d(x,m,y,w):null;case Zt:return _=y._init,f(x,m,_(y._payload),w)}if(Zs(y)||Fs(y))return _!==null?null:u(x,m,y,w,null);di(x,y)}return null}function p(x,m,y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(y)||null,o(m,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zr:return x=x.get(w.key===null?y:w.key)||null,c(m,x,w,_);case es:return x=x.get(w.key===null?y:w.key)||null,d(m,x,w,_);case Zt:var S=w._init;return p(x,m,y,S(w._payload),_)}if(Zs(w)||Fs(w))return x=x.get(y)||null,u(m,x,w,_,null);di(m,w)}return null}function g(x,m,y,w){for(var _=null,S=null,C=m,E=m=0,A=null;C!==null&&E<y.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var z=f(x,C,y[E],w);if(z===null){C===null&&(C=A);break}e&&C&&z.alternate===null&&t(x,C),m=i(z,m,E),S===null?_=z:S.sibling=z,S=z,C=A}if(E===y.length)return n(x,C),he&&Tn(x,E),_;if(C===null){for(;E<y.length;E++)C=h(x,y[E],w),C!==null&&(m=i(C,m,E),S===null?_=C:S.sibling=C,S=C);return he&&Tn(x,E),_}for(C=s(x,C);E<y.length;E++)A=p(C,x,E,y[E],w),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),m=i(A,m,E),S===null?_=A:S.sibling=A,S=A);return e&&C.forEach(function(R){return t(x,R)}),he&&Tn(x,E),_}function v(x,m,y,w){var _=Fs(y);if(typeof _!="function")throw Error(I(150));if(y=_.call(y),y==null)throw Error(I(151));for(var S=_=null,C=m,E=m=0,A=null,z=y.next();C!==null&&!z.done;E++,z=y.next()){C.index>E?(A=C,C=null):A=C.sibling;var R=f(x,C,z.value,w);if(R===null){C===null&&(C=A);break}e&&C&&R.alternate===null&&t(x,C),m=i(R,m,E),S===null?_=R:S.sibling=R,S=R,C=A}if(z.done)return n(x,C),he&&Tn(x,E),_;if(C===null){for(;!z.done;E++,z=y.next())z=h(x,z.value,w),z!==null&&(m=i(z,m,E),S===null?_=z:S.sibling=z,S=z);return he&&Tn(x,E),_}for(C=s(x,C);!z.done;E++,z=y.next())z=p(C,x,E,z.value,w),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?E:z.key),m=i(z,m,E),S===null?_=z:S.sibling=z,S=z);return e&&C.forEach(function(H){return t(x,H)}),he&&Tn(x,E),_}function b(x,m,y,w){if(typeof y=="object"&&y!==null&&y.type===ts&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zr:e:{for(var _=y.key,S=m;S!==null;){if(S.key===_){if(_=y.type,_===ts){if(S.tag===7){n(x,S.sibling),m=r(S,y.props.children),m.return=x,x=m;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zt&&ru(_)===S.type){n(x,S.sibling),m=r(S,y.props),m.ref=Ws(x,S,y),m.return=x,x=m;break e}n(x,S);break}else t(x,S);S=S.sibling}y.type===ts?(m=In(y.props.children,x.mode,w,y.key),m.return=x,x=m):(w=Wi(y.type,y.key,y.props,null,x.mode,w),w.ref=Ws(x,m,y),w.return=x,x=w)}return l(x);case es:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(x,m.sibling),m=r(m,y.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=Ml(y,x.mode,w),m.return=x,x=m}return l(x);case Zt:return S=y._init,b(x,m,S(y._payload),w)}if(Zs(y))return g(x,m,y,w);if(Fs(y))return v(x,m,y,w);di(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(x,m.sibling),m=r(m,y),m.return=x,x=m):(n(x,m),m=Cl(y,x.mode,w),m.return=x,x=m),l(x)):n(x,m)}return b}var Ns=mp(!0),xp=mp(!1),oa=Nn(null),ca=null,cs=null,Sc=null;function Cc(){Sc=cs=ca=null}function Mc(e){var t=oa.current;ue(oa),e._currentValue=t}function No(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function xs(e,t){ca=e,Sc=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Sc!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(ca===null)throw Error(I(308));cs=e,ca.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var Dn=null;function Ec(e){Dn===null?Dn=[e]:Dn.push(e)}function gp(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Ec(t)):(n.next=r.next,r.next=n),t.interleaved=n,Vt(e,s)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Vt(e,n)}return r=s.interleaved,r===null?(t.next=t,Ec(s)):(t.next=r.next,r.next=t),s.interleaved=t,Vt(e,n)}function Ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mc(e,n)}}function iu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,s){var r=e.updateQueue;en=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;l=0,u=d=c=null,o=i;do{var f=o.lane,p=o.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(f=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=me({},h,f);break e;case 2:en=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,l|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Un|=l,e.lanes=l,e.memoizedState=h}}function au(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(I(191,r));r.call(s)}}}var Kr={},Rt=Nn(Kr),Pr=Nn(Kr),Tr=Nn(Kr);function zn(e){if(e===Kr)throw Error(I(174));return e}function Tc(e,t){switch(oe(Tr,t),oe(Pr,e),oe(Rt,Kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ro(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ro(t,e)}ue(Rt),oe(Rt,t)}function Ss(){ue(Rt),ue(Pr),ue(Tr)}function vp(e){zn(Tr.current);var t=zn(Rt.current),n=ro(t,e.type);t!==n&&(oe(Pr,e),oe(Rt,n))}function Rc(e){Pr.current===e&&(ue(Rt),ue(Pr))}var fe=Nn(0);function ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wl=[];function Lc(){for(var e=0;e<wl.length;e++)wl[e]._workInProgressVersionPrimary=null;wl.length=0}var Fi=qt.ReactCurrentDispatcher,jl=qt.ReactCurrentBatchConfig,Wn=0,pe=null,_e=null,Me=null,ha=!1,hr=!1,Rr=0,P0=0;function Oe(){throw Error(I(321))}function Oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Dc(e,t,n,s,r,i){if(Wn=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fi.current=e===null||e.memoizedState===null?O0:D0,e=n(s,r),hr){i=0;do{if(hr=!1,Rr=0,25<=i)throw Error(I(301));i+=1,Me=_e=null,t.updateQueue=null,Fi.current=z0,e=n(s,r)}while(hr)}if(Fi.current=fa,t=_e!==null&&_e.next!==null,Wn=0,Me=_e=pe=null,ha=!1,t)throw Error(I(300));return e}function zc(){var e=Rr!==0;return Rr=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?pe.memoizedState=Me=e:Me=Me.next=e,Me}function ht(){if(_e===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Me===null?pe.memoizedState:Me.next;if(t!==null)Me=t,_e=e;else{if(e===null)throw Error(I(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Me===null?pe.memoizedState=Me=e:Me=Me.next=e}return Me}function Lr(e,t){return typeof t=="function"?t(e):t}function _l(e){var t=ht(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=_e,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Wn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=s):c=c.next=h,pe.lanes|=u,Un|=u}d=d.next}while(d!==null&&d!==i);c===null?l=s:c.next=o,jt(s,t.memoizedState)||(Ke=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,pe.lanes|=i,Un|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kl(e){var t=ht(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);jt(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function yp(){}function wp(e,t){var n=pe,s=ht(),r=t(),i=!jt(s.memoizedState,r);if(i&&(s.memoizedState=r,Ke=!0),s=s.queue,Ac(kp.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Or(9,_p.bind(null,n,s,r,t),void 0,null),Pe===null)throw Error(I(349));Wn&30||jp(n,t,r)}return r}function jp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _p(e,t,n,s){t.value=n,t.getSnapshot=s,Np(t)&&Sp(e)}function kp(e,t,n){return n(function(){Np(t)&&Sp(e)})}function Np(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Sp(e){var t=Vt(e,1);t!==null&&yt(t,e,1,-1)}function lu(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=L0.bind(null,pe,e),[t.memoizedState,e]}function Or(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Cp(){return ht().memoizedState}function Ii(e,t,n,s){var r=Ct();pe.flags|=e,r.memoizedState=Or(1|t,n,void 0,s===void 0?null:s)}function Fa(e,t,n,s){var r=ht();s=s===void 0?null:s;var i=void 0;if(_e!==null){var l=_e.memoizedState;if(i=l.destroy,s!==null&&Oc(s,l.deps)){r.memoizedState=Or(t,n,i,s);return}}pe.flags|=e,r.memoizedState=Or(1|t,n,i,s)}function ou(e,t){return Ii(8390656,8,e,t)}function Ac(e,t){return Fa(2048,8,e,t)}function Mp(e,t){return Fa(4,2,e,t)}function Ep(e,t){return Fa(4,4,e,t)}function Pp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tp(e,t,n){return n=n!=null?n.concat([e]):null,Fa(4,4,Pp.bind(null,t,e),n)}function Fc(){}function Rp(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Oc(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Lp(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Oc(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Op(e,t,n){return Wn&21?(jt(n,t)||(n=If(),pe.lanes|=n,Un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function T0(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var s=jl.transition;jl.transition={};try{e(!1),t()}finally{ne=n,jl.transition=s}}function Dp(){return ht().memoizedState}function R0(e,t,n){var s=xn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},zp(e))Ap(t,n);else if(n=gp(e,t,n,s),n!==null){var r=He();yt(n,e,s,r),Fp(n,t,s)}}function L0(e,t,n){var s=xn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(zp(e))Ap(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(r.hasEagerState=!0,r.eagerState=o,jt(o,l)){var c=t.interleaved;c===null?(r.next=r,Ec(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=gp(e,t,r,s),n!==null&&(r=He(),yt(n,e,s,r),Fp(n,t,s))}}function zp(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Ap(e,t){hr=ha=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fp(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mc(e,n)}}var fa={readContext:ut,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},O0={readContext:ut,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:ou,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ii(4194308,4,Pp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ct();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=R0.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:lu,useDebugValue:Fc,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=lu(!1),t=e[0];return e=T0.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=pe,r=Ct();if(he){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Pe===null)throw Error(I(349));Wn&30||jp(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,ou(kp.bind(null,s,i,e),[e]),s.flags|=2048,Or(9,_p.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Pe.identifierPrefix;if(he){var n=Bt,s=It;n=(s&~(1<<32-vt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=P0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D0={readContext:ut,useCallback:Rp,useContext:ut,useEffect:Ac,useImperativeHandle:Tp,useInsertionEffect:Mp,useLayoutEffect:Ep,useMemo:Lp,useReducer:_l,useRef:Cp,useState:function(){return _l(Lr)},useDebugValue:Fc,useDeferredValue:function(e){var t=ht();return Op(t,_e.memoizedState,e)},useTransition:function(){var e=_l(Lr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:yp,useSyncExternalStore:wp,useId:Dp,unstable_isNewReconciler:!1},z0={readContext:ut,useCallback:Rp,useContext:ut,useEffect:Ac,useImperativeHandle:Tp,useInsertionEffect:Mp,useLayoutEffect:Ep,useMemo:Lp,useReducer:kl,useRef:Cp,useState:function(){return kl(Lr)},useDebugValue:Fc,useDeferredValue:function(e){var t=ht();return _e===null?t.memoizedState=e:Op(t,_e.memoizedState,e)},useTransition:function(){var e=kl(Lr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:yp,useSyncExternalStore:wp,useId:Dp,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function So(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ia={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=He(),r=xn(e),i=$t(s,r);i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,r),t!==null&&(yt(t,e,r,s),Ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=He(),r=xn(e),i=$t(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,r),t!==null&&(yt(t,e,r,s),Ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),s=xn(e),r=$t(n,s);r.tag=2,t!=null&&(r.callback=t),t=pn(e,r,s),t!==null&&(yt(t,e,s,n),Ai(t,e,s))}};function cu(e,t,n,s,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!Sr(n,s)||!Sr(r,i):!0}function Ip(e,t,n){var s=!1,r=jn,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(r=Qe(t)?Hn:Ie.current,s=t.contextTypes,i=(s=s!=null)?_s(e,r):jn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ia,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function du(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ia.enqueueReplaceState(t,t.state,null)}function Co(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Pc(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=ut(i):(i=Qe(t)?Hn:Ie.current,r.context=_s(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(So(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ia.enqueueReplaceState(r,r.state,null),da(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Cs(e,t){try{var n="",s=t;do n+=dg(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function Nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A0=typeof WeakMap=="function"?WeakMap:Map;function Bp(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ma||(ma=!0,Fo=s),Mo(e,t)},n}function Hp(e,t,n){n=$t(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){Mo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mo(e,t),typeof s!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function uu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new A0;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=Q0.bind(null,e,t,n),t.then(e,e))}function hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fu(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var F0=qt.ReactCurrentOwner,Ke=!1;function Be(e,t,n,s){t.child=e===null?xp(t,null,n,s):Ns(t,e.child,n,s)}function pu(e,t,n,s,r){n=n.render;var i=t.ref;return xs(t,r),s=Dc(e,t,n,s,i,r),n=zc(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xt(e,t,r)):(he&&n&&_c(t),t.flags|=1,Be(e,t,s,r),t.child)}function mu(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Xc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,$p(e,t,i,s,r)):(e=Wi(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sr,n(l,s)&&e.ref===t.ref)return Xt(e,t,r)}return t.flags|=1,e=gn(i,s),e.ref=t.ref,e.return=t,t.child=e}function $p(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(Sr(i,s)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Xt(e,t,r)}return Eo(e,t,n,s,r)}function Wp(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(us,Ze),Ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(us,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,oe(us,Ze),Ze|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,oe(us,Ze),Ze|=s;return Be(e,t,r,n),t.child}function Up(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,s,r){var i=Qe(n)?Hn:Ie.current;return i=_s(t,i),xs(t,r),n=Dc(e,t,n,s,i,r),s=zc(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xt(e,t,r)):(he&&s&&_c(t),t.flags|=1,Be(e,t,n,r),t.child)}function xu(e,t,n,s,r){if(Qe(n)){var i=!0;ia(t)}else i=!1;if(xs(t,r),t.stateNode===null)Bi(e,t),Ip(t,n,s),Co(t,n,s,r),s=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=ut(d):(d=Qe(n)?Hn:Ie.current,d=_s(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||c!==d)&&du(t,l,s,d),en=!1;var f=t.memoizedState;l.state=f,da(t,s,l,r),c=t.memoizedState,o!==s||f!==c||Ge.current||en?(typeof u=="function"&&(So(t,n,u,s),c=t.memoizedState),(o=en||cu(t,n,o,s,f,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=d,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,bp(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:xt(t.type,o),l.props=d,h=t.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Qe(n)?Hn:Ie.current,c=_s(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&du(t,l,s,c),en=!1,f=t.memoizedState,l.state=f,da(t,s,l,r);var g=t.memoizedState;o!==h||f!==g||Ge.current||en?(typeof p=="function"&&(So(t,n,p,s),g=t.memoizedState),(d=en||cu(t,n,d,s,f,g,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,g,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),l.props=s,l.state=g,l.context=c,s=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Po(e,t,n,s,i,r)}function Po(e,t,n,s,r,i){Up(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return r&&tu(t,n,!1),Xt(e,t,i);s=t.stateNode,F0.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=Ns(t,e.child,null,i),t.child=Ns(t,null,o,i)):Be(e,t,o,i),t.memoizedState=s.state,r&&tu(t,n,!0),t.child}function Vp(e){var t=e.stateNode;t.pendingContext?eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eu(e,t.context,!1),Tc(e,t.containerInfo)}function gu(e,t,n,s,r){return ks(),Nc(r),t.flags|=256,Be(e,t,n,s),t.child}var To={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xp(e,t,n){var s=t.pendingProps,r=fe.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),oe(fe,r&1),e===null)return ko(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=$a(l,s,0,null),e=In(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ro(n),t.memoizedState=To,e):Ic(t,l));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return I0(e,t,l,s,o,r,n);if(i){i=s.fallback,l=t.mode,r=e.child,o=r.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=gn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=gn(o,i):(i=In(i,l,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=To,s}return i=e.child,e=i.sibling,s=gn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ic(e,t){return t=$a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ui(e,t,n,s){return s!==null&&Nc(s),Ns(t,e.child,null,n),e=Ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I0(e,t,n,s,r,i,l){if(n)return t.flags&256?(t.flags&=-257,s=Nl(Error(I(422))),ui(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=$a({mode:"visible",children:s.children},r,0,null),i=In(i,r,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Ns(t,e.child,null,l),t.child.memoizedState=Ro(l),t.memoizedState=To,i);if(!(t.mode&1))return ui(e,t,l,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(I(419)),s=Nl(i,s,void 0),ui(e,t,l,s)}if(o=(l&e.childLanes)!==0,Ke||o){if(s=Pe,s!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Vt(e,r),yt(s,e,r,-1))}return Vc(),s=Nl(Error(I(421))),ui(e,t,l,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=J0.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,et=fn(r.nextSibling),tt=t,he=!0,bt=null,e!==null&&(at[lt++]=It,at[lt++]=Bt,at[lt++]=$n,It=e.id,Bt=e.overflow,$n=t),t=Ic(t,s.children),t.flags|=4096,t)}function bu(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),No(e.return,t,n)}function Sl(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Yp(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(Be(e,t,s.children,n),s=fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bu(e,n,t);else if(e.tag===19)bu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(oe(fe,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ua(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Sl(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ua(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Sl(t,!0,n,null,i);break;case"together":Sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function B0(e,t,n){switch(t.tag){case 3:Vp(t),ks();break;case 5:vp(t);break;case 1:Qe(t.type)&&ia(t);break;case 4:Tc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;oe(oa,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(oe(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Xp(e,t,n):(oe(fe,fe.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);oe(fe,fe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Yp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),oe(fe,fe.current),s)break;return null;case 22:case 23:return t.lanes=0,Wp(e,t,n)}return Xt(e,t,n)}var Kp,Lo,qp,Gp;Kp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lo=function(){};qp=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,zn(Rt.current);var i=null;switch(n){case"input":r=eo(e,r),s=eo(e,s),i=[];break;case"select":r=me({},r,{value:void 0}),s=me({},s,{value:void 0}),i=[];break;case"textarea":r=so(e,r),s=so(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=sa)}io(n,s);var l;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var o=r[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(o=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Gp=function(e,t,n,s){n!==s&&(t.flags|=4)};function Us(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function H0(e,t,n){var s=t.pendingProps;switch(kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Qe(t.type)&&ra(),De(t),null;case 3:return s=t.stateNode,Ss(),ue(Ge),ue(Ie),Lc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(Ho(bt),bt=null))),Lo(e,t),De(t),null;case 5:Rc(t);var r=zn(Tr.current);if(n=t.type,e!==null&&t.stateNode!=null)qp(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return De(t),null}if(e=zn(Rt.current),ci(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Pt]=t,s[Er]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(r=0;r<tr.length;r++)ce(tr[r],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Cd(s,i),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ce("invalid",s);break;case"textarea":Ed(s,i),ce("invalid",s)}io(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&oi(s.textContent,o,e),r=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&oi(s.textContent,o,e),r=["children",""+o]):vr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ce("scroll",s)}switch(n){case"input":ei(s),Md(s,i,!0);break;case"textarea":ei(s),Pd(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=sa)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),n==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[Pt]=t,e[Er]=s,Kp(e,t,!1,!1),t.stateNode=e;e:{switch(l=ao(n,s),n){case"dialog":ce("cancel",e),ce("close",e),r=s;break;case"iframe":case"object":case"embed":ce("load",e),r=s;break;case"video":case"audio":for(r=0;r<tr.length;r++)ce(tr[r],e);r=s;break;case"source":ce("error",e),r=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),r=s;break;case"details":ce("toggle",e),r=s;break;case"input":Cd(e,s),r=eo(e,s),ce("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=me({},s,{value:void 0}),ce("invalid",e);break;case"textarea":Ed(e,s),r=so(e,s),ce("invalid",e);break;default:r=s}io(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Cf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yr(e,c):typeof c=="number"&&yr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&cc(e,i,c,l))}switch(n){case"input":ei(e),Md(e,s,!1);break;case"textarea":ei(e),Pd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+wn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?hs(e,!!s.multiple,i,!1):s.defaultValue!=null&&hs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=sa)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Gp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=zn(Tr.current),zn(Rt.current),ci(t)){if(s=t.stateNode,n=t.memoizedProps,s[Pt]=t,(i=s.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:oi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Pt]=t,t.stateNode=s}return De(t),null;case 13:if(ue(fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&et!==null&&t.mode&1&&!(t.flags&128))pp(),ks(),t.flags|=98560,i=!1;else if(i=ci(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Pt]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else bt!==null&&(Ho(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ne===0&&(Ne=3):Vc())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Ss(),Lo(e,t),e===null&&Cr(t.stateNode.containerInfo),De(t),null;case 10:return Mc(t.type._context),De(t),null;case 17:return Qe(t.type)&&ra(),De(t),null;case 19:if(ue(fe),i=t.memoizedState,i===null)return De(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)Us(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ua(e),l!==null){for(t.flags|=128,Us(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>Ms&&(t.flags|=128,s=!0,Us(i,!1),t.lanes=4194304)}else{if(!s)if(e=ua(l),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Us(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!he)return De(t),null}else 2*ve()-i.renderingStartTime>Ms&&n!==1073741824&&(t.flags|=128,s=!0,Us(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=fe.current,oe(fe,s?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Uc(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ze&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function $0(e,t){switch(kc(t),t.tag){case 1:return Qe(t.type)&&ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ss(),ue(Ge),ue(Ie),Lc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rc(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return Ss(),null;case 10:return Mc(t.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var hi=!1,Ae=!1,W0=typeof WeakSet=="function"?WeakSet:Set,$=null;function ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){xe(e,t,s)}else n.current=null}function Oo(e,t,n){try{n()}catch(s){xe(e,t,s)}}var vu=!1;function U0(e,t){if(go=ea,e=tp(),jc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(o=l+r),h!==i||s!==0&&h.nodeType!==3||(c=l+s),h.nodeType===3&&(l+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++d===r&&(o=l),f===i&&++u===s&&(c=l),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bo={focusedElem:e,selectionRange:n},ea=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:xt(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return g=vu,vu=!1,g}function fr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Oo(t,n,i)}r=r.next}while(r!==s)}}function Ba(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Do(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qp(e){var t=e.alternate;t!==null&&(e.alternate=null,Qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Er],delete t[wo],delete t[S0],delete t[C0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jp(e){return e.tag===5||e.tag===3||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sa));else if(s!==4&&(e=e.child,e!==null))for(zo(e,t,n),e=e.sibling;e!==null;)zo(e,t,n),e=e.sibling}function Ao(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ao(e,t,n),e=e.sibling;e!==null;)Ao(e,t,n),e=e.sibling}var Te=null,gt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Zp(e,t,n),n=n.sibling}function Zp(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ra,n)}catch{}switch(n.tag){case 5:Ae||ds(n,t);case 6:var s=Te,r=gt;Te=null,Qt(e,t,n),Te=s,gt=r,Te!==null&&(gt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(gt?(e=Te,n=n.stateNode,e.nodeType===8?vl(e.parentNode,n):e.nodeType===1&&vl(e,n),kr(e)):vl(Te,n.stateNode));break;case 4:s=Te,r=gt,Te=n.stateNode.containerInfo,gt=!0,Qt(e,t,n),Te=s,gt=r;break;case 0:case 11:case 14:case 15:if(!Ae&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Oo(n,t,l),r=r.next}while(r!==s)}Qt(e,t,n);break;case 1:if(!Ae&&(ds(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){xe(n,t,o)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Ae=(s=Ae)||n.memoizedState!==null,Qt(e,t,n),Ae=s):Qt(e,t,n);break;default:Qt(e,t,n)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new W0),t.forEach(function(s){var r=Z0.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Te=o.stateNode,gt=!1;break e;case 3:Te=o.stateNode.containerInfo,gt=!0;break e;case 4:Te=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(Te===null)throw Error(I(160));Zp(i,l,r),Te=null,gt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){xe(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)em(t,e),t=t.sibling}function em(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),_t(e),s&4){try{fr(3,e,e.return),Ba(3,e)}catch(v){xe(e,e.return,v)}try{fr(5,e,e.return)}catch(v){xe(e,e.return,v)}}break;case 1:mt(t,e),_t(e),s&512&&n!==null&&ds(n,n.return);break;case 5:if(mt(t,e),_t(e),s&512&&n!==null&&ds(n,n.return),e.flags&32){var r=e.stateNode;try{yr(r,"")}catch(v){xe(e,e.return,v)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&jf(r,i),ao(o,l);var d=ao(o,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?Cf(r,h):u==="dangerouslySetInnerHTML"?Nf(r,h):u==="children"?yr(r,h):cc(r,u,h,d)}switch(o){case"input":to(r,i);break;case"textarea":_f(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?hs(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?hs(r,!!i.multiple,i.defaultValue,!0):hs(r,!!i.multiple,i.multiple?[]:"",!1))}r[Er]=i}catch(v){xe(e,e.return,v)}}break;case 6:if(mt(t,e),_t(e),s&4){if(e.stateNode===null)throw Error(I(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(v){xe(e,e.return,v)}}break;case 3:if(mt(t,e),_t(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(v){xe(e,e.return,v)}break;case 4:mt(t,e),_t(e);break;case 13:mt(t,e),_t(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||($c=ve())),s&4&&wu(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(d=Ae)||u,mt(t,e),Ae=d):mt(t,e),_t(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(h=$=u;$!==null;){switch(f=$,p=f.child,f.tag){case 0:case 11:case 14:case 15:fr(4,f,f.return);break;case 1:ds(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){xe(s,n,v)}}break;case 5:ds(f,f.return);break;case 22:if(f.memoizedState!==null){_u(h);continue}}p!==null?(p.return=f,$=p):_u(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Sf("display",l))}catch(v){xe(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){xe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mt(t,e),_t(e),s&4&&wu(e);break;case 21:break;default:mt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jp(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(yr(r,""),s.flags&=-33);var i=yu(e);Ao(e,i,r);break;case 3:case 4:var l=s.stateNode.containerInfo,o=yu(e);zo(e,o,l);break;default:throw Error(I(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V0(e,t,n){$=e,tm(e)}function tm(e,t,n){for(var s=(e.mode&1)!==0;$!==null;){var r=$,i=r.child;if(r.tag===22&&s){var l=r.memoizedState!==null||hi;if(!l){var o=r.alternate,c=o!==null&&o.memoizedState!==null||Ae;o=hi;var d=Ae;if(hi=l,(Ae=c)&&!d)for($=r;$!==null;)l=$,c=l.child,l.tag===22&&l.memoizedState!==null?ku(r):c!==null?(c.return=l,$=c):ku(r);for(;i!==null;)$=i,tm(i),i=i.sibling;$=r,hi=o,Ae=d}ju(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,$=i):ju(e)}}function ju(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||Ba(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ae)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&au(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}au(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&kr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ae||t.flags&512&&Do(t)}catch(f){xe(t,t.return,f)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function _u(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function ku(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ba(4,t)}catch(c){xe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){xe(t,r,c)}}var i=t.return;try{Do(t)}catch(c){xe(t,i,c)}break;case 5:var l=t.return;try{Do(t)}catch(c){xe(t,l,c)}}}catch(c){xe(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var X0=Math.ceil,pa=qt.ReactCurrentDispatcher,Bc=qt.ReactCurrentOwner,dt=qt.ReactCurrentBatchConfig,J=0,Pe=null,we=null,Re=0,Ze=0,us=Nn(0),Ne=0,Dr=null,Un=0,Ha=0,Hc=0,pr=null,Xe=null,$c=0,Ms=1/0,zt=null,ma=!1,Fo=null,mn=null,fi=!1,rn=null,xa=0,mr=0,Io=null,Hi=-1,$i=0;function He(){return J&6?ve():Hi!==-1?Hi:Hi=ve()}function xn(e){return e.mode&1?J&2&&Re!==0?Re&-Re:E0.transition!==null?($i===0&&($i=If()),$i):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Xf(e.type)),e):1}function yt(e,t,n,s){if(50<mr)throw mr=0,Io=null,Error(I(185));Vr(e,n,s),(!(J&2)||e!==Pe)&&(e===Pe&&(!(J&2)&&(Ha|=n),Ne===4&&nn(e,Re)),Je(e,s),n===1&&J===0&&!(t.mode&1)&&(Ms=ve()+500,Aa&&Sn()))}function Je(e,t){var n=e.callbackNode;Eg(e,t);var s=Zi(e,e===Pe?Re:0);if(s===0)n!==null&&Ld(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ld(n),t===1)e.tag===0?M0(Nu.bind(null,e)):up(Nu.bind(null,e)),k0(function(){!(J&6)&&Sn()}),n=null;else{switch(Bf(s)){case 1:n=pc;break;case 4:n=Af;break;case 16:n=Ji;break;case 536870912:n=Ff;break;default:n=Ji}n=cm(n,nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nm(e,t){if(Hi=-1,$i=0,J&6)throw Error(I(327));var n=e.callbackNode;if(gs()&&e.callbackNode!==n)return null;var s=Zi(e,e===Pe?Re:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ga(e,s);else{t=s;var r=J;J|=2;var i=rm();(Pe!==e||Re!==t)&&(zt=null,Ms=ve()+500,Fn(e,t));do try{q0();break}catch(o){sm(e,o)}while(!0);Cc(),pa.current=i,J=r,we!==null?t=0:(Pe=null,Re=0,t=Ne)}if(t!==0){if(t===2&&(r=ho(e),r!==0&&(s=r,t=Bo(e,r))),t===1)throw n=Dr,Fn(e,0),nn(e,s),Je(e,ve()),n;if(t===6)nn(e,s);else{if(r=e.current.alternate,!(s&30)&&!Y0(r)&&(t=ga(e,s),t===2&&(i=ho(e),i!==0&&(s=i,t=Bo(e,i))),t===1))throw n=Dr,Fn(e,0),nn(e,s),Je(e,ve()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:Rn(e,Xe,zt);break;case 3:if(nn(e,s),(s&130023424)===s&&(t=$c+500-ve(),10<t)){if(Zi(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){He(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=yo(Rn.bind(null,e,Xe,zt),t);break}Rn(e,Xe,zt);break;case 4:if(nn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var l=31-vt(s);i=1<<l,l=t[l],l>r&&(r=l),s&=~i}if(s=r,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*X0(s/1960))-s,10<s){e.timeoutHandle=yo(Rn.bind(null,e,Xe,zt),s);break}Rn(e,Xe,zt);break;case 5:Rn(e,Xe,zt);break;default:throw Error(I(329))}}}return Je(e,ve()),e.callbackNode===n?nm.bind(null,e):null}function Bo(e,t){var n=pr;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=ga(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Ho(t)),e}function Ho(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function Y0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!jt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Hc,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),s=1<<n;e[n]=-1,t&=~s}}function Nu(e){if(J&6)throw Error(I(327));gs();var t=Zi(e,0);if(!(t&1))return Je(e,ve()),null;var n=ga(e,t);if(e.tag!==0&&n===2){var s=ho(e);s!==0&&(t=s,n=Bo(e,s))}if(n===1)throw n=Dr,Fn(e,0),nn(e,t),Je(e,ve()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,Xe,zt),Je(e,ve()),null}function Wc(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Ms=ve()+500,Aa&&Sn())}}function Vn(e){rn!==null&&rn.tag===0&&!(J&6)&&gs();var t=J;J|=1;var n=dt.transition,s=ne;try{if(dt.transition=null,ne=1,e)return e()}finally{ne=s,dt.transition=n,J=t,!(J&6)&&Sn()}}function Uc(){Ze=us.current,ue(us)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_0(n)),we!==null)for(n=we.return;n!==null;){var s=n;switch(kc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ra();break;case 3:Ss(),ue(Ge),ue(Ie),Lc();break;case 5:Rc(s);break;case 4:Ss();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:Mc(s.type._context);break;case 22:case 23:Uc()}n=n.return}if(Pe=e,we=e=gn(e.current,null),Re=Ze=t,Ne=0,Dr=null,Hc=Ha=Un=0,Xe=pr=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,s.next=l}n.pending=s}Dn=null}return e}function sm(e,t){do{var n=we;try{if(Cc(),Fi.current=fa,ha){for(var s=pe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ha=!1}if(Wn=0,Me=_e=pe=null,hr=!1,Rr=0,Bc.current=null,n===null||n.return===null){Ne=1,Dr=t,we=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=Re,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=hu(l);if(p!==null){p.flags&=-257,fu(p,l,o,i,t),p.mode&1&&uu(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){uu(i,d,t),Vc();break e}c=Error(I(426))}}else if(he&&o.mode&1){var b=hu(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fu(b,l,o,i,t),Nc(Cs(c,o));break e}}i=c=Cs(c,o),Ne!==4&&(Ne=2),pr===null?pr=[i]:pr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Bp(i,c,t);iu(i,x);break e;case 1:o=c;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mn===null||!mn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Hp(i,o,t);iu(i,w);break e}}i=i.return}while(i!==null)}am(n)}catch(_){t=_,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function rm(){var e=pa.current;return pa.current=fa,e===null?fa:e}function Vc(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Pe===null||!(Un&268435455)&&!(Ha&268435455)||nn(Pe,Re)}function ga(e,t){var n=J;J|=2;var s=rm();(Pe!==e||Re!==t)&&(zt=null,Fn(e,t));do try{K0();break}catch(r){sm(e,r)}while(!0);if(Cc(),J=n,pa.current=s,we!==null)throw Error(I(261));return Pe=null,Re=0,Ne}function K0(){for(;we!==null;)im(we)}function q0(){for(;we!==null&&!yg();)im(we)}function im(e){var t=om(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?am(e):we=t,Bc.current=null}function am(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$0(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,we=null;return}}else if(n=H0(n,t,Ze),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ne===0&&(Ne=5)}function Rn(e,t,n){var s=ne,r=dt.transition;try{dt.transition=null,ne=1,G0(e,t,n,s)}finally{dt.transition=r,ne=s}return null}function G0(e,t,n,s){do gs();while(rn!==null);if(J&6)throw Error(I(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Pg(e,i),e===Pe&&(we=Pe=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fi||(fi=!0,cm(Ji,function(){return gs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var l=ne;ne=1;var o=J;J|=4,Bc.current=null,U0(e,n),em(n,e),x0(bo),ea=!!go,bo=go=null,e.current=n,V0(n),wg(),J=o,ne=l,dt.transition=i}else e.current=n;if(fi&&(fi=!1,rn=e,xa=r),i=e.pendingLanes,i===0&&(mn=null),kg(n.stateNode),Je(e,ve()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(ma)throw ma=!1,e=Fo,Fo=null,e;return xa&1&&e.tag!==0&&gs(),i=e.pendingLanes,i&1?e===Io?mr++:(mr=0,Io=e):mr=0,Sn(),null}function gs(){if(rn!==null){var e=Bf(xa),t=dt.transition,n=ne;try{if(dt.transition=null,ne=16>e?16:e,rn===null)var s=!1;else{if(e=rn,rn=null,xa=0,J&6)throw Error(I(331));var r=J;for(J|=4,$=e.current;$!==null;){var i=$,l=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:fr(8,u,i)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var f=u.sibling,p=u.return;if(Qp(u),u===d){$=null;break}if(f!==null){f.return=p,$=f;break}$=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}$=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,$=l;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fr(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,$=x;break e}$=i.return}}var m=e.current;for($=m;$!==null;){l=$;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,$=y;else e:for(l=m;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ba(9,o)}}catch(_){xe(o,o.return,_)}if(o===l){$=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,$=w;break e}$=o.return}}if(J=r,Sn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ra,e)}catch{}s=!0}return s}finally{ne=n,dt.transition=t}}return!1}function Su(e,t,n){t=Cs(n,t),t=Bp(e,t,1),e=pn(e,t,1),t=He(),e!==null&&(Vr(e,1,t),Je(e,t))}function xe(e,t,n){if(e.tag===3)Su(e,e,n);else for(;t!==null;){if(t.tag===3){Su(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mn===null||!mn.has(s))){e=Cs(n,e),e=Hp(t,e,1),t=pn(t,e,1),e=He(),t!==null&&(Vr(t,1,e),Je(t,e));break}}t=t.return}}function Q0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Re&n)===n&&(Ne===4||Ne===3&&(Re&130023424)===Re&&500>ve()-$c?Fn(e,0):Hc|=n),Je(e,t)}function lm(e,t){t===0&&(e.mode&1?(t=si,si<<=1,!(si&130023424)&&(si=4194304)):t=1);var n=He();e=Vt(e,t),e!==null&&(Vr(e,t,n),Je(e,n))}function J0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lm(e,n)}function Z0(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),lm(e,n)}var om;om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,B0(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,he&&t.flags&1048576&&hp(t,la,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Bi(e,t),e=t.pendingProps;var r=_s(t,Ie.current);xs(t,n),r=Dc(null,t,s,e,r,n);var i=zc();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(s)?(i=!0,ia(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Pc(t),r.updater=Ia,t.stateNode=r,r._reactInternals=t,Co(t,s,e,n),t=Po(null,t,s,!0,i,n)):(t.tag=0,he&&i&&_c(t),Be(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=tb(s),e=xt(s,e),r){case 0:t=Eo(null,t,s,e,n);break e;case 1:t=xu(null,t,s,e,n);break e;case 11:t=pu(null,t,s,e,n);break e;case 14:t=mu(null,t,s,xt(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:xt(s,r),Eo(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:xt(s,r),xu(e,t,s,r,n);case 3:e:{if(Vp(t),e===null)throw Error(I(387));s=t.pendingProps,i=t.memoizedState,r=i.element,bp(e,t),da(t,s,null,n);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Cs(Error(I(423)),t),t=gu(e,t,s,n,r);break e}else if(s!==r){r=Cs(Error(I(424)),t),t=gu(e,t,s,n,r);break e}else for(et=fn(t.stateNode.containerInfo.firstChild),tt=t,he=!0,bt=null,n=xp(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),s===r){t=Xt(e,t,n);break e}Be(e,t,s,n)}t=t.child}return t;case 5:return vp(t),e===null&&ko(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,vo(s,r)?l=null:i!==null&&vo(s,i)&&(t.flags|=32),Up(e,t),Be(e,t,l,n),t.child;case 6:return e===null&&ko(t),null;case 13:return Xp(e,t,n);case 4:return Tc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ns(t,null,s,n):Be(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:xt(s,r),pu(e,t,s,r,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,oe(oa,s._currentValue),s._currentValue=l,i!==null)if(jt(i.value,l)){if(i.children===r.children&&!Ge.current){t=Xt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=$t(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),No(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(I(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),No(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Be(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,xs(t,n),r=ut(r),s=s(r),t.flags|=1,Be(e,t,s,n),t.child;case 14:return s=t.type,r=xt(s,t.pendingProps),r=xt(s.type,r),mu(e,t,s,r,n);case 15:return $p(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:xt(s,r),Bi(e,t),t.tag=1,Qe(s)?(e=!0,ia(t)):e=!1,xs(t,n),Ip(t,s,r),Co(t,s,r,n),Po(null,t,s,!0,e,n);case 19:return Yp(e,t,n);case 22:return Wp(e,t,n)}throw Error(I(156,t.tag))};function cm(e,t){return zf(e,t)}function eb(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,s){return new eb(e,t,n,s)}function Xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tb(e){if(typeof e=="function")return Xc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uc)return 11;if(e===hc)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,s,r,i){var l=2;if(s=e,typeof e=="function")Xc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ts:return In(n.children,r,i,t);case dc:l=8,r|=8;break;case Gl:return e=ot(12,n,t,r|2),e.elementType=Gl,e.lanes=i,e;case Ql:return e=ot(13,n,t,r),e.elementType=Ql,e.lanes=i,e;case Jl:return e=ot(19,n,t,r),e.elementType=Jl,e.lanes=i,e;case vf:return $a(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gf:l=10;break e;case bf:l=9;break e;case uc:l=11;break e;case hc:l=14;break e;case Zt:l=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=ot(l,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function In(e,t,n,s){return e=ot(7,e,s,t),e.lanes=n,e}function $a(e,t,n,s){return e=ot(22,e,s,t),e.elementType=vf,e.lanes=n,e.stateNode={isHidden:!1},e}function Cl(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function Ml(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nb(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,s,r,i,l,o,c){return e=new nb(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(i),e}function sb(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function dm(e){if(!e)return jn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Qe(n))return dp(e,n,t)}return t}function um(e,t,n,s,r,i,l,o,c){return e=Yc(n,s,!0,e,r,i,l,o,c),e.context=dm(null),n=e.current,s=He(),r=xn(n),i=$t(s,r),i.callback=t??null,pn(n,i,r),e.current.lanes=r,Vr(e,r,s),Je(e,s),e}function Wa(e,t,n,s){var r=t.current,i=He(),l=xn(r);return n=dm(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=pn(r,t,l),e!==null&&(yt(e,r,l,i),Ai(e,r,l)),l}function ba(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kc(e,t){Cu(e,t),(e=e.alternate)&&Cu(e,t)}function rb(){return null}var hm=typeof reportError=="function"?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}Ua.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Wa(e,t,null,null)};Ua.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vn(function(){Wa(null,e,null,null)}),t[Ut]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&Vf(e)}};function Gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mu(){}function ib(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=ba(l);i.call(d)}}var l=um(t,s,e,0,null,!1,!1,"",Mu);return e._reactRootContainer=l,e[Ut]=l.current,Cr(e.nodeType===8?e.parentNode:e),Vn(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var o=s;s=function(){var d=ba(c);o.call(d)}}var c=Yc(e,0,!1,null,null,!1,!1,"",Mu);return e._reactRootContainer=c,e[Ut]=c.current,Cr(e.nodeType===8?e.parentNode:e),Vn(function(){Wa(t,c,n,s)}),c}function Xa(e,t,n,s,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var o=r;r=function(){var c=ba(l);o.call(c)}}Wa(t,l,e,r)}else l=ib(n,t,e,r,s);return ba(l)}Hf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=er(t.pendingLanes);n!==0&&(mc(t,n|1),Je(t,ve()),!(J&6)&&(Ms=ve()+500,Sn()))}break;case 13:Vn(function(){var s=Vt(e,1);if(s!==null){var r=He();yt(s,e,1,r)}}),Kc(e,1)}};xc=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=He();yt(t,e,134217728,n)}Kc(e,134217728)}};$f=function(e){if(e.tag===13){var t=xn(e),n=Vt(e,t);if(n!==null){var s=He();yt(n,e,t,s)}Kc(e,t)}};Wf=function(){return ne};Uf=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};oo=function(e,t,n){switch(t){case"input":if(to(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=za(s);if(!r)throw Error(I(90));wf(s),to(s,r)}}}break;case"textarea":_f(e,n);break;case"select":t=n.value,t!=null&&hs(e,!!n.multiple,t,!1)}};Pf=Wc;Tf=Vn;var ab={usingClientEntryPoint:!1,Events:[Yr,is,za,Mf,Ef,Wc]},Vs={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lb={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Of(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||rb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{Ra=pi.inject(lb),Tt=pi}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(t))throw Error(I(200));return sb(e,t,null,n)};st.createRoot=function(e,t){if(!Gc(e))throw Error(I(299));var n=!1,s="",r=hm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Yc(e,1,!1,null,null,n,!1,s,r),e[Ut]=t.current,Cr(e.nodeType===8?e.parentNode:e),new qc(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Of(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Vn(e)};st.hydrate=function(e,t,n){if(!Va(t))throw Error(I(200));return Xa(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",l=hm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=um(t,null,e,1,n??null,r,!1,i,l),e[Ut]=t.current,Cr(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ua(t)};st.render=function(e,t,n){if(!Va(t))throw Error(I(200));return Xa(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Va(e))throw Error(I(40));return e._reactRootContainer?(Vn(function(){Xa(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};st.unstable_batchedUpdates=Wc;st.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Va(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Xa(e,t,n,!1,s)};st.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(e){console.error(e)}}fm(),ff.exports=st;var ob=ff.exports,Eu=ob;Kl.createRoot=Eu.createRoot,Kl.hydrateRoot=Eu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zr.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const Pu="popstate";function cb(e){e===void 0&&(e={});function t(s,r){let{pathname:i,search:l,hash:o}=s.location;return $o("",{pathname:i,search:l,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:va(r)}return ub(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function db(){return Math.random().toString(36).substr(2,8)}function Tu(e,t){return{usr:e.state,key:e.key,idx:t}}function $o(e,t,n,s){return n===void 0&&(n=null),zr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Os(t):t,{state:n,key:t&&t.key||s||db()})}function va(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Os(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ub(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,l=r.history,o=an.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(zr({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=an.Pop;let b=u(),x=b==null?null:b-d;d=b,c&&c({action:o,location:v.location,delta:x})}function f(b,x){o=an.Push;let m=$o(v.location,b,x);d=u()+1;let y=Tu(m,d),w=v.createHref(m);try{l.pushState(y,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;r.location.assign(w)}i&&c&&c({action:o,location:v.location,delta:1})}function p(b,x){o=an.Replace;let m=$o(v.location,b,x);d=u();let y=Tu(m,d),w=v.createHref(m);l.replaceState(y,"",w),i&&c&&c({action:o,location:v.location,delta:0})}function g(b){let x=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof b=="string"?b:va(b);return m=m.replace(/ $/,"%20"),ge(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let v={get action(){return o},get location(){return e(r,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Pu,h),c=b,()=>{r.removeEventListener(Pu,h),c=null}},createHref(b){return t(r,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(b){return l.go(b)}};return v}var Ru;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ru||(Ru={}));function hb(e,t,n){return n===void 0&&(n="/"),fb(e,t,n)}function fb(e,t,n,s){let r=typeof t=="string"?Os(t):t,i=Es(r.pathname||"/",n);if(i==null)return null;let l=pm(e);pb(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Nb(i);o=_b(l[c],d)}return o}function pm(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(ge(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=bn([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),pm(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:wb(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,l);else for(let c of mm(i.path))r(i,l,c)}),t}function mm(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let l=mm(s.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),r&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function pb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const mb=/^:[\w-]+$/,xb=3,gb=2,bb=1,vb=10,yb=-2,Lu=e=>e==="*";function wb(e,t){let n=e.split("/"),s=n.length;return n.some(Lu)&&(s+=yb),t&&(s+=gb),n.filter(r=>!Lu(r)).reduce((r,i)=>r+(mb.test(i)?xb:i===""?bb:vb),s)}function jb(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function _b(e,t,n){let{routesMeta:s}=e,r={},i="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],d=o===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Wo({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(r,h.params),l.push({params:r,pathname:bn([i,h.pathname]),pathnameBase:Pb(bn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=bn([i,h.pathnameBase]))}return l}function Wo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=kb(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=o[h]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function kb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Qc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function Nb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Es(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const Sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cb=e=>Sb.test(e);function Mb(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Os(e):e,i;if(n)if(Cb(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Qc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=Ou(n.substring(1),"/"):i=Ou(n,t)}else i=t;return{pathname:i,search:Tb(s),hash:Rb(r)}}function Ou(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function El(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Eb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xm(e,t){let n=Eb(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function gm(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Os(e):(r=zr({},e),ge(!r.pathname||!r.pathname.includes("?"),El("?","pathname","search",r)),ge(!r.pathname||!r.pathname.includes("#"),El("#","pathname","hash",r)),ge(!r.search||!r.search.includes("#"),El("#","search","hash",r)));let i=e===""||r.pathname==="",l=i?"/":r.pathname,o;if(l==null)o=n;else{let h=t.length-1;if(!s&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=Mb(r,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const bn=e=>e.join("/").replace(/\/\/+/g,"/"),Pb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bm=["post","put","patch","delete"];new Set(bm);const Ob=["get",...bm];new Set(Ob);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ar.apply(this,arguments)}const Ya=j.createContext(null),vm=j.createContext(null),Cn=j.createContext(null),Ka=j.createContext(null),Gt=j.createContext({outlet:null,matches:[],isDataRoute:!1}),ym=j.createContext(null);function Db(e,t){let{relative:n}=t===void 0?{}:t;qr()||ge(!1);let{basename:s,navigator:r}=j.useContext(Cn),{hash:i,pathname:l,search:o}=qa(e,{relative:n}),c=l;return s!=="/"&&(c=l==="/"?s:bn([s,l])),r.createHref({pathname:c,search:o,hash:i})}function qr(){return j.useContext(Ka)!=null}function Ds(){return qr()||ge(!1),j.useContext(Ka).location}function wm(e){j.useContext(Cn).static||j.useLayoutEffect(e)}function Gn(){let{isDataRoute:e}=j.useContext(Gt);return e?Gb():zb()}function zb(){qr()||ge(!1);let e=j.useContext(Ya),{basename:t,future:n,navigator:s}=j.useContext(Cn),{matches:r}=j.useContext(Gt),{pathname:i}=Ds(),l=JSON.stringify(xm(r,n.v7_relativeSplatPath)),o=j.useRef(!1);return wm(()=>{o.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){s.go(d);return}let h=gm(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:bn([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,l,i,e])}const Ab=j.createContext(null);function Fb(e){let t=j.useContext(Gt).outlet;return t&&j.createElement(Ab.Provider,{value:e},t)}function Jc(){let{matches:e}=j.useContext(Gt),t=e[e.length-1];return t?t.params:{}}function qa(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=j.useContext(Cn),{matches:r}=j.useContext(Gt),{pathname:i}=Ds(),l=JSON.stringify(xm(r,s.v7_relativeSplatPath));return j.useMemo(()=>gm(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function Ib(e,t){return Bb(e,t)}function Bb(e,t,n,s){qr()||ge(!1);let{navigator:r}=j.useContext(Cn),{matches:i}=j.useContext(Gt),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Ds(),u;if(t){var h;let b=typeof t=="string"?Os(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||ge(!1),u=b}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=hb(e,{pathname:p}),v=Vb(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:bn([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:bn([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,s);return t&&v?j.createElement(Ka.Provider,{value:{location:Ar({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:an.Pop}},v):v}function Hb(){let e=qb(),t=Lb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:r},n):null,null)}const $b=j.createElement(Hb,null);class Wb extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(Gt.Provider,{value:this.props.routeContext},j.createElement(ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ub(e){let{routeContext:t,match:n,children:s}=e,r=j.useContext(Ya);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Gt.Provider,{value:t},s)}function Vb(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||ge(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,f)=>{let p,g=!1,v=null,b=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||$b,c&&(d<0&&f===0?(Qb("route-fallback"),g=!0,b=null):d===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,f+1)),m=()=>{let y;return p?y=v:g?y=b:h.route.Component?y=j.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,j.createElement(Ub,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(Wb,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var jm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jm||{}),_m=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_m||{});function Xb(e){let t=j.useContext(Ya);return t||ge(!1),t}function Yb(e){let t=j.useContext(vm);return t||ge(!1),t}function Kb(e){let t=j.useContext(Gt);return t||ge(!1),t}function km(e){let t=Kb(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function qb(){var e;let t=j.useContext(ym),n=Yb(),s=km();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Gb(){let{router:e}=Xb(jm.UseNavigateStable),t=km(_m.UseNavigateStable),n=j.useRef(!1);return wm(()=>{n.current=!0}),j.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ar({fromRouteId:t},i)))},[e,t])}const Du={};function Qb(e,t,n){Du[e]||(Du[e]=!0)}function Jb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zb(e){return Fb(e.context)}function re(e){ge(!1)}function ev(e){let{basename:t="/",children:n=null,location:s,navigationType:r=an.Pop,navigator:i,static:l=!1,future:o}=e;qr()&&ge(!1);let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:i,static:l,future:Ar({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof s=="string"&&(s=Os(s));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=s,v=j.useMemo(()=>{let b=Es(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:r}},[c,u,h,f,p,g,r]);return v==null?null:j.createElement(Cn.Provider,{value:d},j.createElement(Ka.Provider,{children:n,value:v}))}function tv(e){let{children:t,location:n}=e;return Ib(Uo(t),n)}new Promise(()=>{});function Uo(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(s,r)=>{if(!j.isValidElement(s))return;let i=[...t,r];if(s.type===j.Fragment){n.push.apply(n,Uo(s.props.children,i));return}s.type!==re&&ge(!1),!s.props.index||!s.props.children||ge(!1);let l={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Uo(s.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ya.apply(this,arguments)}function Nm(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function nv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sv(e,t){return e.button===0&&(!t||t==="_self")&&!nv(e)}function Vo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function rv(e,t){let n=Vo(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}const iv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],av=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],lv="6";try{window.__reactRouterVersion=lv}catch{}const ov=j.createContext({isTransitioning:!1}),cv="startTransition",zu=Qx[cv];function dv(e){let{basename:t,children:n,future:s,window:r}=e,i=j.useRef();i.current==null&&(i.current=cb({window:r,v5Compat:!0}));let l=i.current,[o,c]=j.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},u=j.useCallback(h=>{d&&zu?zu(()=>c(h)):c(h)},[c,d]);return j.useLayoutEffect(()=>l.listen(u),[l,u]),j.useEffect(()=>Jb(s),[s]),j.createElement(ev,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:s})}const uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=j.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Nm(t,iv),{basename:p}=j.useContext(Cn),g,v=!1;if(typeof d=="string"&&hv.test(d)&&(g=d,uv))try{let y=new URL(window.location.href),w=d.startsWith("//")?new URL(y.protocol+d):new URL(d),_=Es(w.pathname,p);w.origin===y.origin&&_!=null?d=_+w.search+w.hash:v=!0}catch{}let b=Db(d,{relative:r}),x=pv(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:h});function m(y){s&&s(y),y.defaultPrevented||x(y)}return j.createElement("a",ya({},f,{href:g||b,onClick:v||i?s:m,ref:n,target:c}))}),Ue=j.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=t,h=Nm(t,av),f=qa(c,{relative:h.relative}),p=Ds(),g=j.useContext(vm),{navigator:v,basename:b}=j.useContext(Cn),x=g!=null&&xv(f)&&d===!0,m=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&b&&(w=Es(w,b)||w);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!l&&y.startsWith(m)&&y.charAt(_)==="/",C=w!=null&&(w===m||!l&&w.startsWith(m)&&w.charAt(m.length)==="/"),E={isActive:S,isPending:C,isTransitioning:x},A=S?s:void 0,z;typeof i=="function"?z=i(E):z=[i,S?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(E):o;return j.createElement(Ee,ya({},h,{"aria-current":A,className:z,ref:n,style:R,to:c,viewTransition:d}),typeof u=="function"?u(E):u)});var Xo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xo||(Xo={}));var Au;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Au||(Au={}));function fv(e){let t=j.useContext(Ya);return t||ge(!1),t}function pv(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=Gn(),d=Ds(),u=qa(e,{relative:l});return j.useCallback(h=>{if(sv(h,n)){h.preventDefault();let f=s!==void 0?s:va(d)===va(u);c(e,{replace:f,state:r,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,s,r,n,e,i,l,o])}function mv(e){let t=j.useRef(Vo(e)),n=j.useRef(!1),s=Ds(),r=j.useMemo(()=>rv(s.search,n.current?null:t.current),[s.search]),i=Gn(),l=j.useCallback((o,c)=>{const d=Vo(typeof o=="function"?o(r):o);n.current=!0,i("?"+d,c)},[i,r]);return[r,l]}function xv(e,t){t===void 0&&(t={});let n=j.useContext(ov);n==null&&ge(!1);let{basename:s}=fv(Xo.useViewTransitionState),r=qa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Es(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=Es(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wo(r.pathname,l)!=null||Wo(r.pathname,i)!=null}const Sm=j.createContext(null),gv=({children:e})=>{const[t,n]=j.useState(null),[s,r]=j.useState(!0),i=async()=>{try{const o=await fetch("/api/me/");if(o.ok){const c=await o.json();n(c),c.is_banned}else n(null)}catch(o){console.error("Failed to fetch user:",o),n(null)}finally{r(!1)}};j.useEffect(()=>{i()},[]);const l=async()=>i();return a.jsx(Sm.Provider,{value:{user:t,loading:s,refreshUser:l},children:e})},Cm=()=>j.useContext(Sm);function Mm(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Mm(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function K(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Mm(e))&&(s&&(s+=" "),s+=t);return s}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const n=j.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>j.createElement("svg",{ref:u,...bv,width:r,height:r,stroke:s,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${vv(e)}`,o].join(" "),...d},[...t.map(([h,f])=>j.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=X("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=X("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=X("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=X("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=X("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=X("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=X("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=X("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=X("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=X("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=X("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=X("Scroll",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=X("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=X("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=X("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Iv=({children:e})=>{const[t,n]=j.useState("default"),{user:s}=Cm();j.useEffect(()=>{const i=document.cookie.match(new RegExp("(^| )site_theme=([^;]+)"));i&&n(i[2]),document.body.classList.remove("theme-default","theme-caldari","theme-gallente","theme-amarr","theme-light"),document.body.classList.add(`theme-${t}`)},[t]);const r=i=>{n(i);const l=new Date;l.setTime(l.getTime()+365*24*60*60*1e3),document.cookie=`site_theme=${i};expires=${l.toUTCString()};path=/`};return a.jsxs("div",{className:"flex flex-col h-full overflow-hidden text-slate-300",children:[a.jsx("nav",{className:"glass-header z-50 flex-shrink-0 relative",children:a.jsxs("div",{className:"container mx-auto px-4 h-16 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs(Ee,{to:"/",className:"flex items-center gap-3 group",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-brand-400 to-brand-600 flex items-center justify-center text-slate-900 font-bold text-xl shadow-lg shadow-brand-500/20 group-hover:scale-105 transition",children:"W"}),a.jsx("span",{className:"text-xl font-bold text-white tracking-tight group-hover:text-brand-400 transition",children:"WarpToMe"})]}),s&&(s.is_staff||s.is_superuser)&&a.jsx("span",{className:"badge badge-red hidden md:inline-block",children:"System Admin"}),a.jsx("div",{className:"hidden md:flex items-center gap-1 border-l border-white/10 pl-6 h-8",children:a.jsx(Ee,{to:"/doctrines",className:"px-3 py-1.5 rounded-md text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 transition",children:"Doctrines"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-brand-400 transition rounded-full hover:bg-white/5 relative z-10 pb-4 mb-[-1rem]",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),a.jsx("div",{className:"absolute right-0 pt-2 w-48 hidden group-hover:block z-50",children:a.jsx("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl overflow-hidden",children:a.jsxs("div",{className:"p-2 space-y-1",children:[a.jsx("div",{className:"px-3 py-1 text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Mode"}),a.jsxs("button",{onClick:()=>r("light"),className:"flex items-center gap-3 w-full text-left px-3 py-2 rounded hover:bg-white/5 text-xs text-slate-300 hover:text-white transition",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-slate-200 border border-slate-400"})," Light Mode"]}),a.jsx("div",{className:"px-3 py-1 mt-2 text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Faction"}),a.jsxs("button",{onClick:()=>r("default"),className:"flex items-center gap-3 w-full text-left px-3 py-2 rounded hover:bg-white/5 text-xs text-slate-300 hover:text-white transition",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-orange-700"})," Minmatar (Rust)"]}),a.jsxs("button",{onClick:()=>r("caldari"),className:"flex items-center gap-3 w-full text-left px-3 py-2 rounded hover:bg-white/5 text-xs text-slate-300 hover:text-white transition",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"})," Caldari (Steel)"]}),a.jsxs("button",{onClick:()=>r("gallente"),className:"flex items-center gap-3 w-full text-left px-3 py-2 rounded hover:bg-white/5 text-xs text-slate-300 hover:text-white transition",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-emerald-600"})," Gallente (Teal)"]}),a.jsxs("button",{onClick:()=>r("amarr"),className:"flex items-center gap-3 w-full text-left px-3 py-2 rounded hover:bg-white/5 text-xs text-slate-300 hover:text-white transition",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-600"})," Amarr (Gold)"]})]})})})]}),s?a.jsxs(a.Fragment,{children:[s.navbar_char&&a.jsxs(Ee,{to:"/profile",className:"flex items-center gap-3 pl-1 pr-3 py-1 rounded-full border border-slate-700/50 bg-slate-800/50 hover:bg-slate-700 hover:border-brand-500/50 transition group",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${s.navbar_char.character_id}/portrait?size=64`,className:"w-8 h-8 rounded-full border border-slate-600 group-hover:border-brand-400 transition",alt:"Portrait"}),a.jsxs("div",{className:"flex flex-col text-left",children:[a.jsx("span",{className:"text-xs font-bold text-white leading-none",children:s.navbar_char.character_name}),a.jsx("span",{className:K("text-[10px] leading-none mt-0.5",s.navbar_char.is_main?"text-brand-400":"text-slate-500"),children:s.navbar_char.is_main?"MAIN":"ALT"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-white/10 ml-2",children:[s.is_management&&a.jsx(Ee,{to:"/management",className:"btn-ghost p-2",title:"Management Console",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),a.jsx("a",{href:"/auth/logout/",className:"btn-ghost text-xs font-bold uppercase tracking-wider",children:"Logout"})]})]}):a.jsx("a",{href:"/auth/login/",className:"btn-primary py-1.5 text-sm",children:a.jsx("span",{children:"Log In"})})]})]})}),a.jsx("main",{className:"flex-1 relative overflow-hidden flex flex-col",id:"main-content",children:e}),a.jsx(Bv,{user:s})]})},Bv=({user:e})=>{const[t,n]=j.useState({});return j.useEffect(()=>{if(!e)return;const r=`${window.location.protocol==="https:"?"wss://":"ws://"}${window.location.host}/ws/user/notify/`,i=new WebSocket(r);return i.onmessage=l=>{const o=JSON.parse(l.data);o.type==="ratelimit"&&n(c=>({...c,[o.bucket]:o}))},()=>i.close()},[e]),a.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 items-end pointer-events-none",children:Object.values(t).map(s=>a.jsx(Hv,{data:s},s.bucket))})},Hv=({data:e})=>{const t=e.remaining/e.limit*100;let n="bg-green-500";return t<50&&(n="bg-yellow-500"),t<20&&(n="bg-red-500"),a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur border border-white/10 p-2 rounded-lg shadow-xl w-48 pointer-events-auto animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-end mb-1",children:[a.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:e.bucket.toUpperCase()}),a.jsx("span",{className:"text-[10px] font-mono text-white font-bold ml-4",children:e.remaining})]}),a.jsx("div",{className:"w-full h-1.5 bg-dark-900 rounded-full overflow-hidden border border-white/10",children:a.jsx("div",{className:`h-full ${n} transition-all duration-500 ease-out shadow-[0_0_8px_rgba(255,255,255,0.2)]`,style:{width:`${t}%`}})})]})},Bu=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),[r,i]=j.useState(!1),l=Gn();return j.useEffect(()=>{fetch("/api/landing/").then(o=>o.json()).then(o=>{o.should_redirect&&o.redirect_token&&l(`/fleet/${o.redirect_token}`),t(o.active_fleets||[]),i(o.is_authenticated),s(!1)}).catch(o=>{console.error(o),s(!1)})},[l]),n?a.jsx("div",{className:"p-10 text-center animate-pulse text-slate-500",children:"Loading..."}):a.jsx("div",{className:"absolute inset-0 overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"container mx-auto p-8 flex flex-col items-center justify-center text-center min-h-[80vh]",children:[a.jsx("div",{className:"mb-12 relative",children:a.jsx("div",{className:"absolute -inset-10 bg-brand-500/20 blur-[100px] rounded-full pointer-events-none"})}),r?a.jsxs("div",{className:"w-full max-w-4xl space-y-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-4 mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-brand-500",children:""})," Fleets"]}),a.jsxs("span",{className:"badge badge-brand",children:[e.length," Detected"]})]}),e.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:e.map(o=>a.jsxs(Ee,{to:`/fleet/${o.join_token}`,className:"glass-panel p-6 group hover:border-brand-500/50 transition duration-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-brand-500/0 group-hover:bg-brand-500/5 transition duration-500"}),a.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-brand-400 transition",children:o.name}),a.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["FC: ",a.jsx("span",{className:"text-slate-200 font-semibold",children:o.fc_name})]})]}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.6)]"})]}),a.jsxs("div",{className:"flex justify-between items-center relative z-10 mt-6",children:[a.jsxs("span",{className:"badge badge-slate flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(o.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),a.jsxs("span",{className:"text-brand-400 text-sm font-bold flex items-center gap-1 opacity-0 group-hover:opacity-100 transition transform translate-x-2 group-hover:translate-x-0",children:["Join Fleet ",a.jsx("span",{className:"text-lg",children:""})]})]})]},o.id))}):a.jsxs("div",{className:"glass-panel p-12 flex flex-col items-center justify-center text-slate-500 border-dashed border-2 border-slate-800 bg-transparent",children:[a.jsx("div",{className:"text-5xl mb-4 grayscale opacity-30",children:""}),a.jsx("h3",{className:"text-xl font-bold text-slate-400",children:"No Fleets Active"}),a.jsx("p",{className:"mt-2 text-sm",children:"Stand by for pings on Discord."})]})]}):a.jsx("div",{className:"max-w-xl mx-auto space-y-8 relative z-10",children:a.jsxs("div",{className:"glass-panel p-8 border-brand-500/20",children:[a.jsxs("p",{className:"text-slate-300 mb-8 leading-relaxed",children:["Authentication is required to access fleet services. ",a.jsx("br",{}),"Please log in using your primary EVE Online character."]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("a",{href:"/sso/login","data-no-spa":!0,className:"btn-primary py-4 px-12 text-lg rounded-xl flex items-center gap-2",children:[a.jsx(Lm,{size:24}),"Log In with SSO"]})})]})})]})})},$v=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),[r,i]=j.useState(""),[l,o]=j.useState(null),[c,d]=j.useState(!1);j.useEffect(()=>{fetch("/api/doctrines/").then(p=>p.json()).then(p=>{t(p),s(!1)}).catch(p=>{console.error(p),s(!1)})},[]);const u=p=>{d(!0),o(null),fetch(`/doctrines/api/${p}/`).then(g=>g.json()).then(g=>{o(g),d(!1)}).catch(()=>d(!1))},h=()=>o(null),f=()=>{l&&(navigator.clipboard.writeText(l.eft_format),alert("Copied to clipboard!"))};return n?a.jsx("div",{className:"p-10 text-center animate-pulse text-slate-500",children:"Loading fittings..."}):a.jsxs("div",{className:"absolute inset-0 overflow-y-auto custom-scrollbar",id:"doctrine-scroll-wrapper",children:[a.jsxs("div",{className:"container mx-auto p-4 md:p-8 pb-32",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-8 border-b border-white/5 pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"heading-1",children:[a.jsx("span",{className:"text-brand-500",children:"Doctrine"})," Fittings"]}),a.jsx("p",{className:"text-slate-400 text-sm mt-2 font-medium",children:"Approved fleet compositions. Click on a category to expand it."})]}),a.jsxs("div",{className:"relative w-full md:w-96",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(Yt,{className:"w-5 h-5 text-slate-500"})}),a.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search ship, fit name, or role...",value:r,onChange:p=>i(p.target.value)})]})]}),a.jsx("div",{id:"doctrine-container",className:"animate-fade-in space-y-4",children:e.map(p=>a.jsx(Fm,{category:p,searchQuery:r,onSelectFit:u},p.id))})]}),(l||c)&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-950/80 backdrop-blur-sm",onClick:h,children:a.jsxs("div",{className:"relative transform rounded-xl bg-slate-900 border border-white/10 shadow-2xl w-full max-w-2xl flex flex-col max-h-[85vh] overflow-hidden",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"glass-header px-4 py-3 flex justify-between items-center shrink-0 bg-slate-900/95 z-20",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[l&&a.jsxs(a.Fragment,{children:[a.jsx("img",{src:`https://images.evetech.net/types/${l.hull_id}/icon?size=64`,className:"w-10 h-10 rounded border border-white/10 bg-dark-900 shadow-lg",alt:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white tracking-tight leading-none",children:l.hull}),a.jsx("p",{className:"text-xs text-brand-500 font-mono mt-1",children:l.name})]})]}),c&&a.jsx("div",{className:"text-slate-400",children:"Loading..."})]}),a.jsx("button",{onClick:h,className:"text-slate-400 hover:text-white transition p-1 hover:bg-white/5 rounded-full",children:a.jsx(wt,{size:20})})]}),l&&a.jsxs("div",{className:"flex flex-col flex-grow overflow-hidden bg-dark-950 relative",children:[a.jsxs("div",{className:"px-4 py-3 bg-slate-900/50 border-b border-white/5 shrink-0",children:[a.jsx("h4",{className:"label-text mb-1 text-[10px]",children:"Fitting Notes"}),a.jsx("p",{className:"text-xs text-slate-400 leading-relaxed whitespace-pre-wrap font-sans max-h-24 overflow-y-auto custom-scrollbar",children:l.description||"No fitting notes available."})]}),a.jsx("div",{className:"overflow-y-auto custom-scrollbar flex-grow bg-dark-950",id:"modal-slots",children:l.slots&&l.slots.length>0?l.slots.map((p,g)=>p.key==="subsystem"&&(!p.total||p.total===0)?null:a.jsxs("div",{children:[a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-sm px-4 py-1.5 border-b border-white/5 flex justify-between items-center sticky top-0 z-10",children:[a.jsx("h5",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-wider",children:p.name}),p.is_hardpoint&&a.jsxs("span",{className:"text-[9px] text-slate-600 font-mono tracking-tight",children:["(",p.used,"/",p.total,")"]})]}),a.jsxs("div",{className:"px-4 py-1 space-y-px",children:[p.modules.map((v,b)=>a.jsxs("div",{className:`flex items-center gap-2 px-2 py-0.5 rounded border border-transparent hover:border-white/10 ${b%2===0?"bg-white/5":"bg-transparent"} transition-all duration-300`,children:[a.jsx("img",{src:`https://images.evetech.net/types/${v.id}/icon?size=32`,className:"w-4 h-4 rounded shadow-inner flex-shrink-0",alt:""}),a.jsx("div",{className:"flex-grow min-w-0 text-[11px]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-slate-300 truncate leading-tight",children:v.name}),v.quantity>1&&a.jsxs("span",{className:"text-[9px] text-brand-400 font-mono leading-none bg-brand-900/20 px-1 rounded border border-brand-500/20",children:["x",v.quantity]})]})})]},b)),p.is_hardpoint&&Array.from({length:p.empties_count}).map((v,b)=>a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 opacity-30 select-none",children:[a.jsx("div",{className:"w-4 h-4 rounded bg-white/10 ml-0.5"}),a.jsx("span",{className:"text-[9px] text-slate-500 font-mono italic",children:"[Empty Slot]"})]},`empty-${b}`))]})]},g)):a.jsx("div",{className:"text-center text-slate-500 italic mt-10 p-4",children:"No module data available."})}),a.jsx("div",{className:"p-3 border-t border-white/5 bg-slate-900 shrink-0 z-20 shadow-[0_-10px_20px_rgba(0,0,0,0.3)]",children:a.jsxs("button",{onClick:f,className:"btn-primary w-full text-xs justify-center py-2 shadow-lg shadow-brand-500/10 font-bold uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Pm,{size:14})," Copy EFT to Clipboard"]})})]})]})})]})},Fm=({category:e,searchQuery:t,onSelectFit:n})=>{const[s,r]=j.useState(!0),i=l=>{if(!t)return!0;const o=t.toLowerCase();return!!(l.name.toLowerCase().includes(o)||l.fits.some(c=>c.name.toLowerCase().includes(o)||c.hull.toLowerCase().includes(o))||l.subcategories.some(c=>i(c)))};return i(e)?a.jsxs("div",{className:"glass-panel overflow-hidden border border-white/5 bg-slate-900/40",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-white/5 transition border-b border-white/5",onClick:()=>r(!s),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[s?a.jsx(Em,{size:16,className:"text-brand-500"}):a.jsx(_v,{size:16,className:"text-slate-500"}),a.jsx("h2",{className:"text-lg font-bold text-slate-200 tracking-tight",children:e.name})]}),a.jsxs("span",{className:"badge badge-slate",children:[e.fits.length," Fits"]})]}),s&&a.jsxs("div",{className:"bg-black/20 p-2 space-y-2",children:[e.fits.map(l=>{const o=t.toLowerCase();return t&&!l.name.toLowerCase().includes(o)&&!l.hull.toLowerCase().includes(o)?null:a.jsx("div",{onClick:()=>n(l.id),className:"group relative overflow-hidden bg-white/5 hover:bg-brand-900/20 border border-white/5 hover:border-brand-500/30 rounded-lg p-3 cursor-pointer transition-all duration-300",children:a.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:`https://images.evetech.net/types/${l.hull_id}/icon?size=64`,className:"w-10 h-10 rounded border border-white/10 bg-black/50 shadow-inner",alt:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-slate-200 group-hover:text-white transition",children:l.name}),a.jsx("div",{className:"text-xs text-slate-500 font-mono mt-0.5",children:l.hull})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 max-w-[50%] justify-end",children:l.tags&&l.tags.map(c=>a.jsx("span",{className:"badge badge-slate text-[9px]",children:c},c))})]})},l.id)}),e.subcategories.map(l=>a.jsx(Fm,{category:l,searchQuery:t,onSelectFit:n},l.id))]})]}):null},Wv=()=>{var N,k,T,D,B,G;const[e,t]=j.useState(null),[n,s]=j.useState(!0),[r,i]=j.useState("service"),[l,o]=j.useState(!1),[c,d]=j.useState(""),[u,h]=j.useState(new Set),[f,p]=j.useState(!1);Gn();const{refreshUser:g}=Cm(),v={x_up:a.jsx("span",{className:"text-lg",children:""}),approved:a.jsx("span",{className:"text-lg",children:""}),invited:a.jsx("span",{className:"text-lg",children:""}),esi_join:a.jsx("span",{className:"text-lg",children:""}),left_waitlist:a.jsx("span",{className:"text-lg",children:""}),left_fleet:a.jsx("span",{className:"text-lg",children:""}),fit_update:a.jsx("span",{className:"text-lg",children:""}),ship_change:a.jsx("span",{className:"text-lg",children:""}),moved:a.jsx("span",{className:"text-lg",children:""}),promoted:a.jsx("span",{className:"text-lg",children:""}),demoted:a.jsx("span",{className:"text-lg",children:""}),kicked:a.jsx("span",{className:"text-lg",children:""}),denied:a.jsx("span",{className:"text-lg",children:""}),create:a.jsx("span",{className:"text-lg",children:""}),remove:a.jsx("span",{className:"text-lg",children:""}),update:a.jsx("span",{className:"text-lg",children:""}),expire:a.jsx("span",{className:"text-lg",children:""})},b={x_up:"X-Up",approved:"Approved",invited:"Invited",esi_join:"Detected",left_waitlist:"Left WL",left_fleet:"Left Fleet",fit_update:"Update",ship_change:"Reship",moved:"Moved",promoted:"Promoted",demoted:"Demoted",kicked:"Kicked",denied:"Denied",create:"Ban",remove:"Lift Ban",update:"Update Ban",expire:"Ban Expired"},x=Object.keys(b);j.useEffect(()=>{m()},[]);const m=()=>{s(!0),fetch("/api/profile/").then(P=>P.status===401?(window.location.href="/auth/login/",null):P.json()).then(P=>{if(P&&(t(P),s(!1),P.active_char&&P.active_char.last_updated)){const U=new Date(P.active_char.last_updated);(new Date-U)/1e3/60>5&&!P.is_inspection_mode&&!f&&w(P.active_char.character_id)}}).catch(P=>{console.error(P),s(!1)})},y=async P=>{try{(await fetch(`/api/profile/switch/${P}/`,{method:"GET"})).ok&&(await g(),m())}catch(U){console.error("Failed to switch character",U)}},w=P=>{var ee;const U=P||((ee=e==null?void 0:e.active_char)==null?void 0:ee.character_id);U&&(p(!0),fetch(`/api/refresh_profile/${U}/`,{method:"POST",headers:{"X-CSRFToken":S("csrftoken")}}).then(Ce=>Ce.json()).then(Ce=>{Ce.success?_(U):p(!1)}).catch(()=>p(!1)))},_=P=>{let U=0;const ee=setInterval(()=>{if(U++,U>30){clearInterval(ee),p(!1);return}fetch(`/api/profile/status/${P}/`).then(Ce=>Ce.json()).then(Ce=>{e&&Ce.last_updated!==e.active_char.last_updated&&(clearInterval(ee),m(),p(!1))})},2e3)},S=P=>{const U=document.cookie.match(new RegExp("(^| )"+P+"=([^;]+)"));if(U)return U[2]};if(n)return a.jsxs("div",{className:"flex items-center justify-center min-h-screen text-slate-500 gap-2",children:[a.jsx(bs,{className:"animate-spin"})," Loading Pilot Data..."]});if(!e)return null;const{active_char:C,characters:E,esi:A,service_record:z,totals:R,is_inspection_mode:H,token_missing:W,scopes_missing:Y,obfuscate_financials:F}=e,O=((z==null?void 0:z.history_logs)||[]).filter(P=>u.size===0||u.has(P.action)),M=E.filter(P=>c===""||P.character_name.toLowerCase().includes(c.toLowerCase())||(P.corporation_name||"").toLowerCase().includes(c.toLowerCase()));return a.jsxs("div",{className:"absolute inset-0 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"container mx-auto p-4 md:p-8 relative",children:[H&&a.jsx("div",{className:"absolute top-0 left-0 w-full bg-blue-600/90 text-white text-xs font-bold px-2 py-0.5 z-50 text-center backdrop-blur",children:"READ-ONLY INSPECTION MODE"}),a.jsxs("div",{className:"glass-panel mb-8 relative overflow-hidden flex flex-col lg:flex-row",children:[a.jsxs("div",{className:"w-full lg:w-auto lg:flex-1 lg:min-w-0 p-6 border-b lg:border-b-0 lg:border-r border-white/5 relative flex flex-col justify-center",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[" Pilots ",a.jsx("span",{className:"badge badge-slate",children:E.length})]}),!H&&a.jsxs("a",{href:"/auth/add_alt/",className:"btn-primary text-xs px-3 py-1.5 shadow-lg shadow-brand-500/20 inline-flex items-center gap-2",children:[a.jsx(Qa,{size:14})," Link Alt"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[E.filter(P=>P.is_main).map(P=>a.jsx(Hu,{char:P,isActive:P.character_id===C.character_id,onClick:()=>y(P.character_id),isInspection:H},P.character_id)),!C.is_main&&a.jsx(Hu,{char:C,isActive:!0,isInspection:H})]}),E.length>1&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center pt-2 border-t border-white/5 mt-4",children:[a.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-wider mr-1",children:"Recent"}),E.filter(P=>!P.is_main&&P.character_id!==C.character_id).slice(0,8).map(P=>a.jsxs("button",{onClick:()=>y(P.character_id),className:"flex items-center gap-2 p-1 pr-3 rounded-lg border border-white/5 bg-white/5 hover:bg-white/10 hover:border-white/20 transition group",title:P.character_name,children:[a.jsx("img",{src:`https://images.evetech.net/characters/${P.character_id}/portrait?size=32`,className:"w-6 h-6 rounded border border-slate-600 group-hover:border-slate-400 transition",alt:""}),a.jsx("div",{className:"text-xs font-bold text-slate-400 group-hover:text-white truncate max-w-[80px]",children:P.character_name})]},P.character_id)),E.length>5&&a.jsxs("button",{onClick:()=>o(!0),className:"ml-auto btn-secondary text-[10px] px-2 py-1 h-8 border-white/10 hover:border-white/30 text-slate-400 hover:text-white flex items-center gap-1",children:[a.jsx(Yt,{size:12})," All Pilots"]})]})]}),a.jsxs("div",{className:"w-full lg:w-80 flex-shrink-0 p-6 bg-black/20 flex flex-col justify-center border-t lg:border-t-0 border-white/5",children:[a.jsxs("h3",{className:"label-text mb-4 pb-2 border-b border-white/5 flex items-center gap-2",children:[a.jsx("span",{children:""})," Account Aggregate"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(mi,{label:"Total Pilots",value:E.length,badge:!0}),a.jsx(mi,{label:"Total Skillpoints",value:(N=R.sp)==null?void 0:N.toLocaleString(),highlight:"brand"}),a.jsx(mi,{label:"Total Wealth",value:`${(k=R.wallet)==null?void 0:k.toLocaleString()} ISK`,highlight:"green",obfuscated:F}),a.jsx(mi,{label:"Concord LP",value:`${(T=R.lp)==null?void 0:T.toLocaleString()} LP`,highlight:"purple",obfuscated:F})]})]})]}),W&&!H?a.jsxs("div",{className:"glass-panel p-12 text-center border-red-500/20 shadow-red-900/10 mb-8",children:[a.jsx("div",{className:"inline-block p-4 bg-red-900/20 rounded-full mb-4 border border-red-900/50",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Authorization Required"}),a.jsxs("p",{className:"text-slate-400 max-w-lg mx-auto mb-8 text-lg",children:["The EVE Online authorization token for ",a.jsx("strong",{className:"text-white",children:C.character_name})," has expired or is missing."]}),a.jsxs("a",{href:"/auth/add_alt/",className:"btn-primary bg-red-600 hover:bg-red-500 border-red-500 shadow-red-900/20 inline-flex items-center gap-2",children:[a.jsx(Pv,{size:16})," Re-Authorize Character"]})]}):a.jsxs("div",{className:"glass-panel mb-8 relative overflow-hidden flex flex-col lg:flex-row",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-brand-500 via-brand-400 to-brand-600"}),a.jsx("div",{className:"p-6 flex-grow border-b lg:border-b-0 lg:border-r border-white/5",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full items-start",children:[a.jsxs("div",{className:"flex flex-col items-center md:items-start min-w-[140px]",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${C.character_id}/portrait?size=128`,className:"w-28 h-28 rounded-lg border-2 border-white/10 shadow-2xl mb-2",alt:""}),a.jsx("h1",{className:"text-xl font-bold text-white text-center md:text-left leading-tight",children:C.character_name}),a.jsxs("div",{className:"text-[10px] text-slate-500 mt-1 mb-2 flex items-center gap-1",children:["Updated: ",a.jsx("span",{id:"last-updated-time",children:C.last_updated?new Date(C.last_updated).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Never"}),f&&a.jsxs("span",{className:"text-brand-400 animate-pulse flex items-center gap-1 ml-1",children:[a.jsx(bs,{size:10,className:"animate-spin"})," Syncing..."]})]}),!H&&!f&&a.jsxs("button",{onClick:()=>w(),className:"text-[10px] btn-secondary py-1 px-2 border-slate-700 text-slate-400 hover:text-white",children:[a.jsx(bs,{size:10,className:"mr-1"})," Refresh"]}),Y&&!H&&a.jsxs("a",{href:"/auth/add_alt/",className:"flex items-center gap-1 text-[10px] bg-amber-500/10 text-amber-400 border border-amber-500/30 px-2 py-1 rounded hover:bg-amber-500/20 transition cursor-pointer font-bold mt-2",title:"Fleet Command scopes are missing. Click to add them.",children:[a.jsx("span",{children:""})," Add FC Scopes"]})]}),a.jsxs("div",{className:"flex-grow grid grid-cols-1 sm:grid-cols-2 gap-3 w-full text-sm",children:[a.jsx(xi,{label:"Corporation",value:C.corporation_name||"Unknown"}),a.jsx(xi,{label:"Alliance",value:C.alliance_name||"-"}),a.jsx(xi,{label:"Wallet",value:`${((D=C.wallet_balance)==null?void 0:D.toLocaleString())||0} ISK`,color:"text-green-400",font:"mono",obfuscated:F}),a.jsx(xi,{label:"CONCORD LP",value:`${((B=C.concord_lp)==null?void 0:B.toLocaleString())||0} LP`,color:"text-purple-400",font:"mono",obfuscated:F}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 bg-white/5 p-3 rounded-lg border border-white/5 flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"label-text mb-0",children:"Skill Points"}),a.jsxs("div",{className:"text-brand-400 font-mono text-lg font-bold leading-tight",children:[((G=C.total_sp)==null?void 0:G.toLocaleString())||0," SP"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-right",children:[a.jsxs("div",{className:"overflow-hidden",children:[a.jsx("div",{className:"label-text mb-0",children:"Active Ship"}),a.jsx("div",{className:"text-white font-medium truncate text-xs",children:C.current_ship_name||"Unknown"}),a.jsx("div",{className:"text-[10px] text-slate-400 truncate",children:C.ship_type_name||"Unknown Hull"})]}),C.current_ship_type_id&&a.jsx("img",{src:`https://images.evetech.net/types/${C.current_ship_type_id}/icon?size=32`,className:"w-10 h-10 rounded border border-white/10",alt:""})]})]})]})]})}),a.jsxs("div",{className:"p-4 lg:w-72 bg-black/20 flex flex-col border-l border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"label-text mb-0 flex items-center gap-2",children:" Implants"}),a.jsxs("span",{className:"text-[10px] text-slate-500",children:[A.implants.length," Active"]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-1 overflow-y-auto max-h-60 custom-scrollbar",children:A.implants.length>0?A.implants.map((P,U)=>a.jsxs("div",{className:"flex items-center gap-1.5 bg-white/5 px-1.5 py-1 rounded border border-white/5 overflow-hidden hover:border-white/20 transition group",title:P.name,children:[a.jsx("img",{src:`https://images.evetech.net/types/${P.id}/icon?size=32`,className:"w-4 h-4 rounded-sm border border-white/10 opacity-80 group-hover:opacity-100 flex-shrink-0",alt:""}),a.jsx("span",{className:"text-[10px] text-slate-400 group-hover:text-slate-200 truncate leading-none",children:P.name})]},U)):a.jsx("div",{className:"col-span-2 text-slate-600 text-xs italic text-center py-2 bg-white/5 rounded border border-white/5 border-dashed",children:"No implants."})})]})]}),(!W||H)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-6 border-b border-white/10",children:a.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:[{id:"service",label:"Service Record"},{id:"skills",label:"Current Skills"},{id:"queue",label:"Skill Queue"},{id:"history",label:"Corp History"},{id:"skill-history",label:"Skill History"}].map(P=>a.jsx("button",{onClick:()=>i(P.id),className:K("border-b-2 py-4 px-1 font-bold text-sm transition capitalize whitespace-nowrap",r===P.id?"border-brand-500 text-brand-500":"border-transparent text-slate-400 hover:text-white"),children:P.label},P.id))})}),a.jsxs("div",{className:"min-h-[400px]",children:[r==="service"&&a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsxs("div",{className:"lg:w-80 space-y-6 flex-shrink-0",children:[a.jsxs("div",{className:"glass-panel p-6 bg-gradient-to-br from-slate-900 to-black/50 border-brand-500/20",children:[a.jsxs("h3",{className:"label-text text-brand-500 flex items-center gap-2",children:["Total Time in Fleet",z.active_session_start&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.8)]"})]}),a.jsxs("div",{className:"text-4xl font-mono font-bold text-white mt-2",children:[z.total_hours,a.jsx("span",{className:"text-sm text-slate-500 ml-1",children:"hrs"})]}),a.jsx("div",{className:"w-full bg-dark-900/50 h-1 mt-4 rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-brand-500 h-full w-full opacity-80"})})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("h3",{className:"label-text mb-4",children:"Hull Breakdown"}),a.jsxs("div",{className:"space-y-3",children:[z.hull_breakdown.map((P,U)=>a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex justify-between items-end mb-1",children:[a.jsx("span",{className:"text-sm font-bold text-slate-300 group-hover:text-white transition",children:P.name}),a.jsxs("span",{className:"text-xs font-mono text-slate-500",children:[(P.seconds/3600).toFixed(1),"h"]})]}),a.jsx("div",{className:"w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-blue-500 h-full rounded-full opacity-60 group-hover:opacity-100 transition",style:{width:`${P.seconds/z.total_seconds*100}%`}})})]},U)),z.hull_breakdown.length===0&&a.jsx("p",{className:"text-xs text-slate-500 italic",children:"No hull data recorded."})]})]})]}),a.jsxs("div",{className:"flex-grow glass-panel overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 bg-white/5 border-b border-white/5 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsx("h3",{className:"font-bold text-white",children:"Recent Activity"}),a.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[a.jsx("button",{onClick:()=>h(new Set),className:"p-1 rounded border border-red-500/30 text-red-400 hover:bg-red-500/20",title:"Clear Filters",children:a.jsx(wt,{size:12})}),x.map(P=>a.jsxs("button",{onClick:()=>{const U=new Set(u);U.has(P)?U.delete(P):U.add(P),h(U)},className:K("px-2 py-0.5 rounded border text-[9px] uppercase font-bold transition flex items-center gap-1",u.has(P)?"bg-brand-500 text-white border-brand-400":"bg-white/5 text-slate-400 border-white/10 hover:text-white"),children:[v[P]," ",b[P]]},P))]})]}),a.jsxs("div",{className:"overflow-y-auto custom-scrollbar max-h-[600px] p-4 space-y-3",children:[O.map((P,U)=>a.jsxs("div",{className:"flex gap-4 group",children:[a.jsxs("div",{className:"w-16 pt-1 text-right flex-shrink-0",children:[a.jsx("div",{className:"text-xs font-bold text-slate-400",children:new Date(P.timestamp).toLocaleDateString([],{month:"short",day:"numeric"})}),a.jsx("div",{className:"text-[10px] text-slate-600 font-mono",children:new Date(P.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("div",{className:"flex flex-col items-center relative",children:[a.jsx("div",{className:K("w-2 h-2 rounded-full mt-1.5 z-10",Uv(P.action))}),U!==O.length-1&&a.jsx("div",{className:"w-px bg-white/5 flex-grow h-full absolute top-2 bottom-0"})]}),a.jsxs("div",{className:"flex-grow pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-slate-200",children:b[P.action]?b[P.action].toUpperCase():P.action.toUpperCase().replace("_"," ")}),a.jsx("span",{className:"text-[10px] bg-white/5 px-1.5 py-0.5 rounded text-slate-500 border border-white/5",children:P.actor||"SYSTEM"})]}),a.jsx("div",{className:"text-xs text-slate-500 mt-0.5 flex items-center gap-2 flex-wrap",children:P.details&&a.jsx("span",{className:"italic",children:P.details})})]})]},U)),O.length===0&&a.jsx("div",{className:"text-center py-12 text-slate-500 italic",children:"No history found."})]})]})]}),r==="skills"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Object.entries(e.grouped_skills||{}).map(([P,U])=>a.jsxs("div",{className:"glass-panel overflow-hidden border-white/5",children:[a.jsxs("div",{className:"bg-white/5 px-4 py-2 border-b border-white/5 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-slate-200 text-sm",children:P}),a.jsx("span",{className:"badge badge-slate",children:U.length})]}),a.jsx("div",{className:"p-2 space-y-1",children:U.map(ee=>a.jsxs("div",{className:"flex justify-between items-center px-2 py-1.5 hover:bg-white/5 rounded group",children:[a.jsx("span",{className:"text-sm text-slate-300 group-hover:text-white transition",children:ee.name}),a.jsx("div",{className:"flex gap-[2px]",children:[1,2,3,4,5].map(Ce=>a.jsx("div",{className:K("w-3 h-3 rounded-sm border border-slate-600/50",Ce<=ee.level?"bg-slate-200 shadow-[0_0_5px_rgba(255,255,255,0.5)]":"bg-dark-900/50")},Ce))})]},ee.id))})]},P)),Object.keys(e.grouped_skills||{}).length===0&&a.jsx("div",{className:"col-span-full text-center py-12 text-slate-500 italic",children:"No skills loaded."})]}),r==="queue"&&a.jsx("div",{className:"glass-panel overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left text-slate-400",children:[a.jsx("thead",{className:"text-xs uppercase bg-white/5 text-slate-300 font-bold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Skill"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Finished Level"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Ends"})]})}),a.jsxs("tbody",{children:[A.queue.map((P,U)=>a.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-white",children:P.name}),a.jsx("td",{className:"px-6 py-4 flex justify-center",children:a.jsx("div",{className:"flex gap-[2px]",children:[1,2,3,4,5].map(ee=>a.jsx("div",{className:K("w-3 h-3 rounded-sm border border-slate-600/50",ee<=P.finished_level?"bg-brand-500 shadow-[0_0_5px_rgba(245,158,11,0.5)]":"bg-dark-900/50")},ee))})}),a.jsxs("td",{className:"px-6 py-4 text-slate-500 text-right",children:[new Date(P.finish_date).toLocaleDateString()," ",a.jsx("span",{className:"text-xs text-slate-600 font-mono",children:new Date(P.finish_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},U)),A.queue.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"px-6 py-8 text-center italic",children:"No queue data."})})]})]})}),r==="history"&&a.jsxs("div",{className:"space-y-4 max-w-3xl",children:[A.history.map((P,U)=>a.jsxs("div",{className:"flex items-center gap-4 glass-panel p-4 hover:border-white/20 transition group",children:[a.jsx("img",{src:`https://images.evetech.net/corporations/${P.corporation_id}/logo?size=64`,className:"w-12 h-12 rounded-lg",alt:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold text-lg group-hover:text-brand-400 transition",children:P.corporation_name}),a.jsxs("div",{className:"text-xs text-slate-500 flex gap-4 mt-1",children:[a.jsxs("span",{children:["Joined: ",new Date(P.start_date).toLocaleDateString()]}),a.jsxs("span",{className:"font-mono opacity-50",children:["ID: ",P.corporation_id]})]})]})]},U)),A.history.length===0&&a.jsx("p",{className:"text-slate-500",children:"No history found."})]}),r==="skill-history"&&a.jsx("div",{className:"glass-panel overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left text-slate-400",children:[a.jsx("thead",{className:"text-xs uppercase bg-white/5 text-slate-300 font-bold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Date"}),a.jsx("th",{className:"px-6 py-4",children:"Skill"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Level Change"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"SP Change"})]})}),a.jsxs("tbody",{children:[A.skill_history.map((P,U)=>a.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition",children:[a.jsxs("td",{className:"px-6 py-4 text-slate-500 whitespace-nowrap font-mono text-xs",children:[new Date(P.logged_at).toISOString().split("T")[0],a.jsx("span",{className:"text-slate-600 ml-1",children:new Date(P.logged_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("td",{className:"px-6 py-4 font-medium text-white",children:P.name}),a.jsx("td",{className:"px-6 py-4 text-center",children:P.old_level===P.new_level?a.jsx("span",{className:"text-slate-600",children:"-"}):P.new_level>P.old_level?a.jsxs("span",{className:"badge badge-green",children:[P.old_level,"  ",P.new_level]}):a.jsxs("span",{className:"badge badge-red",children:[P.old_level,"  ",P.new_level]})}),a.jsx("td",{className:"px-6 py-4 text-right font-mono",children:P.sp_diff>0?a.jsxs("span",{className:"text-green-400",children:["+",P.sp_diff.toLocaleString()]}):P.sp_diff<0?a.jsx("span",{className:"text-red-400",children:P.sp_diff.toLocaleString()}):a.jsx("span",{className:"text-slate-600",children:"0"})})]},U)),A.skill_history.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-slate-500 italic",children:"No skill changes recorded yet."})})]})]})})]})]})]}),l&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-950/90 backdrop-blur-sm",onClick:()=>o(!1),children:a.jsxs("div",{className:"relative transform rounded-xl bg-slate-900 border border-white/10 shadow-2xl w-full max-w-4xl flex flex-col max-h-[85vh]",onClick:P=>P.stopPropagation(),children:[a.jsxs("div",{className:"glass-header px-6 py-4 flex flex-col gap-4 border-b border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx("span",{children:""})," Pilot Directory ",a.jsx("span",{className:"badge badge-slate",children:E.length})]}),a.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-white text-xl leading-none",children:""})]}),a.jsxs("div",{className:"relative w-full",children:[a.jsx(Yt,{className:"absolute left-3 top-3 w-5 h-5 text-slate-500"}),a.jsx("input",{type:"text",value:c,onChange:P=>d(P.target.value),className:"w-full bg-dark-950 border border-white/10 rounded-lg py-3 pl-10 text-white placeholder-slate-500 focus:border-brand-500 outline-none",placeholder:"Filter pilots..."})]})]}),a.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-6 bg-dark-900/50",children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(P=>a.jsxs("div",{onClick:()=>y(P.character_id),className:"flex items-center gap-3 p-3 rounded-xl border border-white/5 bg-white/5 hover:bg-white/10 hover:border-brand-500/30 transition cursor-pointer group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${P.character_id}/portrait?size=64`,className:"w-12 h-12 rounded-lg border border-white/10 bg-black group-hover:scale-105 transition",alt:""}),P.character_id===C.character_id&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-slate-900 rounded-full"})]}),a.jsxs("div",{className:"flex-grow min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-bold text-slate-200 group-hover:text-white truncate",children:P.character_name}),P.is_main&&a.jsx("span",{className:"text-[9px] font-bold text-brand-400 bg-brand-900/20 px-1.5 py-0.5 rounded border border-brand-500/20 uppercase",children:"Main"})]}),a.jsx("div",{className:"text-xs text-slate-500 truncate mt-0.5",children:P.corporation_name||"Unknown Corp"}),a.jsxs("div",{className:"text-[10px] text-slate-600 font-mono mt-1",children:[(P.total_sp||0).toLocaleString()," SP"]})]})]},P.character_id))}),M.length===0&&a.jsx("div",{className:"text-center py-12 text-slate-500 italic",children:"No pilots found."})]})]})})]})},Hu=({char:e,isActive:t,isInspection:n,onClick:s})=>a.jsxs("div",{onClick:!t&&!n?s:void 0,className:K("relative group p-1.5 rounded-xl border flex items-center gap-3 pr-5 min-w-[200px] transition",t?"bg-gradient-to-br from-brand-500/20 to-brand-900/40 border-brand-500/50 shadow-[0_0_15px_rgba(245,158,11,0.15)] cursor-default":"bg-white/5 border-white/10 hover:bg-brand-500/10 hover:border-brand-500/50 cursor-pointer"),children:[a.jsx("img",{src:`https://images.evetech.net/characters/${e.character_id}/portrait?size=64`,className:"w-12 h-12 rounded-lg border border-brand-400/50 bg-dark-900",alt:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-white leading-none",children:e.character_name}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("span",{className:K("text-[9px] font-bold px-1.5 rounded uppercase tracking-wider",e.is_main?"bg-brand-500 text-white":"bg-slate-600 text-slate-300"),children:e.is_main?"Main":"Alt"}),t&&a.jsxs("span",{className:"text-[9px] font-bold text-green-400 uppercase tracking-wider flex items-center gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"})," Active"]}),!t&&a.jsx("span",{className:"text-[9px] font-bold text-slate-500 group-hover:text-brand-300 uppercase tracking-wider transition",children:"Switch"})]})]})]}),mi=({label:e,value:t,badge:n,highlight:s,obfuscated:r})=>a.jsxs("div",{className:"flex justify-between items-center group",children:[a.jsx("span",{className:"text-slate-400 text-sm group-hover:text-white transition",children:e}),n?a.jsx("span",{className:"badge badge-slate",children:t}):a.jsx("span",{className:K("font-mono font-bold",s==="brand"?"text-brand-400":s==="green"?"text-green-400":s==="purple"?"text-purple-400":"text-white"),children:r?a.jsx("span",{className:"blur-sm select-none",children:"******"}):t})]}),xi=({label:e,value:t,color:n="text-slate-200",font:s="sans",obfuscated:r})=>a.jsx("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5 flex flex-col justify-center space-y-1",children:a.jsxs("div",{children:[a.jsx("div",{className:"label-text mb-0",children:e}),a.jsx("div",{className:K("font-medium truncate leading-tight",n,s==="mono"&&"font-mono"),children:r?a.jsx("span",{className:"blur-sm select-none",children:"******"}):t})]})}),Uv=e=>{switch(e){case"x_up":return"bg-brand-500";case"approved":return"bg-green-500";case"esi_join":return"bg-blue-500";case"invited":return"bg-green-400";case"left_fleet":return"bg-red-500";case"ship_change":return"bg-purple-500";case"denied":return"bg-red-600";case"create":return"bg-red-600";case"remove":return"bg-green-600";case"update":return"bg-yellow-500";case"expire":return"bg-slate-500";default:return"bg-slate-600"}},Vv=()=>{const{token:e}=Jc(),[t,n]=j.useState(null),[s,r]=j.useState(!0),[i,l]=j.useState(null),[o,c]=j.useState(!1);Gn(),j.useEffect(()=>{const g=()=>{fetch(`/api/fleet/${e}/dashboard/`).then(b=>{if(b.status===404)throw new Error("Fleet not found or you do not have access.");if(!b.ok)throw new Error("Failed to load fleet data.");return b.json()}).then(b=>{n(b),r(!1)}).catch(b=>{console.error(b),l(b.message),r(!1)})};g();const v=setInterval(g,3e3);return()=>clearInterval(v)},[e]);const d=g=>{var b;const v=(b=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:b[1];fetch(`/api/fleet/${e}/xup/`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":v},body:JSON.stringify({hull_id:g})}).then(x=>x.json()).then(x=>{x.success?c(!1):alert(x.error)})};if(s)return a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-950",children:a.jsxs("div",{className:"text-center animate-pulse",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("div",{className:"text-slate-400 font-mono text-sm",children:"Establishing Uplink..."})]})});if(i)return a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-950",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-4 text-red-500",children:""}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Connection Lost"}),a.jsx("p",{className:"text-slate-500 mt-2",children:i}),a.jsx(Ee,{to:"/",className:"btn-secondary mt-6 inline-flex",children:"Return to Landing"})]})});const{fleet:u,columns:h,permissions:f,user_status:p}=t;return a.jsxs("div",{className:"absolute inset-0 flex flex-col overflow-hidden bg-dark-950 opacity-0 animate-fade-in",style:{opacity:1},children:[" ",a.jsxs("div",{className:"glass-header p-4 relative flex justify-center items-center z-20 shrink-0 min-h-[4rem]",children:[f.is_fc&&a.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 hidden md:flex items-center gap-2",children:[a.jsxs(Ee,{to:`/management/fleets/${e}/history`,className:"btn-secondary py-1.5 px-3 text-xs gap-2 shadow-lg",children:[a.jsx(zm,{size:14})," History Log"]}),a.jsxs(Ee,{to:`/management/fleets/${e}/settings`,className:"btn-secondary py-1.5 px-3 text-xs gap-2 shadow-lg border-brand-500/30 text-brand-400 hover:bg-brand-500/10",children:[a.jsx(Zc,{size:14})," Manage Fleet"]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"bg-brand-500/10 p-2.5 rounded-lg border border-brand-500/20 hidden sm:block shadow-[0_0_15px_rgba(245,158,11,0.2)]",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"heading-1 leading-none text-2xl md:text-3xl",children:u.name}),a.jsxs("p",{className:"text-xs text-slate-400 mt-2 flex justify-center items-center gap-3 font-mono",children:[a.jsx("span",{className:"label-text mb-0 text-[10px]",children:"FC"}),a.jsx("span",{className:"text-white font-bold",children:u.commander_name}),u.esi_fleet_id&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-slate-600",children:"|"}),a.jsx("span",{className:"label-text mb-0 text-[10px]",children:"ID"}),a.jsx("span",{className:"text-brand-400 font-bold cursor-copy hover:text-white transition",title:"Copy Fleet ID",onClick:()=>navigator.clipboard.writeText(u.esi_fleet_id),children:u.esi_fleet_id})]}),a.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse transition-all duration-500",title:"Live"})]})]})]}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:a.jsxs("button",{onClick:()=>c(!0),className:"btn-primary py-2 px-6 shadow-brand-500/20 flex items-center gap-2",children:[a.jsx(Qa,{size:18})," ",a.jsx("span",{className:"hidden md:inline",children:"X-UP"})]})})]}),a.jsx("div",{className:"flex-grow overflow-x-auto overflow-y-hidden p-4 custom-scrollbar relative",children:a.jsxs("div",{className:"flex gap-2 h-full min-w-max mx-auto w-fit",children:[a.jsx(Xs,{title:"X-UP",color:"amber",entries:h.pending,icon:Nv,isPending:!0}),a.jsx(Xs,{title:"LOGI",color:"green",entries:h.logi,icon:Yo}),a.jsx(Xs,{title:"DPS",color:"green",entries:h.dps,icon:Sv}),a.jsx(Xs,{title:"SNIPER",color:"green",entries:h.sniper,icon:Fv}),a.jsx(Xs,{title:"OTHER",color:"green",entries:h.other,icon:yv}),f.is_fc&&a.jsxs("div",{className:"w-80 flex flex-col glass-panel overflow-hidden h-full ml-2 border-white/10 shadow-xl bg-slate-900/90",children:[a.jsxs("div",{className:"bg-blue-600/10 border-b border-blue-500/20 p-3 flex justify-between items-center",children:[a.jsx("h3",{className:"label-text text-blue-400 mb-0",children:"Fleet Overview"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-500"}),a.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:"Syncing..."})]})]}),a.jsxs("div",{className:"flex-grow overflow-y-auto p-2 custom-scrollbar flex items-center justify-center text-slate-500 opacity-50 flex-col gap-2",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-slate-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-xs",children:"Waiting for stream..."})]})]})]})}),o&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-950/80 backdrop-blur-sm",onClick:()=>c(!1),children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl p-6 max-w-md w-full",onClick:g=>g.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Join Waitlist"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Select your ship to X-up for this fleet."}),a.jsx("div",{className:"space-y-2",children:a.jsx("button",{onClick:()=>d(1),className:"w-full btn-secondary justify-start",children:"Use Active Ship"})}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>c(!1),className:"btn-ghost",children:"Cancel"})})]})})]})},Xs=({title:e,color:t,entries:n,icon:s,isPending:r})=>{const i={amber:"bg-amber-600/10 border-amber-500/20 text-amber-400",green:"bg-green-600/10 border-green-500/20 text-green-400",red:"bg-red-600/10 border-red-500/20 text-red-400"}[t]||"bg-slate-600/10 border-slate-500/20 text-slate-400";return a.jsxs("div",{className:"w-80 flex flex-col glass-panel overflow-hidden h-full shadow-xl bg-slate-900/80 backdrop-blur-sm transition-all duration-300",children:[a.jsxs("div",{className:`p-3 border-b flex justify-between items-center ${i}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(s,{size:14}),a.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest",children:e})]}),a.jsx("span",{className:"badge badge-slate bg-black/20 border-black/10",children:n.length})]}),a.jsxs("div",{className:"flex-grow overflow-y-auto p-2 custom-scrollbar space-y-1.5 relative",children:[n.map(l=>a.jsx(Xv,{entry:l,isPending:r},l.id)),n.length===0&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-20 pointer-events-none",children:[a.jsx(s,{size:48,className:"text-slate-500 mb-2"}),a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Empty"})]})]})]})},Xv=({entry:e,isPending:t})=>{var n;return a.jsx("div",{className:"glass-panel p-1 relative group hover:border-brand-500/50 hover:bg-slate-800/60 transition-all duration-300 mb-0.5 cursor-pointer border border-white/5 shadow-lg shadow-black/20",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${e.character.id}/portrait?size=64`,className:"w-10 h-10 rounded border border-white/10 bg-black",alt:""}),a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-slate-900 text-[9px] text-slate-400 px-1 rounded border border-slate-700 font-mono shadow-sm",children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("div",{className:"flex-grow min-w-0 flex flex-col justify-center",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("span",{className:"text-xs font-bold text-slate-200 truncate leading-tight group-hover:text-white transition",children:e.character.name}),a.jsx("div",{className:"flex gap-0.5",children:(n=e.tags)==null?void 0:n.map(s=>a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500",title:s},s))})]}),a.jsxs("div",{className:"text-[10px] text-slate-400 truncate flex items-center gap-1 mt-0.5",children:[a.jsx("span",{className:"text-slate-500",children:""})," ",e.hull.name]})]})]})})},Yv=()=>a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-950 overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-brand-500/10 rounded-full blur-[100px]"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-600/10 rounded-full blur-[100px]"})]}),a.jsxs("div",{className:"relative z-10 max-w-md w-full p-6",children:[a.jsxs("div",{className:"glass-panel p-8 text-center border-red-500/20 shadow-2xl shadow-red-900/20 animate-fade-in",children:[a.jsxs("div",{className:"mb-6 relative inline-block",children:[a.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-xl rounded-full"}),a.jsx("div",{className:"relative bg-dark-900 p-4 rounded-full border border-red-500/30 text-4xl text-red-500",children:a.jsx(Dv,{size:48})})]}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Restricted"}),a.jsxs("p",{className:"text-slate-400 mb-8 leading-relaxed",children:["You do not have the required security clearance to view this resource.",a.jsx("br",{}),a.jsx("span",{className:"text-xs mt-2 block opacity-70",children:"Please authenticate your pilot credentials or contact fleet command if you believe this is an error."})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("a",{href:"/auth/login/",className:"btn-primary w-full py-3 justify-center text-base shadow-brand-500/20 group",children:[a.jsx("span",{className:"group-hover:scale-110 transition mr-2",children:""}),"Log In via EVE Online"]}),a.jsxs("a",{href:"/",className:"btn-secondary w-full justify-center flex items-center gap-2",children:[a.jsx(Ga,{size:16})," Return to Dashboard"]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-xs text-slate-600 font-mono",children:"SECURITY PROTOCOL 403-UNAUTHORIZED"})})]})]}),Kv=({reason:e,expires:t,createdAt:n})=>a.jsx("div",{className:"min-h-screen flex items-center justify-center -mt-20",children:a.jsxs("div",{className:"max-w-md w-full bg-slate-800 border border-slate-700 rounded-xl shadow-2xl p-8 text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-red-600"}),a.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-red-600/20 rounded-full blur-3xl pointer-events-none"}),a.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-red-600/20 rounded-full blur-3xl pointer-events-none"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-red-900/30 text-red-500 mb-4 ring-1 ring-red-500/50",children:a.jsx(wv,{size:40})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Account Banned"}),a.jsx("p",{className:"text-slate-400",children:"Your access to the Waitlist Dashboard has been restricted."})]}),a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-5 border border-slate-700 text-left space-y-3 mb-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold",children:"Reason"}),a.jsx("p",{className:"text-slate-200 mt-1",children:e||"Violation of Fleet Rules"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold",children:"Banned On"}),a.jsx("p",{className:"text-slate-300 mt-1 text-sm",children:n?new Date(n).toLocaleDateString():"Unknown"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold",children:"Expires"}),t?a.jsx("p",{className:"text-yellow-400 mt-1 text-sm font-medium",children:new Date(t).toLocaleString()}):a.jsx("p",{className:"text-red-500 mt-1 text-sm font-bold",children:"PERMANENT"})]})]})]}),a.jsx("div",{className:"text-sm text-slate-500",children:"If you believe this is an error, please contact a Fleet Commander or Administrator on Discord."}),a.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700",children:a.jsxs("a",{href:"/profile",className:"flex items-center justify-center gap-2 w-full py-2 px-4 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors mb-3",children:[a.jsx(zv,{size:16})," View My Profile"]})})]})}),qv=()=>a.jsxs("div",{className:"flex flex-col md:flex-row h-full w-full overflow-hidden bg-dark-950 relative",children:[a.jsxs("aside",{className:"w-full md:w-64 bg-slate-900/60 backdrop-blur-xl border-r border-white/10 flex-shrink-0 overflow-y-auto z-20",children:[a.jsxs("div",{className:"p-6 border-b border-white/5",children:[a.jsx("h2",{className:"label-text text-brand-500",children:"Console"}),a.jsx("p",{className:"text-white font-bold text-lg tracking-tight",children:"Fleet Command"})]}),a.jsxs("nav",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest block mb-2",children:"Analysis"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ue,{to:"/management",end:!0,className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(jv,{size:16})," Overview"]}),a.jsxs(Ue,{to:"/management/users",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Iu,{size:16})," User Database"]}),a.jsxs(Ue,{to:"/management/roles",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Yo,{size:16})," Roles"]})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest block mb-2",children:"Operations"}),a.jsx("div",{className:"space-y-1",children:a.jsxs(Ue,{to:"/management/fleets",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Rv,{size:16})," Fleet Ops"]})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest block mb-2",children:"Finance"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ue,{to:"/management/srp",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Av,{size:16})," SRP Dashboard"]}),a.jsxs(Ue,{to:"/management/srp/config",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Zc,{size:16})," SRP Config"]})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest block mb-2",children:"User Mgmt"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ue,{to:"/management/bans",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(td,{size:16})," Bans"]}),a.jsxs(Ue,{to:"/management/bans/audit",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Fu,{size:16})," Audit Log"]})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest block mb-2",children:"System"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ue,{to:"/management/doctrines",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Fu,{size:16})," Doctrines"]}),a.jsxs(Ue,{to:"/management/skills",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Iu,{size:16})," Skill Reqs"]}),a.jsxs(Ue,{to:"/management/rules",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Yo,{size:16})," Rule Helper"]}),a.jsxs(Ue,{to:"/management/sde",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Cv,{size:16})," SDE Data"]}),a.jsxs(Ue,{to:"/management/celery",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Ov,{size:16})," System Health"]}),a.jsxs(Ue,{to:"/management/permissions",className:({isActive:e})=>K("flex items-center gap-3 px-4 py-2.5 rounded-lg transition text-sm font-medium",e?"bg-brand-500/10 text-brand-400 border border-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[a.jsx(Rm,{size:16})," Permissions"]})]})]})]})]}),a.jsx("div",{className:"flex-grow relative h-full bg-slate-900 z-10",id:"management-content-wrapper",children:a.jsx("div",{className:"absolute inset-0 overflow-y-auto custom-scrollbar",id:"management-scroll-area",children:a.jsx("div",{className:"p-6 md:p-10 min-h-full max-w-7xl mx-auto",children:a.jsx(Zb,{})})})})]}),Gv=()=>{const[e,t]=j.useState(null);return j.useEffect(()=>{fetch("/api/management/").then(n=>n.json()).then(n=>t(n))},[]),e?a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"heading-1",children:"System Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(gi,{label:"Total Users",value:e.stats.total_users}),a.jsx(gi,{label:"Total Characters",value:e.stats.total_characters}),a.jsx(gi,{label:"Active Fleets",value:e.stats.active_fleets_count}),a.jsx(gi,{label:"Total Fleets History",value:e.stats.total_fleets})]}),a.jsx("div",{className:"glass-panel p-6 h-64 flex items-center justify-center text-slate-500",children:"Waitlist Growth Chart (Coming Soon)"})]}):a.jsx("div",{children:"Loading Stats..."})},gi=({label:e,value:t})=>a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("div",{className:"text-sm text-slate-500 font-bold uppercase tracking-wider mb-2",children:e}),a.jsx("div",{className:"text-3xl font-mono text-white",children:t})]}),Qv=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(""),[r,i]=j.useState(1);return j.useEffect(()=>{const l=setTimeout(()=>{fetch(`/api/management/users/?q=${n}&page=${r}`).then(o=>o.json()).then(o=>t(o.users||[]))},300);return()=>clearTimeout(l)},[n,r]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"heading-1",children:"User Management"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yt,{className:"absolute left-3 top-2.5 text-slate-500",size:16}),a.jsx("input",{type:"text",placeholder:"Search pilots...",className:"input-field pl-10 w-64",value:n,onChange:l=>s(l.target.value)})]})]}),a.jsxs("div",{className:"glass-panel overflow-hidden",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-white/5 border-b border-white/5 text-xs text-slate-400 uppercase",children:[a.jsx("th",{className:"p-4 font-bold",children:"Character"}),a.jsx("th",{className:"p-4 font-bold",children:"Main"}),a.jsx("th",{className:"p-4 font-bold",children:"Corp"}),a.jsx("th",{className:"p-4 font-bold",children:"Alts"}),a.jsx("th",{className:"p-4 font-bold text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5 text-sm text-slate-300",children:e.map(l=>a.jsxs("tr",{className:"hover:bg-white/5 transition",children:[a.jsx("td",{className:"p-4 font-medium text-white",children:l.character_name}),a.jsx("td",{className:"p-4 text-brand-400",children:l.main_character_name}),a.jsx("td",{className:"p-4",children:l.corporation_name}),a.jsx("td",{className:"p-4",children:l.linked_count}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("button",{className:"text-brand-400 hover:text-white transition",children:"Inspect"})})]},l.id))})]}),e.length===0&&a.jsx("div",{className:"p-8 text-center text-slate-500",children:"No users found."})]})]})},Jv=()=>{const[e,t]=j.useState(1),[n,s]=j.useState(""),[r,i]=j.useState(""),[l,o]=j.useState([]),[c,d]=j.useState([]),[u,h]=j.useState({has_next:!1,has_previous:!1,num_pages:1,current_page:1}),[f,p]=j.useState(null),[g,v]=j.useState({current_roles:[],available_roles:[]});j.useEffect(()=>{b()},[e,n,r]);const b=()=>{const w=`/api/mgmt/search_users/?q=${encodeURIComponent(n)}&role=${encodeURIComponent(r)}&page=${e}`;fetch(w).then(_=>_.json()).then(_=>{o(_.results||[]),h(_.pagination||{has_next:!1,has_previous:!1,num_pages:1,current_page:1}),_.all_roles&&d(_.all_roles)})},x=w=>{fetch(`/api/mgmt/user_roles/${w}/`).then(_=>_.json()).then(_=>v(_))},m=w=>{p(w),x(w.id)},y=(w,_,S)=>{var E;const C=(E=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:E[1];fetch("/api/mgmt/user_roles/update/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C},body:JSON.stringify({user_id:w,role:_,action:S})}).then(A=>A.json()).then(A=>{A.success?x(w):alert(A.error)})};return a.jsxs("div",{className:"flex flex-col gap-6 h-full",children:[a.jsx("div",{className:"flex justify-between items-center border-b border-white/5 pb-6 shrink-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"heading-1",children:"Role Management"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Select a pilot from the directory or search to manage access rights."})]})}),a.jsx("div",{className:"glass-panel p-6 shrink-0",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 max-w-4xl",children:[a.jsxs("div",{className:"relative flex-grow group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none group-focus-within:text-brand-500 transition",children:a.jsx(Yt,{className:"w-5 h-5 text-slate-500"})}),a.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search by Character Name...",value:n,onChange:w=>{s(w.target.value),t(1)}})]}),c.length>0&&a.jsx("div",{className:"md:w-64",children:a.jsxs("select",{className:"select-field h-full",value:r,onChange:w=>{i(w.target.value),t(1)},children:[a.jsx("option",{value:"",children:"All Roles"}),c.map(w=>a.jsx("option",{value:w,children:w},w))]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-grow items-stretch min-h-0",children:[a.jsxs("div",{className:"glass-panel flex flex-col overflow-hidden h-full",children:[a.jsx("div",{className:"p-4 bg-white/5 border-b border-white/5",children:a.jsx("h3",{className:"label-text mb-0",children:"Select Pilot"})}),a.jsxs("div",{className:"divide-y divide-white/5 flex-grow overflow-y-auto custom-scrollbar",children:[l.map(w=>a.jsxs("div",{className:`p-2.5 hover:bg-white/5 cursor-pointer transition flex items-center gap-3 group ${(f==null?void 0:f.id)===w.id?"bg-white/10":""}`,onClick:()=>m(w),children:[a.jsx("img",{src:`https://images.evetech.net/characters/${w.char_id}/portrait?size=64`,className:"w-8 h-8 rounded border border-white/10 group-hover:border-white transition",alt:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold text-xs group-hover:text-brand-400 transition",children:w.username}),a.jsx("div",{className:"text-[10px] text-slate-500",children:w.corp||"Unknown Corp"})]})]},w.id)),l.length===0&&a.jsx("div",{className:"p-8 text-center text-slate-500 italic",children:"No pilots found."})]}),u.num_pages>1&&a.jsxs("div",{className:"p-3 bg-white/5 border-t border-white/5 flex justify-between items-center text-xs shrink-0",children:[a.jsx("button",{disabled:!u.has_previous,onClick:()=>t(w=>w-1),className:"btn-secondary py-1 px-2 text-[10px] disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-slate-500 font-mono",children:["Page ",u.current_page," / ",u.num_pages]}),a.jsx("button",{disabled:!u.has_next,onClick:()=>t(w=>w+1),className:"btn-secondary py-1 px-2 text-[10px] disabled:opacity-50",children:"Next"})]})]}),a.jsx("div",{className:`lg:col-span-2 glass-panel overflow-hidden flex-col transition-all duration-300 h-full ${f?"flex":"hidden"}`,children:f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-6 bg-white/5 border-b border-white/5 flex items-center gap-4 shrink-0",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${f.char_id}/portrait?size=128`,className:"w-16 h-16 rounded-lg border-2 border-white/10 shadow-lg",alt:""}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:f.username}),a.jsx("p",{className:"text-slate-400 text-sm",children:f.corp})]})]}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8 overflow-y-auto custom-scrollbar flex-grow",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"label-text flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.8)]"})," Current Roles"]}),a.jsxs("div",{className:"space-y-2",children:[g.current_roles.map(w=>a.jsxs("button",{onClick:()=>y(f.id,w,"remove"),className:"w-full text-left bg-white/5 hover:bg-red-900/20 border border-white/5 hover:border-red-500/30 p-3 rounded-lg flex justify-between items-center group transition",children:[a.jsx("span",{className:"text-slate-200 font-bold text-sm group-hover:text-red-200",children:w}),a.jsx("span",{className:"badge badge-red opacity-0 group-hover:opacity-100 transition",children:"Remove"})]},w)),g.current_roles.length===0&&a.jsx("div",{className:"text-sm text-slate-500 italic",children:"No special roles assigned."})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"label-text flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.8)]"})," Available to Assign"]}),a.jsxs("div",{className:"space-y-2",children:[g.available_roles.filter(w=>!g.current_roles.includes(w)).map(w=>a.jsxs("button",{onClick:()=>y(f.id,w,"add"),className:"w-full text-left bg-white/5 hover:bg-blue-900/20 border border-white/5 hover:border-blue-500/30 p-3 rounded-lg flex justify-between items-center group transition",children:[a.jsx("span",{className:"text-slate-200 font-bold text-sm group-hover:text-blue-200",children:w}),a.jsx("span",{className:"badge badge-brand opacity-0 group-hover:opacity-100 transition",children:"Add"})]},w)),g.available_roles.length===0&&a.jsx("div",{className:"text-sm text-slate-500 italic",children:"No roles available to assign."})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-4 italic border-t border-white/5 pt-2",children:"Note: You can only assign roles that are below your own rank in the hierarchy."})]})]})]})})]})]})},Zv=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!1);j.useEffect(()=>{r()},[]);const r=()=>{fetch("/api/management/fleets/").then(l=>l.json()).then(l=>{t(l.fleets||[]),s(l.can_view_admin)})},i=(l,o)=>{var u;if(!confirm(l==="close"?"Are you sure you want to close this fleet?":"DELETE this fleet record? This cannot be undone."))return;const d=(u=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:u[1];fetch("/api/management/fleets/action/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":d},body:JSON.stringify({action:l,fleet_id:o})}).then(h=>h.json()).then(h=>{h.success?r():alert(h.error)})};return a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:[a.jsx("h1",{className:"heading-1",children:"Active & Recent Fleets"}),a.jsxs(Ee,{to:"/management/fleets/setup",className:"btn-primary text-sm shadow-lg shadow-brand-500/20 flex items-center gap-2",children:[a.jsx(Qa,{size:16})," Create Fleet"]})]}),a.jsx("div",{className:"glass-panel p-6",children:e.length>0?a.jsx("ul",{className:"space-y-4",children:e.map(l=>a.jsxs("li",{className:"p-4 bg-white/5 rounded-xl border border-white/5 flex flex-col md:flex-row justify-between md:items-center gap-4 group hover:bg-white/10 transition duration-300",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-dark-900 p-3 rounded-lg border border-white/10 text-2xl group-hover:scale-110 transition",children:""}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-lg text-white flex items-center gap-3",children:[l.name,l.is_active?a.jsxs("span",{className:"badge badge-green flex items-center gap-1 normal-case px-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"}),"Active"]}):a.jsx("span",{className:"badge badge-slate text-xs",children:"CLOSED"})]}),a.jsxs("div",{className:"text-sm text-slate-400 flex gap-4 mt-1 font-mono text-xs items-center",children:[a.jsxs("span",{children:["FC: ",a.jsx("strong",{className:"text-slate-200",children:l.commander_name})]}),a.jsx("span",{className:"opacity-50",children:"|"}),a.jsx("span",{children:new Date(l.created_at).toLocaleString()}),l.esi_fleet_id&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"opacity-50",children:"|"}),a.jsxs("span",{className:"bg-black/30 px-1.5 py-0.5 rounded text-slate-500 border border-white/5",children:["ID: ",l.esi_fleet_id]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[l.is_active&&a.jsxs(Ee,{to:`/management/fleets/${l.join_token}/settings`,className:"btn-secondary py-1.5 px-3 text-xs inline-flex items-center gap-2 border-brand-500/30 text-brand-400 hover:bg-brand-500/10",children:[a.jsx(Zc,{size:14})," Manage"]}),a.jsxs(Ee,{to:`/management/fleets/${l.join_token}/history`,className:"btn-secondary py-1.5 px-3 text-xs inline-flex items-center gap-2 border-slate-600 hover:border-white/50 text-slate-300 hover:text-white",title:"View Audit Log",children:[a.jsx(zm,{size:14})," History"]}),l.is_active?a.jsxs(a.Fragment,{children:[a.jsxs(Ee,{to:`/fleet/${l.join_token}`,className:"btn-success py-1.5 px-3 text-xs inline-flex items-center gap-2",children:[a.jsx(Mv,{size:14})," Open Board"]}),a.jsxs("button",{onClick:()=>i("close",l.id),className:"btn-secondary py-1.5 px-3 text-xs text-brand-400 border-brand-500/30 hover:bg-brand-500/10 hover:border-brand-500/50 flex items-center gap-2",children:[a.jsx(Tv,{size:14})," Close Fleet"]})]}):n&&a.jsxs("button",{onClick:()=>i("delete",l.id),className:"text-red-500 hover:text-red-400 text-xs underline px-2 transition font-bold flex items-center gap-1",children:[a.jsx(Gr,{size:12})," Delete"]})]})]},l.id))}):a.jsxs("div",{className:"text-center py-16 text-slate-500 border-2 border-dashed border-white/10 rounded-xl bg-white/5",children:[a.jsx("div",{className:"text-4xl mb-4 grayscale opacity-30",children:""}),a.jsx("p",{className:"mb-2 font-bold text-slate-400",children:"No fleets recorded."}),a.jsx("p",{className:"text-sm",children:"Create a fleet to start a waitlist session."})]})})]})};/*!
 * vanilla-picker v2.12.3
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var nd=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},sd=function(){function e(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),bi=function(){function e(t,n){var s=[],r=!0,i=!1,l=void 0;try{for(var o=t[Symbol.iterator](),c;!(r=(c=o.next()).done)&&(s.push(c.value),!(n&&s.length===n));r=!0);}catch(d){i=!0,l=d}finally{try{!r&&o.return&&o.return()}finally{if(i)throw l}}return s}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(e){return this.indexOf(e)===0};String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var ey={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function $u(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var ty=function(){function e(t,n,s,r){nd(this,e);var i=this;function l(c){if(c.startsWith("hsl")){var d=c.match(/([\-\d\.e]+)/g).map(Number),u=bi(d,4),h=u[0],f=u[1],p=u[2],g=u[3];g===void 0&&(g=1),h/=360,f/=100,p/=100,i.hsla=[h,f,p,g]}else if(c.startsWith("rgb")){var v=c.match(/([\-\d\.e]+)/g).map(Number),b=bi(v,4),x=b[0],m=b[1],y=b[2],w=b[3];w===void 0&&(w=1),i.rgba=[x,m,y,w]}else c.startsWith("#")?i.rgba=e.hexToRgb(c):i.rgba=e.nameToRgb(c)||e.hexToRgb(c)}if(t!==void 0)if(Array.isArray(t))this.rgba=t;else if(s===void 0){var o=t&&""+t;o&&l(o.toLowerCase())}else this.rgba=[t,n,s,r===void 0?1:r]}return sd(e,[{key:"printRGB",value:function(n){var s=n?this.rgba:this.rgba.slice(0,3),r=s.map(function(i,l){return $u(i,l===3?3:0)});return n?"rgba("+r+")":"rgb("+r+")"}},{key:"printHSL",value:function(n){var s=[360,100,100,1],r=["","%","%",""],i=n?this.hsla:this.hsla.slice(0,3),l=i.map(function(o,c){return $u(o*s[c],c===3?3:1)+r[c]});return n?"hsla("+l+")":"hsl("+l+")"}},{key:"printHex",value:function(n){var s=this.hex;return n?s:s.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(n){n.length===3&&(n[3]=1),this._rgba=n,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(n){n.length===3&&(n[3]=1),this._hsla=n,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var n=this.rgba,s=n.map(function(r,i){return i<3?r.toString(16):Math.round(r*255).toString(16)});return"#"+s.map(function(r){return r.padStart(2,"0")}).join("")},set:function(n){this.rgba=e.hexToRgb(n)}}],[{key:"hexToRgb",value:function(n){var s=(n.startsWith("#")?n.slice(1):n).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!s.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+n);var r=s.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(i){return parseInt(i,16)});return r[3]=r[3]/255,r}},{key:"nameToRgb",value:function(n){var s=n.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=ey[s];return r===void 0?r:e.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(n){var s=bi(n,4),r=s[0],i=s[1],l=s[2],o=s[3];r/=255,i/=255,l/=255;var c=Math.max(r,i,l),d=Math.min(r,i,l),u=void 0,h=void 0,f=(c+d)/2;if(c===d)u=h=0;else{var p=c-d;switch(h=f>.5?p/(2-c-d):p/(c+d),c){case r:u=(i-l)/p+(i<l?6:0);break;case i:u=(l-r)/p+2;break;case l:u=(r-i)/p+4;break}u/=6}return[u,h,f,o]}},{key:"hslToRgb",value:function(n){var s=bi(n,4),r=s[0],i=s[1],l=s[2],o=s[3],c=void 0,d=void 0,u=void 0;if(i===0)c=d=u=l;else{var h=function(b,x,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?b+(x-b)*6*m:m<.5?x:m<.6666666666666666?b+(x-b)*(.6666666666666666-m)*6:b},f=l<.5?l*(1+i):l+i-l*i,p=2*l-f;c=h(p,f,r+1/3),d=h(p,f,r),u=h(p,f,r-1/3)}var g=[c*255,d*255,u*255].map(Math.round);return g[3]=o,g}}]),e}(),ny=function(){function e(){nd(this,e),this._events=[]}return sd(e,[{key:"add",value:function(n,s,r){n.addEventListener(s,r,!1),this._events.push({target:n,type:s,handler:r})}},{key:"remove",value:function(n,s,r){this._events=this._events.filter(function(i){var l=!0;return n&&n!==i.target&&(l=!1),s&&s!==i.type&&(l=!1),r&&r!==i.handler&&(l=!1),l&&e._doRemove(i.target,i.type,i.handler),!l})}},{key:"destroy",value:function(){this._events.forEach(function(n){return e._doRemove(n.target,n.type,n.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(n,s,r){n.removeEventListener(s,r,!1)}}]),e}();function sy(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function Pl(e,t,n){var s=!1;function r(c,d,u){return Math.max(d,Math.min(c,u))}function i(c,d,u){if(u&&(s=!0),!!s){c.preventDefault();var h=t.getBoundingClientRect(),f=h.width,p=h.height,g=d.clientX,v=d.clientY,b=r(g-h.left,0,f),x=r(v-h.top,0,p);n(b/f,x/p)}}function l(c,d){var u=c.buttons===void 0?c.which:c.buttons;u===1?i(c,c,d):s=!1}function o(c,d){c.touches.length===1?i(c,c.touches[0],d):s=!1}e.add(t,"mousedown",function(c){l(c,!0)}),e.add(t,"touchstart",function(c){o(c,!0)}),e.add(window,"mousemove",l),e.add(t,"touchmove",o),e.add(window,"mouseup",function(c){s=!1}),e.add(t,"touchend",function(c){s=!1}),e.add(t,"touchcancel",function(c){s=!1})}var ry=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,iy=360,Im="keydown",vi="mousedown",Tl="focusin";function kt(e,t){return(t||document).querySelector(e)}function ay(e){e.preventDefault(),e.stopPropagation()}function Rl(e,t,n,s,r){e.add(t,Im,function(i){n.indexOf(i.key)>=0&&s(i)})}var rd=function(){function e(t){nd(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new ny,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return sd(e,[{key:"setOptions",value:function(n){var s=this;if(!n)return;var r=this.settings;function i(d,u,h){for(var f in d)u[f]=d[f]}if(n instanceof HTMLElement)r.parent=n;else{r.parent&&n.parent&&r.parent!==n.parent&&(this._events.remove(r.parent),this._popupInited=!1),i(n,r),n.onChange&&(this.onChange=n.onChange),n.onDone&&(this.onDone=n.onDone),n.onOpen&&(this.onOpen=n.onOpen),n.onClose&&(this.onClose=n.onClose);var l=n.color||n.colour;l&&this._setColor(l)}var o=r.parent;if(o&&r.popup&&!this._popupInited){var c=function(u){return s.openHandler(u)};this._events.add(o,"click",c),Rl(this._events,o,[" ","Spacebar","Enter"],c),this._popupInited=!0}else n.parent&&!r.popup&&this.show()}},{key:"openHandler",value:function(n){if(this.show()){n&&n.preventDefault(),this.settings.parent.style.pointerEvents="none";var s=n&&n.type===Im?this._domEdit:this.domElement;setTimeout(function(){return s.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(n){var s=n&&n.type,r=!1;if(!n)r=!0;else if(s===vi||s===Tl){var i=(this.__containedEvent||0)+100;n.timeStamp>i&&(r=!0)}else ay(n),r=!0;r&&this.hide()&&(this.settings.parent.style.pointerEvents="",s!==vi&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(n,s){this.closeHandler(),this.setOptions(n),s&&this.openHandler()}},{key:"setColor",value:function(n,s){this._setColor(n,{silent:s})}},{key:"_setColor",value:function(n,s){if(typeof n=="string"&&(n=n.trim()),!!n){s=s||{};var r=void 0;try{r=new ty(n)}catch(l){if(s.failSilently)return;throw l}if(!this.settings.alpha){var i=r.hsla;i[3]=1,r.hsla=i}this.colour=this.color=r,this._setHSLA(null,null,null,null,s)}}},{key:"setColour",value:function(n,s){this.setColor(n,s)}},{key:"show",value:function(){var n=this.settings.parent;if(!n)return!1;if(this.domElement){var s=this._toggleDOM(!0);return this._setPosition(),s}var r=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',i=sy(r);return this.domElement=i,this._domH=kt(".picker_hue",i),this._domSL=kt(".picker_sl",i),this._domA=kt(".picker_alpha",i),this._domEdit=kt(".picker_editor input",i),this._domSample=kt(".picker_sample",i),this._domOkay=kt(".picker_done button",i),this._domCancel=kt(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup(function(){return i.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var n=this,s=this,r=this.domElement,i=this._events;function l(d,u,h){i.add(d,u,h)}l(r,"click",function(d){return d.preventDefault()}),Pl(i,this._domH,function(d,u){return s._setHSLA(d)}),Pl(i,this._domSL,function(d,u){return s._setHSLA(null,d,1-u)}),this.settings.alpha&&Pl(i,this._domA,function(d,u){return s._setHSLA(null,null,null,1-u)});var o=this._domEdit;l(o,"input",function(d){s._setColor(this.value,{fromEditor:!0,failSilently:!0})}),l(o,"focus",function(d){var u=this;u.selectionStart===u.selectionEnd&&u.select()}),this._ifPopup(function(){var d=function(f){return n.closeHandler(f)};l(window,vi,d),l(window,Tl,d),Rl(i,r,["Esc","Escape"],d);var u=function(f){n.__containedEvent=f.timeStamp};l(r,vi,u),l(r,Tl,u),l(n._domCancel,"click",d)});var c=function(u){n._ifPopup(function(){return n.closeHandler(u)}),n.onDone&&n.onDone(n.colour)};l(this._domOkay,"click",c),Rl(i,r,["Enter"],c)}},{key:"_setPosition",value:function(){var n=this.settings.parent,s=this.domElement;n!==s.parentNode&&n.appendChild(s),this._ifPopup(function(r){getComputedStyle(n).position==="static"&&(n.style.position="relative");var i=r===!0?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(l){l===i?s.classList.add(l):s.classList.remove(l)}),s.classList.add(i)})}},{key:"_setHSLA",value:function(n,s,r,i,l){l=l||{};var o=this.colour,c=o.hsla;[n,s,r,i].forEach(function(d,u){(d||d===0)&&(c[u]=d)}),o.hsla=c,this._updateUI(l),this.onChange&&!l.silent&&this.onChange(o)}},{key:"_updateUI",value:function(n){if(!this.domElement)return;n=n||{};var s=this.colour,r=s.hsla,i="hsl("+r[0]*iy+", 100%, 50%)",l=s.hslString,o=s.hslaString,c=this._domH,d=this._domSL,u=this._domA,h=kt(".picker_selector",c),f=kt(".picker_selector",d),p=kt(".picker_selector",u);function g(S,C,E){C.style.left=E*100+"%"}function v(S,C,E){C.style.top=E*100+"%"}g(c,h,r[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,g(d,f,r[1]),v(d,f,1-r[2]),d.style.color=l,v(u,p,1-r[3]);var b=l,x=b.replace("hsl","hsla").replace(")",", 0)"),m="linear-gradient("+[b,x]+")";if(this._domA.style.background=m+", "+ry,!n.fromEditor){var y=this.settings.editorFormat,w=this.settings.alpha,_=void 0;switch(y){case"rgb":_=s.printRGB(w);break;case"hsl":_=s.printHSL(w);break;default:_=s.printHex(w)}this._domEdit.value=_}this._domSample.style.color=o}},{key:"_ifPopup",value:function(n,s){this.settings.parent&&this.settings.popup?n&&n(this.settings.popup):s&&s()}},{key:"_toggleDOM",value:function(n){var s=this.domElement;if(!s)return!1;var r=n?"":"none",i=s.style.display!==r;return i&&(s.style.display=r),i}}]),e}();{var Ll=document.createElement("style");Ll.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Ll),rd.StyleElement=Ll}const ly=()=>{const e=Gn(),[t,n]=j.useState("New Fleet"),[s,r]=j.useState([]),[i,l]=j.useState(""),[o,c]=j.useState(!1),[d,u]=j.useState(""),[h,f]=j.useState(""),[p,g]=j.useState([]),[v,b]=j.useState([]),x=j.useRef(null);j.useEffect(()=>{fetch("/api/management/fleets/setup/init/").then(N=>N.json()).then(N=>{var k;if(r(N.fc_chars||[]),((k=N.fc_chars)==null?void 0:k.length)>0){const T=N.fc_chars.find(D=>D.is_main)||N.fc_chars[0];l(T.character_id),n(`${T.character_name}'s Fleet`)}g(N.templates||[]),b([{name:"Wing 1",squads:["Squad 1","Squad 2"]}])})},[]),j.useEffect(()=>{y(d)},[d]);const m=N=>{const k=N.target.value;l(k);const T=s.find(D=>D.character_id==k);T&&t.includes("'s Fleet")&&n(`${T.character_name}'s Fleet`)},y=N=>{let k=N||"";k=k.replace(/\n/g,"<br>"),k=k.replace(/<color=['"]?(?:0x|#)?([0-9a-fA-F]{8})['"]?>/g,'<font color="#$1">'),k=k.replace(/<\/color>/g,"</font>"),k=k.replace(/\bcolor=(['"]?)(?:#|0x)?([0-9a-fA-F]{8})\1/g,(T,D,B)=>{const G=B.substring(0,2),P=B.substring(2,8);return`color=${D}#${P}${G}${D}`}),k=k.replace(/\bsize=['"]?(\d+)['"]?/g,"data-size='$1'"),k=k.replace(/<a\s+href=(?:['"])([^'"]+)(?:['"])>(.*?)<\/a>/gi,(T,D,B)=>{let G="#ffd700";const P=D.toLowerCase();return P.startsWith("overviewpreset")?G="#00ffff":P.startsWith("joinchannel")&&(G="#a0a0ff"),`<span style="color: ${G}; text-decoration: underline; cursor: help;" title="${D}">${B}</span>`}),f(k)},w=N=>{const k=document.getElementById("motd-input"),T=k.selectionStart,D=k.selectionEnd,B=k.value,G=B.substring(T,D),P=N==="br"?"<br>":`<${N}>${G}</${N}>`,U=B.substring(0,T)+P+B.substring(D);u(U),setTimeout(()=>{k.focus(),k.selectionStart=T+P.length,k.selectionEnd=T+P.length},0)},_=N=>{let k=N;N==="green"&&(k="#00ff00"),N==="red"&&(k="#ff0000"),N==="yellow"&&(k="#ffff00"),N==="blue"&&(k="#00ffff"),S(k)},S=N=>{const k=document.getElementById("motd-input"),T=k.selectionStart,D=k.selectionEnd,B=k.value,G=B.substring(T,D),P=`<font color="${N}">${G}</font>`,U=B.substring(0,T)+P+B.substring(D);u(U),setTimeout(()=>{k.focus(),k.selectionStart=T+P.length,k.selectionEnd=T+P.length},0)},C=N=>{x.current||(x.current=new rd({parent:N.currentTarget.parentElement,popup:"bottom",color:"#ffffff",alpha:!0,editor:!0,onDone:k=>{let T=k.hex.substring(0,7),D=k.rgba[3];if(D<1){let B=Math.round(D*255).toString(16).padStart(2,"0");S("#"+B+T.substring(1))}else S(T)}})),x.current.openHandler()},E=(N,k)=>{const T=[...v];T[N].name=k,b(T)},A=()=>b([...v,{name:`Wing ${v.length+1}`,squads:[]}]),z=N=>{const k=[...v];k.splice(N,1),b(k)},R=N=>{const k=[...v];k[N].squads.push(`Squad ${k[N].squads.length+1}`),b(k)},H=(N,k,T)=>{const D=[...v];D[N].squads[k]=T,b(D)},W=(N,k)=>{const T=[...v];T[N].squads.splice(k,1),b(T)},Y=()=>{var T;const N=prompt("Enter a name for this template:","My Fleet Setup");if(!N)return;const k=(T=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:T[1];fetch("/api/management/fleets/templates/save/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k},body:JSON.stringify({character_id:i,template_name:N,structure:v,motd:d})}).then(D=>D.json()).then(D=>{D.success?(alert("Template saved!"),fetch("/api/management/fleets/setup/init/").then(B=>B.json()).then(B=>g(B.templates||[]))):alert("Error: "+D.error)})},F=N=>{confirm("Apply template? This will replace your current structure and MOTD.")&&(b(N.wings.map(k=>({name:k.name,squads:k.squads}))),u(N.motd||""))},O=N=>{var T;if(!confirm("Delete template?"))return;const k=(T=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:T[1];fetch("/api/management/fleets/templates/delete/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k},body:JSON.stringify({template_id:N})}).then(D=>D.json()).then(D=>{D.success?g(p.filter(B=>B.id!==N)):alert("Error: "+D.error)})},M=()=>{var k;const N=(k=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:k[1];fetch("/api/management/fleets/create/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":N},body:JSON.stringify({fleet_name:t,character_id:i,structure:v,motd:d,is_offline:o})}).then(T=>T.json()).then(T=>{T.success?T.redirect_url?e(T.redirect_url):e("/management/fleets"):alert("Launch Failed: "+T.error)})};return a.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-8rem)] bg-dark-950 relative rounded-xl border border-white/5 shadow-2xl",children:[a.jsxs("div",{className:"glass-header px-6 py-4 flex justify-between items-center shrink-0 bg-slate-900/90 z-20 border-b border-white/10",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"heading-1 flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl",children:""})," Fleet Setup"]}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Initialize fleet structure and mappings."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ee,{to:"/management/fleets",className:"btn-secondary text-xs py-1.5 px-3",children:"Cancel"}),a.jsxs("button",{onClick:Y,className:"btn-secondary text-xs py-1.5 px-3 border-brand-500/30 text-brand-400 hover:bg-brand-500/10",children:[a.jsx(Fr,{size:14})," Save Template"]}),a.jsxs("button",{onClick:M,className:"btn-primary text-xs py-1.5 px-4 shadow-lg shadow-brand-500/20",children:[a.jsx(Lv,{size:14})," Launch Fleet"]})]})]}),a.jsxs("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-0",children:[a.jsxs("div",{className:"bg-dark-900/50 p-6 flex flex-col gap-6 border-r border-white/5",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"label-text mb-2",children:"Fleet Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Fleet Name"}),a.jsx("input",{type:"text",value:t,onChange:N=>n(N.target.value),className:"input-field",placeholder:"e.g. Saturday Roam"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Fleet Commander"}),a.jsx("select",{value:i,onChange:m,className:"select-field",children:s.map(N=>a.jsx("option",{value:N.character_id,children:N.character_name},N.character_id))})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded bg-white/5 border border-white/5 cursor-pointer group hover:bg-white/10 hover:border-white/20 transition",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:N=>c(N.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-800 text-brand-500 focus:ring-0 focus:ring-offset-0 transition cursor-pointer"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs font-bold text-slate-300 group-hover:text-white block",children:"Offline Mode"}),a.jsx("span",{className:"text-[10px] text-slate-500 block",children:"Skip in-game fleet linking (Testing/Emergency)"})]})]})]})]}),a.jsx("hr",{className:"border-white/5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"label-text mb-2",children:"Message of the Day"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-1 bg-black/20 p-2 rounded border border-white/5 items-center flex-wrap",children:[a.jsx("button",{onClick:()=>w("b"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs font-bold text-slate-300 hover:text-white",children:"B"}),a.jsx("button",{onClick:()=>w("i"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs italic text-slate-300 hover:text-white",children:"I"}),a.jsx("button",{onClick:()=>w("u"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs underline text-slate-300 hover:text-white",children:"U"}),a.jsx("button",{onClick:()=>w("br"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-slate-300 hover:text-white",children:""}),a.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),a.jsx("button",{onClick:()=>_("green"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-green-400 hover:text-green-300",children:"A"}),a.jsx("button",{onClick:()=>_("red"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-red-400 hover:text-red-300",children:"A"}),a.jsx("button",{onClick:()=>_("yellow"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-yellow-400 hover:text-yellow-300",children:"A"}),a.jsx("button",{onClick:()=>_("blue"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-blue-400 hover:text-blue-300",children:"A"}),a.jsx("button",{onClick:()=>_("#b2b2b2"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-slate-400 hover:text-white",children:"A"}),a.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),a.jsx("button",{onClick:C,className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs hover:bg-slate-700 flex items-center justify-center gap-2 min-w-[40px]",children:a.jsx(Om,{size:14})})]}),a.jsx("textarea",{id:"motd-input",value:d,onChange:N=>u(N.target.value),maxLength:4e3,className:"input-field h-32 text-xs font-mono resize-none",placeholder:"Enter MOTD here... Supports HTML-like tags"}),a.jsxs("div",{className:"text-[10px] text-slate-500 text-right",children:[d.length,"/4000"]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-white/5",children:[a.jsx("label",{className:"label-text mb-1 text-[13px]",children:"Preview"}),a.jsx("div",{dangerouslySetInnerHTML:{__html:h},className:"bg-black/40 border border-white/10 rounded p-2 text-slate-300 font-sans whitespace-pre-wrap h-32 overflow-y-auto text-[13px] leading-tight"})]})]})]}),a.jsx("hr",{className:"border-white/5"}),a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-between items-end mb-2",children:a.jsx("h3",{className:"label-text mb-0",children:"Saved Templates"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>{confirm("Load default?")&&b([{name:"Wing 1",squads:["Squad 1","Squad 2"]}])},className:"w-full text-left p-3 rounded bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/20 transition group",children:[a.jsx("div",{className:"font-bold text-sm text-slate-200 group-hover:text-white",children:"Default Basic"}),a.jsx("div",{className:"text-[10px] text-slate-500",children:"1 Wing, 2 Squads"})]}),p.map(N=>a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{onClick:()=>F(N),className:"w-full text-left p-3 rounded bg-white/5 hover:bg-white/10 border border-white/5 hover:border-brand-500/50 transition pr-8",children:[a.jsx("div",{className:"font-bold text-sm text-slate-200 group-hover:text-brand-400",children:N.name}),a.jsxs("div",{className:"text-[10px] text-slate-500",children:[N.wing_count," Wings"]})]}),a.jsx("button",{onClick:()=>O(N.id),className:"absolute top-2 right-2 p-1.5 text-slate-500 hover:text-red-400 hover:bg-white/5 rounded transition opacity-0 group-hover:opacity-100 z-10",children:a.jsx(Gr,{size:14})})]},N.id)),p.length===0&&a.jsx("div",{className:"text-xs text-slate-500 italic p-2",children:"No custom templates saved."})]})]})]}),a.jsxs("div",{className:"lg:col-span-1 flex flex-col overflow-hidden bg-slate-900/50",children:[a.jsxs("div",{className:"p-4 border-b border-white/5 bg-slate-900 flex justify-between items-center",children:[a.jsx("h3",{className:"label-text mb-0 text-brand-500",children:"Structure Preview"}),a.jsx("button",{onClick:A,className:"btn-secondary py-1 px-3 text-xs bg-slate-800 border-slate-700 hover:border-white/30",children:"+ Add Wing"})]}),a.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-6 space-y-6 bg-black/20",children:[v.length===0&&a.jsx("div",{className:"text-center text-slate-500 py-12 italic",children:"No structure defined. Load a template or add a wing."}),v.map((N,k)=>a.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden group/wing",children:[a.jsxs("div",{className:"p-2 bg-slate-700/50 flex justify-between items-center border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx("span",{className:"text-slate-400 text-[10px] font-bold uppercase w-8",children:"Wing"}),a.jsx("input",{type:"text",value:N.name,onChange:T=>E(k,T.target.value),className:"bg-transparent border-b border-transparent hover:border-slate-500 focus:border-brand-500 text-white font-bold text-sm outline-none w-full transition px-1"})]}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover/wing:opacity-100 transition shrink-0 ml-2",children:[a.jsx("button",{onClick:()=>R(k),className:"text-[10px] bg-slate-600 hover:bg-slate-500 px-1.5 py-0.5 rounded text-white border border-slate-500/50",children:"+Sq"}),a.jsx("button",{onClick:()=>z(k),className:"text-[10px] bg-red-900/30 text-red-400 hover:bg-red-900/50 px-1.5 py-0.5 rounded border border-red-900/50",children:"Del"})]})]}),a.jsxs("div",{className:"p-2 bg-dark-900/30",children:[N.squads.map((T,D)=>a.jsxs("div",{className:"flex items-center gap-2 mb-2 pl-4 relative",children:[a.jsx("div",{className:"absolute left-2 top-0 bottom-1/2 border-l-2 border-slate-600 w-2 h-full rounded-bl"}),a.jsx("div",{className:"w-2 border-b-2 border-slate-600 h-0 mr-1"}),a.jsx("input",{type:"text",value:T,onChange:B=>H(k,D,B.target.value),className:"bg-dark-900 border border-slate-700 rounded px-2 py-1 text-xs text-white w-full focus:border-brand-500 outline-none"}),a.jsx("button",{onClick:()=>W(k,D),className:"text-slate-600 hover:text-red-400 px-1",children:a.jsx(wt,{size:12})})]},D)),N.squads.length===0&&a.jsx("div",{className:"text-[10px] text-slate-600 italic pl-8",children:"No squads"})]})]},k))]})]})]})]})},oy=()=>{const{token:e}=Jc(),t=Gn(),[n,s]=j.useState(null),[r,i]=j.useState([]),[l,o]=j.useState(""),[c,d]=j.useState(""),[u,h]=j.useState([]),f=j.useRef(null);j.useEffect(()=>{p()},[e]),j.useEffect(()=>{g(l)},[l]);const p=()=>{fetch(`/api/management/fleets/${e}/settings/`).then(F=>F.json()).then(F=>{s(F.fleet),i(F.structure||[]),o(F.fleet.motd||""),h(F.templates||[])})},g=F=>{let O=F||"";O=O.replace(/\n/g,"<br>"),O=O.replace(/<color=['"]?(?:0x|#)?([0-9a-fA-F]{8})['"]?>/g,'<font color="#$1">'),O=O.replace(/<\/color>/g,"</font>"),O=O.replace(/\bcolor=(['"]?)(?:#|0x)?([0-9a-fA-F]{8})\1/g,(M,N,k)=>{const T=k.substring(0,2),D=k.substring(2,8);return`color=${N}#${D}${T}${N}`}),O=O.replace(/\bsize=['"]?(\d+)['"]?/g,"data-size='$1'"),O=O.replace(/<a\s+href=(?:['"])([^'"]+)(?:['"])>(.*?)<\/a>/gi,(M,N,k)=>{let T="#ffd700";const D=N.toLowerCase();return D.startsWith("overviewpreset")?T="#00ffff":D.startsWith("joinchannel")&&(T="#a0a0ff"),`<span style="color: ${T}; text-decoration: underline; cursor: help;" title="${N}">${k}</span>`}),d(O)},v=F=>{const O=document.getElementById("motd-input"),M=O.selectionStart,N=O.selectionEnd,k=O.value,T=k.substring(M,N),D=F==="br"?"<br>":`<${F}>${T}</${F}>`,B=k.substring(0,M)+D+k.substring(N);o(B),setTimeout(()=>{O.focus(),O.selectionStart=M+D.length,O.selectionEnd=M+D.length},0)},b=F=>{let O=F;F==="green"&&(O="#00ff00"),F==="red"&&(O="#ff0000"),F==="yellow"&&(O="#ffff00"),F==="blue"&&(O="#00ffff"),x(O)},x=F=>{const O=document.getElementById("motd-input"),M=O.selectionStart,N=O.selectionEnd,k=O.value,T=k.substring(M,N),D=`<font color="${F}">${T}</font>`,B=k.substring(0,M)+D+k.substring(N);o(B),setTimeout(()=>{O.focus(),O.selectionStart=M+D.length,O.selectionEnd=M+D.length},0)},m=F=>{f.current||(f.current=new rd({parent:F.currentTarget.parentElement,popup:"bottom",color:"#ffffff",alpha:!0,editor:!0,onDone:O=>{let M=O.hex.substring(0,7),N=O.rgba[3];if(N<1){let k=Math.round(N*255).toString(16).padStart(2,"0");x("#"+k+M.substring(1))}else x(M)}})),f.current.openHandler()},y=()=>{var O;const F=(O=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:O[1];fetch(`/api/management/fleets/${e}/update_settings/`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F},body:JSON.stringify({motd:l,structure:r})}).then(M=>M.json()).then(M=>{M.success?alert("Synced!"):alert("Update Failed: "+M.error)})},w=()=>{var O;const F=(O=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:O[1];fetch(`/api/management/fleets/${e}/link_esi/`,{method:"POST",headers:{"X-CSRFToken":F}}).then(M=>M.json()).then(M=>{M.success?(alert("Fleet successfully linked! ID: "+M.fleet_id),p()):alert("Link Failed: "+M.error)})},_=()=>{var O;if(!confirm("Are you sure you want to CLOSE this fleet? This stops the waitlist."))return;const F=(O=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:O[1];fetch(`/api/management/fleets/${e}/close/`,{method:"POST",headers:{"X-CSRFToken":F}}).then(M=>M.json()).then(M=>{M.success?t("/management/fleets"):alert("Error closing fleet: "+M.error)})},S=()=>{var M;const F=prompt("Enter a name for this template:","My Fleet Setup");if(!F)return;const O=(M=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:M[1];fetch("/api/management/fleets/templates/save/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O},body:JSON.stringify({character_id:n.commander_id,template_name:F,structure:r,motd:l})}).then(N=>N.json()).then(N=>{N.success?(alert("Template saved!"),p()):alert("Error: "+N.error)})},C=F=>{confirm("Apply template? This will replace your current structure and MOTD.")&&(i(F.wings.map(O=>({name:O.name,squads:O.squads}))),o(F.motd||""))},E=F=>{var M;if(!confirm("Delete template?"))return;const O=(M=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:M[1];fetch("/api/management/fleets/templates/delete/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O},body:JSON.stringify({template_id:F})}).then(N=>N.json()).then(N=>{N.success?p():alert("Error: "+N.error)})},A=(F,O)=>{const M=[...r];M[F].name=O,i(M)},z=()=>i([...r,{name:`Wing ${r.length+1}`,squads:[]}]),R=F=>{if(!confirm("Delete wing?"))return;const O=[...r];O.splice(F,1),i(O)},H=F=>{const O=[...r];O[F].squads.push(`Squad ${O[F].squads.length+1}`),i(O)},W=(F,O,M)=>{const N=[...r];N[F].squads[O]=M,i(N)},Y=(F,O)=>{const M=[...r];M[F].squads.splice(O,1),i(M)};return n?a.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-8rem)] bg-dark-950 relative rounded-xl border border-white/5 shadow-2xl",children:[a.jsxs("div",{className:"glass-header px-6 py-4 flex flex-col md:flex-row justify-between items-center gap-4 shrink-0 bg-slate-900/90 z-20 border-b border-white/10",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"heading-1 flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl",children:""})," Manage Fleet: ",n.name]}),a.jsxs("p",{className:"text-slate-400 text-sm mt-1 font-mono",children:["ID: ",n.esi_fleet_id||"Offline Mode"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-center md:justify-end",children:[!n.esi_fleet_id&&a.jsxs("button",{onClick:w,className:"btn-secondary text-xs py-1.5 px-3 border-blue-500/30 text-blue-400 hover:bg-blue-500/10 shadow-lg shadow-blue-500/10",children:[a.jsx(Ev,{size:14})," Link ESI"]}),a.jsxs("button",{onClick:S,className:"btn-secondary text-xs py-1.5 px-3 border-brand-500/30 text-brand-400 hover:bg-brand-500/10",children:[a.jsx(Fr,{size:14})," Save Template"]}),a.jsxs("button",{onClick:_,className:"btn-danger text-xs py-1.5 px-3 shadow-lg shadow-red-500/20 border-red-500/50 hover:bg-red-900/80",children:[a.jsx(td,{size:14})," Close Fleet"]}),a.jsxs(Ee,{to:`/fleet/${n.join_token}`,className:"btn-secondary text-xs py-1.5 px-3",children:[a.jsx(Ga,{size:14})," Back to Dashboard"]}),a.jsxs("button",{onClick:y,className:"btn-primary text-xs py-1.5 px-4 shadow-lg shadow-brand-500/20",children:[a.jsx(Fr,{size:14})," Update Fleet"]})]})]}),a.jsxs("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-0",children:[a.jsxs("div",{className:"bg-dark-900/50 p-6 flex flex-col gap-6 border-r border-white/5",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"label-text mb-2",children:"Message of the Day"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-1 bg-black/20 p-2 rounded border border-white/5 items-center flex-wrap",children:[a.jsx("button",{onClick:()=>v("b"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs font-bold text-slate-300 hover:text-white",children:"B"}),a.jsx("button",{onClick:()=>v("i"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs italic text-slate-300 hover:text-white",children:"I"}),a.jsx("button",{onClick:()=>v("u"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs underline text-slate-300 hover:text-white",children:"U"}),a.jsx("button",{onClick:()=>v("br"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-slate-300 hover:text-white",children:""}),a.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),a.jsx("button",{onClick:()=>b("green"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-green-400 hover:text-green-300",children:"A"}),a.jsx("button",{onClick:()=>b("red"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-red-400 hover:text-red-300",children:"A"}),a.jsx("button",{onClick:()=>b("yellow"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-yellow-400 hover:text-yellow-300",children:"A"}),a.jsx("button",{onClick:()=>b("blue"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-blue-400 hover:text-blue-300",children:"A"}),a.jsx("button",{onClick:()=>b("#b2b2b2"),className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs text-slate-400 hover:text-white",children:"A"}),a.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),a.jsx("button",{onClick:m,className:"p-1 px-2 bg-slate-800 rounded border border-white/10 text-xs hover:bg-slate-700 flex items-center justify-center gap-2 min-w-[40px]",children:a.jsx(Om,{size:14})})]}),a.jsx("textarea",{id:"motd-input",value:l,onChange:F=>o(F.target.value),maxLength:4e3,className:"input-field h-32 text-xs font-mono resize-none",placeholder:"Enter fleet MOTD..."}),a.jsxs("div",{className:"text-[10px] text-slate-500 text-right",children:[l.length,"/4000"]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-white/5",children:[a.jsx("label",{className:"label-text mb-1 text-[13px]",children:"Preview"}),a.jsx("div",{dangerouslySetInnerHTML:{__html:c},className:"bg-black/40 border border-white/10 rounded p-2 text-slate-300 font-sans whitespace-pre-wrap h-32 overflow-y-auto text-[13px] leading-tight"})]})]})]}),a.jsx("hr",{className:"border-white/5"}),a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-between items-end mb-2",children:a.jsx("h3",{className:"label-text mb-0",children:"Apply Template"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>{confirm("Load default?")&&i([{name:"Wing 1",squads:["Squad 1","Squad 2"]}])},className:"w-full text-left p-3 rounded bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/20 transition group",children:[a.jsx("div",{className:"font-bold text-sm text-slate-200 group-hover:text-white",children:"Default Basic"}),a.jsx("div",{className:"text-[10px] text-slate-500",children:"1 Wing, 2 Squads"})]}),u.map(F=>a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{onClick:()=>C(F),className:"w-full text-left p-3 rounded bg-white/5 hover:bg-white/10 border border-white/5 hover:border-brand-500/50 transition pr-8",children:[a.jsx("div",{className:"font-bold text-sm text-slate-200 group-hover:text-brand-400",children:F.name}),a.jsxs("div",{className:"text-[10px] text-slate-500",children:[F.wing_count," Wings"]})]}),a.jsx("button",{onClick:()=>E(F.id),className:"absolute top-2 right-2 p-1.5 text-slate-500 hover:text-red-400 hover:bg-white/5 rounded transition opacity-0 group-hover:opacity-100 z-10",children:a.jsx(Gr,{size:14})})]},F.id)),u.length===0&&a.jsx("div",{className:"text-xs text-slate-500 italic p-2",children:"No custom templates saved."})]})]})]}),a.jsxs("div",{className:"lg:col-span-1 flex flex-col bg-slate-900/50",children:[a.jsxs("div",{className:"p-4 border-b border-white/5 bg-slate-900 flex justify-between items-center",children:[a.jsx("h3",{className:"label-text mb-0 text-brand-500",children:"Active Fleet Structure"}),a.jsx("button",{onClick:z,className:"btn-secondary py-1 px-3 text-xs bg-slate-800 border-slate-700 hover:border-white/30",children:"+ Add Wing"})]}),a.jsxs("div",{className:"flex-grow p-6 space-y-6 bg-black/20 overflow-y-auto",children:[r.length===0&&a.jsx("div",{className:"text-center text-slate-500 py-12 italic",children:"No wings defined."}),r.map((F,O)=>a.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden group/wing",children:[a.jsxs("div",{className:"p-2 bg-slate-700/50 flex justify-between items-center border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx("span",{className:"text-slate-400 text-[10px] font-bold uppercase w-8",children:"Wing"}),a.jsx("input",{type:"text",value:F.name,onChange:M=>A(O,M.target.value),className:"bg-transparent border-b border-transparent hover:border-slate-500 focus:border-brand-500 text-white font-bold text-sm outline-none w-full transition px-1"})]}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover/wing:opacity-100 transition shrink-0 ml-2",children:[a.jsx("button",{onClick:()=>H(O),className:"text-[10px] bg-slate-600 hover:bg-slate-500 px-1.5 py-0.5 rounded text-white border border-slate-500/50",children:"+Sq"}),a.jsx("button",{onClick:()=>R(O),className:"text-[10px] bg-red-900/30 text-red-400 hover:bg-red-900/50 px-1.5 py-0.5 rounded border border-red-900/50",children:"Del"})]})]}),a.jsxs("div",{className:"p-2 bg-dark-900/30",children:[F.squads.map((M,N)=>a.jsxs("div",{className:"flex items-center gap-2 mb-2 pl-4 relative",children:[a.jsx("div",{className:"absolute left-2 top-0 bottom-1/2 border-l-2 border-slate-600 w-2 h-full rounded-bl"}),a.jsx("div",{className:"w-2 border-b-2 border-slate-600 h-0 mr-1"}),a.jsx("input",{type:"text",value:M,onChange:k=>W(O,N,k.target.value),className:"bg-dark-900 border border-slate-700 rounded px-2 py-1 text-xs text-white w-full focus:border-brand-500 outline-none"}),a.jsx("button",{onClick:()=>Y(O,N),className:"text-slate-600 hover:text-red-400 px-1",children:a.jsx(wt,{size:12})})]},N)),F.squads.length===0&&a.jsx("div",{className:"text-[10px] text-slate-600 italic pl-8",children:"No squads"})]})]},O))]}),a.jsx("div",{className:"p-4 text-[10px] text-slate-500 italic border-t border-white/5 bg-slate-900",children:"Removing wings or squads from this list will DELETE them in-game immediately upon saving."})]})]})]}):a.jsx("div",{className:"p-12 text-center",children:"Loading..."})},cy=()=>{var w;const{token:e}=Jc(),[t,n]=j.useState(null),[s,r]=j.useState({xups:0,pilots:0}),[i,l]=j.useState([]),[o,c]=j.useState(new Set),[d,u]=j.useState(!1),[h,f]=j.useState(null),p=[{id:"x_up",label:"X-Up",icon:""},{id:"approved",label:"Approved",icon:""},{id:"invited",label:"Invited",icon:""},{id:"esi_join",label:"Detected",icon:""},{id:"left_waitlist",label:"Left WL",icon:""},{id:"left_fleet",label:"Left Fleet",icon:""},{id:"fit_update",label:"Update",icon:""},{id:"ship_change",label:"Reship",icon:""},{id:"moved",label:"Moved",icon:""},{id:"promoted",label:"Promoted",icon:""},{id:"demoted",label:"Demoted",icon:""},{id:"kicked",label:"Kicked",icon:""},{id:"denied",label:"Denied",icon:""}];j.useEffect(()=>{fetch(`/api/management/fleets/${e}/history/`).then(_=>_.json()).then(_=>{n(_.fleet),r(_.stats),l(_.logs)})},[e]);const g=_=>{const S=new Set(o);S.has(_)?S.delete(_):S.add(_),c(S)},v=()=>c(new Set),b=_=>{u(!0),f(null),fetch(`/fleet/history/api/${_}/`).then(S=>S.json()).then(S=>f(S)).catch(()=>f({error:"Error loading data"}))},x=_=>{switch(_){case"x_up":return"bg-brand-500 shadow-[0_0_8px_rgba(245,158,11,0.5)]";case"approved":return"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]";case"esi_join":return"bg-blue-500";case"left_waitlist":return"bg-red-500";case"denied":return"bg-red-600";default:return"bg-slate-600"}},m=_=>{switch(_){case"MATCH":return{border:"border-transparent",bg:"bg-transparent",icon:null,textClass:"text-slate-400"};case"UPGRADE":return{border:"border-green-500/50",bg:"bg-green-500/10",icon:"UPGRADE",textClass:"text-green-400"};case"SIDEGRADE":return{border:"border-blue-500/50",bg:"bg-blue-500/10",icon:"SIDEGRADE",textClass:"text-blue-400"};case"DOWNGRADE":return{border:"border-amber-500/50",bg:"bg-amber-500/10",icon:"",textClass:"text-amber-400"};case"MISSING":return{border:"border-red-500/50",bg:"bg-red-500/10",icon:"MISSING",textClass:"text-red-400"};case"EXTRA":return{border:"border-purple-500/50",bg:"bg-purple-500/10",icon:"EXTRA",textClass:"text-purple-400"};default:return{border:"border-white/10",bg:"bg-transparent",icon:"?",textClass:"text-slate-500"}}};if(!t)return a.jsx("div",{className:"p-12 text-center",children:"Loading History..."});const y=i.filter(_=>o.size===0||o.has(_.action));return a.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)] bg-dark-950 overflow-hidden relative rounded-xl border border-white/5 shadow-2xl",children:[a.jsxs("div",{className:"glass-header px-6 py-4 flex justify-between items-center shrink-0 z-40 bg-slate-900/90 backdrop-blur-md shadow-lg relative border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Ee,{to:"/management/fleets",className:"btn-secondary py-1.5 px-3 text-xs flex items-center gap-2 group",children:[a.jsx(Ga,{size:12,className:"group-hover:-translate-x-1 transition"})," Fleets"]}),a.jsx("div",{className:"h-6 w-px bg-white/10"}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-bold text-white tracking-tight",children:[t.name," ",a.jsx("span",{className:"text-slate-500 font-normal",children:"History Log"})]}),a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Comprehensive audit trail of all fleet events."})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"px-3 py-1 bg-white/5 border border-white/5 rounded-full flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-500"}),a.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"X-Ups"}),a.jsx("span",{className:"text-sm font-bold text-white font-mono",children:s.xups})]}),a.jsxs("div",{className:"px-3 py-1 bg-white/5 border border-white/5 rounded-full flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Unique Pilots"}),a.jsx("span",{className:"text-sm font-bold text-white font-mono",children:s.pilots})]}),a.jsx(Ee,{to:`/fleet/${t.join_token}`,className:"btn-primary text-xs py-1 px-3 shadow-brand-500/20",children:"Open Board "})]})]}),a.jsxs("div",{className:"px-6 py-3 border-b border-white/5 bg-slate-900/50 backdrop-blur-md flex-shrink-0 flex flex-wrap gap-2 items-center relative z-30 overflow-x-auto no-scrollbar shadow-sm",children:[a.jsx("button",{onClick:v,className:"p-1.5 rounded-md border border-red-500/30 text-red-400 hover:bg-red-500/20 transition mr-2",title:"Clear Filters",children:a.jsx(Dm,{size:16})}),p.map(_=>a.jsxs("button",{onClick:()=>g(_.id),className:K("flex items-center gap-1.5 px-2.5 py-1 rounded border text-[10px] uppercase font-bold transition select-none",o.has(_.id)?"bg-brand-500 text-white border-brand-400":"bg-white/5 text-slate-400 border-white/10 hover:text-white hover:border-slate-500"),children:[a.jsx("span",{children:_.icon})," ",_.label]},_.id))]}),a.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-6 relative z-0 bg-dark-950/50",children:a.jsxs("div",{className:"max-w-5xl mx-auto space-y-4",children:[y.map((_,S)=>a.jsxs("div",{className:"flex gap-4 group",children:[a.jsxs("div",{className:"w-24 pt-3 text-right flex-shrink-0",children:[a.jsx("div",{className:"text-xs font-mono font-bold text-slate-400",children:new Date(_.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),a.jsx("div",{className:"text-[10px] text-slate-600",children:new Date(_.timestamp).toLocaleDateString([],{month:"short",day:"numeric"})})]}),a.jsxs("div",{className:"flex flex-col items-center relative",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-4 z-10 ${x(_.action)}`}),S!==y.length-1&&a.jsx("div",{className:"w-px bg-white/10 flex-grow h-full absolute top-5 bottom-0"})]}),a.jsx("div",{className:"flex-grow pb-4",children:a.jsxs("div",{className:"glass-panel p-3 border border-white/5 hover:border-white/10 transition flex justify-between items-center bg-slate-900/80",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${_.character_id}/portrait?size=64`,className:"w-10 h-10 rounded border border-white/10 opacity-80 group-hover:opacity-100 transition",alt:""}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold text-slate-200",children:_.character_name}),a.jsx("span",{className:"badge badge-slate text-[9px]",children:_.action.toUpperCase().replace("_"," ")})]}),a.jsxs("div",{className:"text-xs text-slate-500 mt-0.5 flex gap-2 items-center",children:[_.ship_name&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{children:""})," ",_.ship_name]}),_.details&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"opacity-50",children:"|"}),a.jsx("span",{className:"italic text-slate-400",children:_.details})]}),_.fit_eft&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"opacity-50",children:"|"}),a.jsxs("button",{onClick:()=>b(_.id),className:"text-brand-400 hover:text-brand-300 underline font-bold flex items-center gap-1",children:[a.jsx("span",{children:""})," View Fit"]})]})]})]})]}),_.actor_name&&_.actor_name!==_.character_name&&a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider block",children:"By"}),a.jsx("span",{className:"text-xs font-bold text-slate-300",children:_.actor_name})]})]})})]},_.id)),y.length===0&&a.jsx("div",{className:"p-12 text-center text-slate-500 italic",children:"No history recorded or matching filter."})]})}),d&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-dark-950/80 backdrop-blur-sm",children:a.jsxs("div",{className:"relative transform rounded-xl bg-slate-900 border border-white/10 shadow-2xl sm:w-full sm:max-w-5xl max-h-[90vh] flex flex-col w-full h-full",children:[a.jsxs("div",{className:"glass-header px-6 py-4 flex justify-between items-center shrink-0",children:[h&&!h.error?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:`https://images.evetech.net/types/${h.hull_id}/icon?size=64`,className:"w-14 h-14 rounded-lg border border-white/10 bg-dark-900 shadow-lg",alt:""}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white tracking-tight flex items-center gap-2",children:[a.jsx("span",{className:"text-brand-500",children:h.character_name}),a.jsx("span",{className:"text-slate-600 text-lg",children:"vs."}),a.jsx("span",{className:"text-slate-300",children:h.fit_name||"Historical Fit"})]}),a.jsxs("p",{className:"text-sm text-slate-400 font-mono mt-0.5",children:[h.ship_name," (",h.corp_name,")"]})]})]}):a.jsx("h3",{children:"Loading..."}),a.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-white transition p-2 hover:bg-white/5 rounded-full",children:a.jsx(wt,{size:24})})]}),a.jsx("div",{className:"px-6 py-6 grid grid-cols-1 md:grid-cols-3 gap-8 overflow-hidden h-full bg-dark-950",children:h&&!h.error?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"md:col-span-1 flex flex-col h-full overflow-hidden",children:[a.jsx("div",{className:"glass-panel p-4 mb-4 flex-grow overflow-y-auto custom-scrollbar bg-black/30 border-white/5",children:a.jsx("pre",{className:"text-[10px] text-slate-400 font-mono whitespace-pre-wrap break-all select-all",children:h.raw_eft})}),a.jsxs("button",{onClick:()=>navigator.clipboard.writeText(h.raw_eft),className:"btn-secondary w-full text-xs py-2 shrink-0",children:[a.jsx(Pm,{size:14})," Copy to Clipboard"]})]}),a.jsx("div",{className:"md:col-span-2 glass-panel p-4 overflow-y-auto custom-scrollbar border-white/5 bg-slate-900/50",children:(w=h.slots)==null?void 0:w.map((_,S)=>a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1 border-b border-white/5 pb-1",children:[a.jsx("h5",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-wider",children:_.name}),_.is_hardpoint&&a.jsxs("span",{className:"text-[9px] text-slate-600 font-mono bg-white/5 px-1.5 rounded",children:["(",_.used," / ",_.total,")"]})]}),a.jsx("div",{className:"space-y-1",children:_.modules.map((C,E)=>{const A=m(C.status),z=E%2===0?"bg-white/5":"bg-transparent",R=C.status==="MATCH"?z:A.bg;return a.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-0.5 rounded border ${A.border} ${R} min-h-[2rem]`,children:[a.jsx("img",{src:`https://images.evetech.net/types/${C.id}/icon?size=32`,className:"w-6 h-6 rounded border border-black/50 shadow-inner flex-shrink-0",alt:""}),a.jsx("div",{className:"flex-grow min-w-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-slate-200 truncate",children:C.name}),A.icon&&a.jsx("span",{className:`text-[10px] ${A.textClass}`,children:A.icon})]})}),C.quantity>1&&a.jsxs("span",{className:"text-[10px] text-brand-400 font-mono px-1.5 bg-brand-900/20 rounded border border-brand-500/30",children:["x",C.quantity]})]},E)})})]},S))})]}):a.jsx("div",{className:"col-span-3 text-center text-slate-500",children:(h==null?void 0:h.error)||"Loading..."})})]})})]})},dy=()=>{const[e,t]=j.useState([]),[n,s]=j.useState("all"),[r,i]=j.useState(!1),[l,o]=j.useState(null),[c,d]=j.useState(""),[u,h]=j.useState([]),[f,p]=j.useState(null),[g,v]=j.useState(""),[b,x]=j.useState("permanent"),m=()=>{fetch(`/api/management/bans/?filter=${n}`).then(S=>S.json()).then(S=>t(S.bans||[]))};j.useEffect(()=>{m()},[n]),j.useEffect(()=>{if(c.length<3){h([]);return}const S=setTimeout(()=>{fetch(`/api/mgmt/search_users/?q=${encodeURIComponent(c)}`).then(C=>C.json()).then(C=>h(C.results||[]))},300);return()=>clearTimeout(S)},[c]);const y=(S=null)=>{S?(o(S.id),p({id:S.user_id,username:S.user_name}),v(S.reason),x("permanent")):(o(null),p(null),v(""),x("permanent"),d(""),h([])),i(!0)},w=()=>{var E;if(!f&&!l)return alert("Please select a user.");if(!g)return alert("Please provide a reason.");const S={reason:g,duration:b,action:l?"update":"add"};l?S.ban_id=l:S.user_id=f.id;const C=(E=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:E[1];fetch(l?"/api/mgmt/bans/update/":"/api/mgmt/bans/add/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C},body:JSON.stringify(S)}).then(A=>A.json()).then(A=>{A.success?(i(!1),m()):alert(A.error)})},_=(S,C)=>{var A;if(!confirm(`Are you sure you want to remove the ban for ${C}?`))return;const E=(A=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:A[1];fetch("/api/mgmt/bans/update/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":E},body:JSON.stringify({action:"remove",ban_id:S})}).then(z=>z.json()).then(z=>{z.success?m():alert(z.error)})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"heading-1",children:"Ban Management"}),a.jsx("p",{className:"text-slate-400 mt-1 text-sm",children:"Manage user bans and restrictions."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("a",{href:"/management/bans/audit",className:"btn-secondary text-xs py-2 px-4 flex items-center gap-2",children:[a.jsx("span",{children:""})," Audit Log"]}),a.jsxs("button",{onClick:()=>y(),className:"btn-danger text-xs py-2 px-4 shadow-lg shadow-red-900/20 flex items-center gap-2",children:[a.jsx("span",{children:""})," Ban User"]})]})]}),a.jsx("div",{className:"flex gap-2",children:["all","active","permanent","expired"].map(S=>a.jsx("button",{onClick:()=>s(S),className:`px-3 py-1.5 rounded-lg text-xs font-bold uppercase transition border ${n===S?"bg-brand-500 text-white border-brand-400":"bg-white/5 text-slate-400 border-white/10 hover:text-white hover:border-white/30"}`,children:S},S))}),a.jsxs("div",{className:"glass-panel overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-white/5",children:a.jsx("h3",{className:"font-bold text-slate-200 capitalize",children:n==="all"?"All Records":`${n} Only`})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[a.jsx("thead",{className:"text-xs uppercase bg-white/5 text-slate-300 font-bold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"User"}),a.jsx("th",{className:"px-6 py-4",children:"Reason"}),a.jsx("th",{className:"px-6 py-4",children:"Issued By"}),a.jsx("th",{className:"px-6 py-4",children:"Issued At"}),a.jsx("th",{className:"px-6 py-4",children:"Expires"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5 text-slate-300",children:[e.map(S=>a.jsxs("tr",{className:`hover:bg-white/5 transition ${S.is_active?"":"opacity-50"}`,children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-xs font-bold text-slate-400 overflow-hidden",children:S.user_char_id?a.jsx("img",{src:`https://images.evetech.net/characters/${S.user_char_id}/portrait?size=64`,alt:"",className:"w-full h-full object-cover"}):(S.user_name||"?").slice(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-slate-200",children:S.user_char_name||S.user_name}),a.jsxs("div",{className:"text-xs text-slate-500",children:["ID: ",S.user_char_id||S.user_name]})]})]})}),a.jsx("td",{className:"px-6 py-4 max-w-xs truncate",title:S.reason,children:S.reason}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"badge badge-slate",children:S.issuer_char_name||S.issuer_name||"System"})}),a.jsx("td",{className:"px-6 py-4 text-slate-400 text-xs font-mono",children:new Date(S.created_at).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 text-xs font-mono",children:S.expires_at?a.jsx("span",{className:S.is_active?"text-brand-400":"text-green-400",children:new Date(S.expires_at).toLocaleString()}):a.jsx("span",{className:"text-red-400 font-bold uppercase",children:"Permanent"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>y(S),className:"btn-secondary p-1.5",title:"Edit Ban",children:a.jsx(ed,{size:16})}),a.jsx("button",{onClick:()=>_(S.id,S.user_char_name||S.user_name),className:"btn-secondary p-1.5 hover:text-green-400 hover:border-green-500/50",title:"Lift Ban",children:a.jsx(Dm,{size:16})})]})})]},S.id)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-12 text-center text-slate-500 italic",children:"No bans found matching filter."})})]})]})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-dark-950/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl w-full max-w-lg transform transition-all scale-100",children:[a.jsxs("div",{className:"glass-header px-6 py-4 flex justify-between items-center border-b border-white/5",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:l?"Update Ban":"Ban User"}),a.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-white transition",children:""})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[!l&&a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Target User"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search by character name...",value:c,onChange:S=>d(S.target.value)}),a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(Yt,{className:"w-5 h-5 text-slate-500"})}),u.length>0&&a.jsx("div",{className:"absolute w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50 max-h-48 overflow-y-auto custom-scrollbar",children:u.map(S=>a.jsxs("div",{className:"px-4 py-2 hover:bg-slate-700 cursor-pointer border-b border-slate-700 last:border-0 transition",onClick:()=>{p(S),d(S.username),h([])},children:[a.jsx("div",{className:"font-bold text-slate-200 text-sm",children:S.username}),a.jsx("div",{className:"text-xs text-slate-400",children:S.corp})]},S.id))})]}),f&&a.jsx("input",{type:"hidden",value:f.id})]}),l&&a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Target User"}),a.jsx("input",{type:"text",readOnly:!0,className:"input-field bg-slate-800 text-slate-400 cursor-not-allowed border-slate-700",value:(f==null?void 0:f.username)||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Reason"}),a.jsx("textarea",{rows:"3",className:"input-field resize-none",placeholder:"Why is this user being banned?",value:g,onChange:S=>v(S.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Duration"}),a.jsxs("select",{className:"select-field",value:b,onChange:S=>x(S.target.value),children:[a.jsx("option",{value:"5",children:"5 Minutes"}),a.jsx("option",{value:"60",children:"1 Hour"}),a.jsx("option",{value:"1440",children:"24 Hours"}),a.jsx("option",{value:"10080",children:"1 Week"}),a.jsx("option",{value:"43200",children:"1 Month"}),a.jsx("option",{value:"525600",children:"1 Year"}),a.jsx("option",{value:"permanent",children:"Permanent"})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-white/5 bg-slate-900/50 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>i(!1),className:"btn-ghost text-xs",children:"Cancel"}),a.jsx("button",{onClick:w,className:"btn-danger text-xs px-6 shadow-lg shadow-red-900/20",children:"Confirm Ban"})]})]})})]})},uy=()=>{const[e,t]=j.useState([]),[n,s]=mv(),r=n.get("q")||"",i=parseInt(n.get("page"))||1,[l,o]=j.useState({has_next:!1,has_previous:!1,num_pages:1,current_page:1});j.useEffect(()=>{fetch(`/api/management/bans/audit/?q=${encodeURIComponent(r)}&page=${i}`).then(d=>d.json()).then(d=>{t(d.logs||[]),o(d.pagination||{})})},[r,i]);const c=d=>{d.preventDefault();const u=new FormData(d.target);s({q:u.get("q"),page:1})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 border-b border-white/5 pb-6",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h1",{className:"heading-1",children:"Ban Audit Log"}),a.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("p",{className:"text-slate-400 text-sm",children:"History of all ban-related actions."}),a.jsxs(Ee,{to:"/management/bans",className:"text-xs text-brand-400 hover:text-white transition flex items-center gap-1",children:[a.jsx(Ga,{size:12})," Manage Bans"]})]})]}),a.jsxs("form",{onSubmit:c,className:"w-full md:w-auto relative group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none transition group-focus-within:text-brand-500",children:a.jsx(Yt,{className:"w-5 h-5 text-slate-500"})}),a.jsx("input",{type:"text",name:"q",defaultValue:r,className:"input-field pl-10 md:w-64 bg-dark-900/50 border-white/10 focus:border-brand-500",placeholder:"Search user or details..."})]})]}),a.jsxs("div",{className:"glass-panel overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[a.jsx("thead",{className:"text-xs uppercase bg-white/5 text-slate-300 font-bold border-b border-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Timestamp"}),a.jsx("th",{className:"px-6 py-4",children:"Action"}),a.jsx("th",{className:"px-6 py-4",children:"Target User"}),a.jsx("th",{className:"px-6 py-4",children:"Performed By"}),a.jsx("th",{className:"px-6 py-4",children:"Details"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5 text-slate-300",children:[e.map(d=>a.jsxs("tr",{className:"hover:bg-white/5 transition group",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-xs",children:new Date(d.timestamp).toLocaleString()}),a.jsxs("td",{className:"px-6 py-4",children:[d.action==="create"&&a.jsx("span",{className:"badge badge-red bg-red-900/20 text-red-400 border-red-500/30",children:"BANNED"}),d.action==="update"&&a.jsx("span",{className:"badge badge-brand bg-amber-900/20 text-amber-400 border-amber-500/30",children:"UPDATED"}),d.action==="remove"&&a.jsx("span",{className:"badge badge-green bg-green-900/20 text-green-400 border-green-500/30",children:"REMOVED"}),d.action==="expire"&&a.jsx("span",{className:"badge badge-slate bg-slate-800 text-slate-400 border-slate-600",children:"EXPIRED"}),!["create","update","remove","expire"].includes(d.action)&&a.jsx("span",{className:"badge badge-slate",children:d.action.toUpperCase()})]}),a.jsx("td",{className:"px-6 py-4 font-bold text-white",children:d.target_char_name||d.target_user_username}),a.jsx("td",{className:"px-6 py-4 text-slate-400",children:d.actor_char_name||d.actor_username||"System"}),a.jsx("td",{className:"px-6 py-4 text-xs text-slate-500 italic max-w-md truncate group-hover:text-slate-300 transition",title:d.details,children:d.details})]},d.id)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-12 text-center text-slate-500 italic",children:"No audit logs found."})})]})]})}),l.num_pages>1&&a.jsxs("div",{className:"p-4 border-t border-white/5 flex justify-between items-center bg-white/5",children:[a.jsxs("span",{className:"text-xs text-slate-500 font-mono",children:["Page ",l.current_page," of ",l.num_pages]}),a.jsxs("div",{className:"flex gap-2",children:[l.has_previous&&a.jsx("button",{onClick:()=>s({q:r,page:i-1}),className:"btn-secondary py-1 px-3 text-xs",children:"Previous"}),l.has_next&&a.jsx("button",{onClick:()=>s({q:r,page:i+1}),className:"btn-secondary py-1 px-3 text-xs",children:"Next"})]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qr(e){return e+.5|0}const ln=(e,t,n)=>Math.max(Math.min(e,n),t);function nr(e){return ln(Qr(e*2.55),0,255)}function vn(e){return ln(Qr(e*255),0,255)}function Ft(e){return ln(Qr(e/2.55)/100,0,1)}function Wu(e){return ln(Qr(e*100),0,100)}const it={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ko=[..."0123456789ABCDEF"],hy=e=>Ko[e&15],fy=e=>Ko[(e&240)>>4]+Ko[e&15],yi=e=>(e&240)>>4===(e&15),py=e=>yi(e.r)&&yi(e.g)&&yi(e.b)&&yi(e.a);function my(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&it[e[1]]*17,g:255&it[e[2]]*17,b:255&it[e[3]]*17,a:t===5?it[e[4]]*17:255}:(t===7||t===9)&&(n={r:it[e[1]]<<4|it[e[2]],g:it[e[3]]<<4|it[e[4]],b:it[e[5]]<<4|it[e[6]],a:t===9?it[e[7]]<<4|it[e[8]]:255})),n}const xy=(e,t)=>e<255?t(e):"";function gy(e){var t=py(e)?hy:fy;return e?"#"+t(e.r)+t(e.g)+t(e.b)+xy(e.a,t):void 0}const by=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bm(e,t,n){const s=t*Math.min(n,1-n),r=(i,l=(i+e/30)%12)=>n-s*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function vy(e,t,n){const s=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function yy(e,t,n){const s=Bm(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)s[r]*=1-t-n,s[r]+=t;return s}function wy(e,t,n,s,r){return e===r?(t-n)/s+(t<n?6:0):t===r?(n-e)/s+2:(e-t)/s+4}function id(e){const n=e.r/255,s=e.g/255,r=e.b/255,i=Math.max(n,s,r),l=Math.min(n,s,r),o=(i+l)/2;let c,d,u;return i!==l&&(u=i-l,d=o>.5?u/(2-i-l):u/(i+l),c=wy(n,s,r,u,i),c=c*60+.5),[c|0,d||0,o]}function ad(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(vn)}function ld(e,t,n){return ad(Bm,e,t,n)}function jy(e,t,n){return ad(yy,e,t,n)}function _y(e,t,n){return ad(vy,e,t,n)}function Hm(e){return(e%360+360)%360}function ky(e){const t=by.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?nr(+t[5]):vn(+t[5]));const r=Hm(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=jy(r,i,l):t[1]==="hsv"?s=_y(r,i,l):s=ld(r,i,l),{r:s[0],g:s[1],b:s[2],a:n}}function Ny(e,t){var n=id(e);n[0]=Hm(n[0]+t),n=ld(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Sy(e){if(!e)return;const t=id(e),n=t[0],s=Wu(t[1]),r=Wu(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${r}%, ${Ft(e.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Uu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Cy(){const e={},t=Object.keys(Vu),n=Object.keys(Uu);let s,r,i,l,o;for(s=0;s<t.length;s++){for(l=o=t[s],r=0;r<n.length;r++)i=n[r],o=o.replace(i,Uu[i]);i=parseInt(Vu[l],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let wi;function My(e){wi||(wi=Cy(),wi.transparent=[0,0,0,0]);const t=wi[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ey=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Py(e){const t=Ey.exec(e);let n=255,s,r,i;if(t){if(t[7]!==s){const l=+t[7];n=t[8]?nr(l):ln(l*255,0,255)}return s=+t[1],r=+t[3],i=+t[5],s=255&(t[2]?nr(s):ln(s,0,255)),r=255&(t[4]?nr(r):ln(r,0,255)),i=255&(t[6]?nr(i):ln(i,0,255)),{r:s,g:r,b:i,a:n}}}function Ty(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ft(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ol=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Jn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ry(e,t,n){const s=Jn(Ft(e.r)),r=Jn(Ft(e.g)),i=Jn(Ft(e.b));return{r:vn(Ol(s+n*(Jn(Ft(t.r))-s))),g:vn(Ol(r+n*(Jn(Ft(t.g))-r))),b:vn(Ol(i+n*(Jn(Ft(t.b))-i))),a:e.a+n*(t.a-e.a)}}function ji(e,t,n){if(e){let s=id(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=ld(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function $m(e,t){return e&&Object.assign(t||{},e)}function Xu(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vn(e[3]))):(t=$m(e,{r:0,g:0,b:0,a:1}),t.a=vn(t.a)),t}function Ly(e){return e.charAt(0)==="r"?Py(e):ky(e)}class Ir{constructor(t){if(t instanceof Ir)return t;const n=typeof t;let s;n==="object"?s=Xu(t):n==="string"&&(s=my(t)||My(t)||Ly(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=$m(this._rgb);return t&&(t.a=Ft(t.a)),t}set rgb(t){this._rgb=Xu(t)}rgbString(){return this._valid?Ty(this._rgb):void 0}hexString(){return this._valid?gy(this._rgb):void 0}hslString(){return this._valid?Sy(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,r=t.rgb;let i;const l=n===i?.5:n,o=2*l-1,c=s.a-r.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-d,s.r=255&d*s.r+i*r.r+.5,s.g=255&d*s.g+i*r.g+.5,s.b=255&d*s.b+i*r.b+.5,s.a=l*s.a+(1-l)*r.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=Ry(this._rgb,t._rgb,n)),this}clone(){return new Ir(this.rgb)}alpha(t){return this._rgb.a=vn(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Qr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ji(this._rgb,2,t),this}darken(t){return ji(this._rgb,2,-t),this}saturate(t){return ji(this._rgb,1,t),this}desaturate(t){return ji(this._rgb,1,-t),this}rotate(t){return Ny(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Lt(){}const Oy=(()=>{let e=0;return()=>e++})();function ae(e){return e==null}function ke(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Z(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ft(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Nt(e,t){return ft(e)?e:t}function Q(e,t){return typeof e>"u"?t:e}const Dy=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Wm=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function de(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function te(e,t,n,s){let r,i,l;if(ke(e))for(i=e.length,r=0;r<i;r++)t.call(n,e[r],r);else if(Z(e))for(l=Object.keys(e),i=l.length,r=0;r<i;r++)t.call(n,e[l[r]],l[r])}function wa(e,t){let n,s,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function ja(e){if(ke(e))return e.map(ja);if(Z(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let r=0;for(;r<s;++r)t[n[r]]=ja(e[n[r]]);return t}return e}function Um(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function zy(e,t,n,s){if(!Um(e))return;const r=t[e],i=n[e];Z(r)&&Z(i)?Br(r,i,s):t[e]=ja(i)}function Br(e,t,n){const s=ke(t)?t:[t],r=s.length;if(!Z(e))return e;n=n||{};const i=n.merger||zy;let l;for(let o=0;o<r;++o){if(l=s[o],!Z(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)i(c[d],e,l,n)}return e}function xr(e,t){return Br(e,t,{merger:Ay})}function Ay(e,t,n){if(!Um(e))return;const s=t[e],r=n[e];Z(s)&&Z(r)?xr(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ja(r))}const Yu={"":e=>e,x:e=>e.x,y:e=>e.y};function Fy(e){const t=e.split("."),n=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Iy(e){const t=Fy(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Xn(e,t){return(Yu[t]||(Yu[t]=Iy(t)))(e)}function od(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Hr=e=>typeof e<"u",_n=e=>typeof e=="function",Ku=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function By(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ie=Math.PI,je=2*ie,_a=Number.POSITIVE_INFINITY,Hy=ie/180,Se=ie/2,Mn=ie/4,qu=ie*2/3,Vm=Math.log10,yn=Math.sign;function Ui(e,t,n){return Math.abs(e-t)<n}function Gu(e){const t=Math.round(e);e=Ui(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Vm(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function $y(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function Wy(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ka(e){return!Wy(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Uy(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Vy(e,t,n){let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Ht(e){return e*(ie/180)}function Xy(e){return e*(180/ie)}function Qu(e){if(!ft(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Xm(e,t){const n=t.x-e.x,s=t.y-e.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*ie&&(i+=je),{angle:i,distance:r}}function Yy(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Et(e){return(e%je+je)%je}function Na(e,t,n,s){const r=Et(e),i=Et(t),l=Et(n),o=Et(i-r),c=Et(l-r),d=Et(r-i),u=Et(r-l);return r===i||r===l||s&&i===l||o>c&&d<u}function qe(e,t,n){return Math.max(t,Math.min(n,e))}function Ky(e){return qe(e,-32768,32767)}function An(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function cd(e,t,n){n=n||(l=>e[l]<t);let s=e.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const qo=(e,t,n,s)=>cd(e,n,s?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),qy=(e,t,n)=>cd(e,n,s=>e[s][t]>=n);function Gy(e,t,n){let s=0,r=e.length;for(;s<r&&e[s]<t;)s++;for(;r>s&&e[r-1]>n;)r--;return s>0||r<e.length?e.slice(s,r):e}const Ym=["push","pop","shift","splice","unshift"];function Qy(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ym.forEach(n=>{const s="_onData"+od(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const l=r.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[s]=="function"&&o[s](...i)}),l}})})}function Ju(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(Ym.forEach(i=>{delete e[i]}),delete e._chartjs)}function Km(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const qm=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Gm(e,t){let n=[],s=!1;return function(...r){n=r,s||(s=!0,qm.call(window,()=>{s=!1,e.apply(t,n)}))}}function Jy(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const dd=e=>e==="start"?"left":e==="end"?"right":"center",ze=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Zy=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,_i=e=>e===0||e===1,Zu=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*je/n)),eh=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*je/n)+1,gr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Se)+1,easeOutSine:e=>Math.sin(e*Se),easeInOutSine:e=>-.5*(Math.cos(ie*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>_i(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>_i(e)?e:Zu(e,.075,.3),easeOutElastic:e=>_i(e)?e:eh(e,.075,.3),easeInOutElastic(e){return _i(e)?e:e<.5?.5*Zu(e*2,.1125,.45):.5+.5*eh(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-gr.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?gr.easeInBounce(e*2)*.5:gr.easeOutBounce(e*2-1)*.5+.5};function Qm(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function th(e){return Qm(e)?e:new Ir(e)}function Dl(e){return Qm(e)?e:new Ir(e).saturate(.5).darken(.1).hexString()}const e1=["x","y","borderWidth","radius","tension"],t1=["color","borderColor","backgroundColor"];function n1(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:t1},numbers:{type:"number",properties:e1}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function s1(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const nh=new Map;function r1(e,t){t=t||{};const n=e+JSON.stringify(t);let s=nh.get(n);return s||(s=new Intl.NumberFormat(e,t),nh.set(n,s)),s}function ud(e,t,n){return r1(t,n).format(e)}const i1={values(e){return ke(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let r,i=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),i=a1(e,n)}const l=Vm(Math.abs(i)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),ud(e,s,c)}};function a1(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Jm={formatters:i1};function l1(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Yn=Object.create(null),Go=Object.create(null);function br(e,t){if(!t)return e;const n=t.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function zl(e,t,n){return typeof t=="string"?Br(br(e,t),n):Br(br(e,""),t)}class o1{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Dl(r.backgroundColor),this.hoverBorderColor=(s,r)=>Dl(r.borderColor),this.hoverColor=(s,r)=>Dl(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return zl(this,t,n)}get(t){return br(this,t)}describe(t,n){return zl(Go,t,n)}override(t,n){return zl(Yn,t,n)}route(t,n,s,r){const i=br(this,t),l=br(this,s),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[o],d=l[r];return Z(c)?Object.assign({},d,c):Q(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(n=>n(this))}}var ye=new o1({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[n1,s1,l1]);function c1(e){return!e||ae(e.size)||ae(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function sh(e,t,n,s,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>s&&(s=i),s}function En(e,t,n){const s=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*s)/s+r}function rh(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ih(e,t,n,s){Zm(e,t,n,s,null)}function Zm(e,t,n,s,r){let i,l,o,c,d,u,h,f;const p=t.pointStyle,g=t.rotation,v=t.radius;let b=(g||0)*Hy;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),p){default:r?e.ellipse(n,s,r/2,v,0,0,je):e.arc(n,s,v,0,je),e.closePath();break;case"triangle":u=r?r/2:v,e.moveTo(n+Math.sin(b)*u,s-Math.cos(b)*v),b+=qu,e.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*v),b+=qu,e.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*v),e.closePath();break;case"rectRounded":d=v*.516,c=v-d,l=Math.cos(b+Mn)*c,h=Math.cos(b+Mn)*(r?r/2-d:c),o=Math.sin(b+Mn)*c,f=Math.sin(b+Mn)*(r?r/2-d:c),e.arc(n-h,s-o,d,b-ie,b-Se),e.arc(n+f,s-l,d,b-Se,b),e.arc(n+h,s+o,d,b,b+Se),e.arc(n-f,s+l,d,b+Se,b+ie),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*v,u=r?r/2:c,e.rect(n-u,s-c,2*u,2*c);break}b+=Mn;case"rectRot":h=Math.cos(b)*(r?r/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),e.moveTo(n-h,s-o),e.lineTo(n+f,s-l),e.lineTo(n+h,s+o),e.lineTo(n-f,s+l),e.closePath();break;case"crossRot":b+=Mn;case"cross":h=Math.cos(b)*(r?r/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),e.moveTo(n-h,s-o),e.lineTo(n+h,s+o),e.moveTo(n+f,s-l),e.lineTo(n-f,s+l);break;case"star":h=Math.cos(b)*(r?r/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),e.moveTo(n-h,s-o),e.lineTo(n+h,s+o),e.moveTo(n+f,s-l),e.lineTo(n-f,s+l),b+=Mn,h=Math.cos(b)*(r?r/2:v),l=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),e.moveTo(n-h,s-o),e.lineTo(n+h,s+o),e.moveTo(n+f,s-l),e.lineTo(n-f,s+l);break;case"line":l=r?r/2:Math.cos(b)*v,o=Math.sin(b)*v,e.moveTo(n-l,s-o),e.lineTo(n+l,s+o);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(b)*(r?r/2:v),s+Math.sin(b)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ex(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function hd(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function fd(e){e.restore()}function d1(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ae(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function u1(e,t,n,s,r){if(r.strikethrough||r.underline){const i=e.measureText(s),l=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,u=r.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function h1(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function $r(e,t,n,s,r,i={}){const l=ke(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=r.string,d1(e,i),c=0;c<l.length;++c)d=l[c],i.backdrop&&h1(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ae(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,n,s,i.maxWidth)),e.fillText(d,n,s,i.maxWidth),u1(e,n,s,d,i),s+=Number(r.lineHeight);e.restore()}function Sa(e,t){const{x:n,y:s,w:r,h:i,radius:l}=t;e.arc(n+l.topLeft,s+l.topLeft,l.topLeft,1.5*ie,ie,!0),e.lineTo(n,s+i-l.bottomLeft),e.arc(n+l.bottomLeft,s+i-l.bottomLeft,l.bottomLeft,ie,Se,!0),e.lineTo(n+r-l.bottomRight,s+i),e.arc(n+r-l.bottomRight,s+i-l.bottomRight,l.bottomRight,Se,0,!0),e.lineTo(n+r,s+l.topRight),e.arc(n+r-l.topRight,s+l.topRight,l.topRight,0,-Se,!0),e.lineTo(n+l.topLeft,s)}const f1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,p1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function m1(e,t){const n=(""+e).match(f1);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const x1=e=>+e||0;function pd(e,t){const n={},s=Z(t),r=s?Object.keys(t):t,i=Z(e)?s?l=>Q(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of r)n[l]=x1(i(l));return n}function tx(e){return pd(e,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(e){return pd(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pt(e){const t=tx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Fe(e,t){e=e||{},t=t||ye.font;let n=Q(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Q(e.style,t.style);s&&!(""+s).match(p1)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Q(e.family,t.family),lineHeight:m1(Q(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Q(e.weight,t.weight),string:""};return r.string=c1(r),r}function ki(e,t,n,s){let r,i,l;for(r=0,i=e.length;r<i;++r)if(l=e[r],l!==void 0&&l!==void 0)return l}function g1(e,t,n){const{min:s,max:r}=e,i=Wm(t,(r-s)/2),l=(o,c)=>n&&o===0?0:o+c;return{min:l(s,-Math.abs(i)),max:l(r,i)}}function zs(e,t){return Object.assign(Object.create(e),t)}function md(e,t=[""],n,s,r=()=>e[0]){const i=n||e;typeof s>"u"&&(s=ix("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:r,override:o=>md([o,...e],t,i,s)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return sx(o,c,()=>N1(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return lh(o).includes(c)},ownKeys(o){return lh(o)},set(o,c,d){const u=o._storage||(o._storage=r());return o[c]=u[c]=d,delete o._keys,!0}})}function Ps(e,t,n,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:nx(e,s),setContext:i=>Ps(e,i,n,s),override:i=>Ps(e.override(i),t,n,s)};return new Proxy(r,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,o){return sx(i,l,()=>v1(i,l,o))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,o){return e[l]=o,delete i[l],!0}})}function nx(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:s,isScriptable:_n(n)?n:()=>n,isIndexable:_n(s)?s:()=>s}}const b1=(e,t)=>e?e+od(t):t,xd=(e,t)=>Z(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sx(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function v1(e,t,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:l}=e;let o=s[t];return _n(o)&&l.isScriptable(t)&&(o=y1(t,o,e,n)),ke(o)&&o.length&&(o=w1(t,o,e,l.isIndexable)),xd(t,o)&&(o=Ps(o,r,i&&i[t],l)),o}function y1(e,t,n,s){const{_proxy:r,_context:i,_subProxy:l,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(i,l||s);return o.delete(e),xd(e,c)&&(c=gd(r._scopes,r,e,c)),c}function w1(e,t,n,s){const{_proxy:r,_context:i,_subProxy:l,_descriptors:o}=n;if(typeof i.index<"u"&&s(e))return t[i.index%t.length];if(Z(t[0])){const c=t,d=r._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=gd(d,r,e,u);t.push(Ps(h,i,l&&l[e],o))}}return t}function rx(e,t,n){return _n(e)?e(t,n):e}const j1=(e,t)=>e===!0?t:typeof e=="string"?Xn(t,e):void 0;function _1(e,t,n,s,r){for(const i of t){const l=j1(n,i);if(l){e.add(l);const o=rx(l._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==s)return o}else if(l===!1&&typeof s<"u"&&n!==s)return null}return!1}function gd(e,t,n,s){const r=t._rootScopes,i=rx(t._fallback,n,s),l=[...e,...r],o=new Set;o.add(s);let c=ah(o,l,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=ah(o,l,i,c,s),c===null)?!1:md(Array.from(o),[""],r,i,()=>k1(t,n,s))}function ah(e,t,n,s,r){for(;n;)n=_1(e,t,n,s,r);return n}function k1(e,t,n){const s=e._getTarget();t in s||(s[t]={});const r=s[t];return ke(r)&&Z(n)?n:r||{}}function N1(e,t,n,s){let r;for(const i of t)if(r=ix(b1(i,e),n),typeof r<"u")return xd(e,r)?gd(n,s,e,r):r}function ix(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function lh(e){let t=e._keys;return t||(t=e._keys=S1(e._scopes)),t}function S1(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}function bd(){return typeof window<"u"&&typeof document<"u"}function vd(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ca(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Ja=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function C1(e,t){return Ja(e).getPropertyValue(t)}const M1=["top","right","bottom","left"];function Bn(e,t,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=M1[r];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const E1=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function P1(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=s;let l=!1,o,c;if(E1(r,i,e.target))o=r,c=i;else{const d=t.getBoundingClientRect();o=s.clientX-d.left,c=s.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function Ln(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,r=Ja(n),i=r.boxSizing==="border-box",l=Bn(r,"padding"),o=Bn(r,"border","width"),{x:c,y:d,box:u}=P1(e,n),h=l.left+(u&&o.left),f=l.top+(u&&o.top);let{width:p,height:g}=t;return i&&(p-=l.width+o.width,g-=l.height+o.height),{x:Math.round((c-h)/p*n.width/s),y:Math.round((d-f)/g*n.height/s)}}function T1(e,t,n){let s,r;if(t===void 0||n===void 0){const i=e&&vd(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const l=i.getBoundingClientRect(),o=Ja(i),c=Bn(o,"border","width"),d=Bn(o,"padding");t=l.width-d.width-c.width,n=l.height-d.height-c.height,s=Ca(o.maxWidth,i,"clientWidth"),r=Ca(o.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||_a,maxHeight:r||_a}}const on=e=>Math.round(e*10)/10;function R1(e,t,n,s){const r=Ja(e),i=Bn(r,"margin"),l=Ca(r.maxWidth,e,"clientWidth")||_a,o=Ca(r.maxHeight,e,"clientHeight")||_a,c=T1(e,t,n);let{width:d,height:u}=c;if(r.boxSizing==="content-box"){const f=Bn(r,"border","width"),p=Bn(r,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=on(Math.min(d,l,c.maxWidth)),u=on(Math.min(u,o,c.maxHeight)),d&&!u&&(u=on(d/2)),(t!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=on(Math.floor(u*s))),{width:d,height:u}}function oh(e,t,n){const s=t||1,r=on(e.height*s),i=on(e.width*s);e.height=on(e.height),e.width=on(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||l.height!==r||l.width!==i?(e.currentDevicePixelRatio=s,l.height=r,l.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const L1=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};bd()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ch(e,t){const n=C1(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const O1=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},D1=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ys(e,t,n){return e?O1(t,n):D1()}function ax(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function lx(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ni(e,t,n){return e.options.clip?e[n]:t[n]}function z1(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Ni(n,t,"left"),right:Ni(n,t,"right"),top:Ni(s,t,"top"),bottom:Ni(s,t,"bottom")}:t}function A1(e,t){const n=t._clip;if(n.disabled)return!1;const s=z1(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class F1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,r){const i=n.listeners[r],l=n.duration;i.forEach(o=>o({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(s-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=qm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let l=i.length-1,o=!1,c;for(;l>=0;--l)c=i[l],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),o=!0):(i[l]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,s,t,"progress")),i.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ot=new F1;const dh="transparent",I1={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=th(e||dh),r=s.valid&&th(t||dh);return r&&r.valid?r.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class B1{constructor(t,n,s,r){const i=n[s];r=ki([t.to,r,i,t.from]);const l=ki([t.from,i,r]);this._active=!0,this._fn=t.fn||I1[t.type||typeof l],this._easing=gr[t.easing]||gr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,l=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=ki([t.to,n,r,t.from]),this._from=ki([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,r=this._prop,i=this._from,l=this._loop,o=this._to;let c;if(this._active=i!==o&&(l||n<s),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class ox{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Z(t))return;const n=Object.keys(ye.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const i=t[r];if(!Z(i))return;const l={};for(const o of n)l[o]=i[o];(ke(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!s.has(o))&&s.set(o,l)})})}_animateOptions(t,n){const s=n.options,r=$1(t,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&H1(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,r=[],i=t.$animations||(t.$animations={}),l=Object.keys(n),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,n));continue}const u=n[d];let h=i[d];const f=s.get(d);if(h)if(f&&h.active()){h.update(f,u,o);continue}else h.cancel();if(!f||!f.duration){t[d]=u;continue}i[d]=h=new B1(f,t,d,u),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ot.add(this._chart,s),!0}}function H1(e,t){const n=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const i=e[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function $1(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uh(e,t){const n=e&&e.options||{},s=n.reverse,r=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:r,end:s?r:i}}function W1(e,t,n){if(n===!1)return!1;const s=uh(e,n),r=uh(t,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function U1(e){let t,n,s,r;return Z(e)?(t=e.top,n=e.right,s=e.bottom,r=e.left):t=n=s=r=e,{top:t,right:n,bottom:s,left:r,disabled:e===!1}}function cx(e,t){const n=[],s=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function hh(e,t,n,s={}){const r=e.keys,i=s.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=r.length;l<o;++l){if(c=+r[l],c===n){if(u=!0,s.all)continue;break}d=e.values[c],ft(d)&&(i||t===0||yn(t)===yn(d))&&(t+=d)}return!u&&!s.all?0:t}function V1(e,t){const{iScale:n,vScale:s}=t,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[r]:u,[i]:e[u]};return o}function Al(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function X1(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Y1(e){const{min:t,max:n,minDefined:s,maxDefined:r}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function K1(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function fh(e,t,n,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const i=e[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function ph(e,t){const{chart:n,_cachedMeta:s}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:l,index:o}=s,c=i.axis,d=l.axis,u=X1(i,l,s),h=t.length;let f;for(let p=0;p<h;++p){const g=t[p],{[c]:v,[d]:b}=g,x=g._stacks||(g._stacks={});f=x[d]=K1(r,u,v),f[o]=b,f._top=fh(f,l,!0,s.type),f._bottom=fh(f,l,!1,s.type);const m=f._visualValues||(f._visualValues={});m[o]=b}}function Fl(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function q1(e,t){return zs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function G1(e,t,n){return zs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ys(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const r of t){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const Il=e=>e==="reset"||e==="none",mh=(e,t)=>t?e:Object.assign({},e),Q1=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:cx(n,!0),values:null};class ws{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Al(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ys(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,i=n.xAxisID=Q(s.xAxisID,Fl(t,"x")),l=n.yAxisID=Q(s.yAxisID,Fl(t,"y")),o=n.rAxisID=Q(s.rAxisID,Fl(t,"r")),c=n.indexAxis,d=n.iAxisID=r(c,i,l,o),u=n.vAxisID=r(c,l,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ju(this._data,this),t._stacked&&Ys(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Z(n)){const r=this._cachedMeta;this._data=V1(n,r)}else if(s!==n){if(s){Ju(s,this);const r=this._cachedMeta;Ys(r),r._parsed=[]}n&&Object.isExtensible(n)&&Qy(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Al(n.vScale,n),n.stack!==s.stack&&(r=!0,Ys(n),n.stack=s.stack),this._resyncElements(t),(r||i!==n._stacked)&&(ph(this,n._parsed),n._stacked=Al(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:l}=s,o=i.axis;let c=t===0&&n===r.length?!0:s._sorted,d=t>0&&s._parsed[t-1],u,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{ke(r[t])?f=this.parseArrayData(s,r,t,n):Z(r[t])?f=this.parseObjectData(s,r,t,n):f=this.parsePrimitiveData(s,r,t,n);const p=()=>h[o]===null||d&&h[o]<d[o];for(u=0;u<n;++u)s._parsed[u+t]=h=f[u],c&&(p()&&(c=!1),d=h);s._sorted=c}l&&ph(this,f)}parsePrimitiveData(t,n,s,r){const{iScale:i,vScale:l}=t,o=i.axis,c=l.axis,d=i.getLabels(),u=i===l,h=new Array(r);let f,p,g;for(f=0,p=r;f<p;++f)g=f+s,h[f]={[o]:u||i.parse(d[g],g),[c]:l.parse(n[g],g)};return h}parseArrayData(t,n,s,r){const{xScale:i,yScale:l}=t,o=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+s,h=n[u],o[c]={x:i.parse(h[0],u),y:l.parse(h[1],u)};return o}parseObjectData(t,n,s,r){const{xScale:i,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,f,p;for(u=0,h=r;u<h;++u)f=u+s,p=n[f],d[u]={x:i.parse(Xn(p,o),f),y:l.parse(Xn(p,c),f)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const r=this.chart,i=this._cachedMeta,l=n[t.axis],o={keys:cx(r,!0),values:n._stacks[t.axis]._visualValues};return hh(o,l,i.index,{mode:s})}updateRangeFromParsed(t,n,s,r){const i=s[n.axis];let l=i===null?NaN:i;const o=r&&s._stacks[n.axis];r&&o&&(r.values=o,l=hh(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&t===s.iScale,l=r.length,o=this._getOtherScale(t),c=Q1(n,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Y1(o);let f,p;function g(){p=r[f];const v=p[o.axis];return!ft(p[t.axis])||u>v||h<v}for(f=0;f<l&&!(!g()&&(this.updateRangeFromParsed(d,t,p,c),i));++f);if(i){for(f=l-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,t,p,c);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let r,i,l;for(r=0,i=n.length;r<i;++r)l=n[r][t.axis],ft(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=U1(Q(this.options.clip,W1(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||r.length-o,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,i,o,c),u=o;u<o+c;++u){const h=r[u];h.hidden||(h.active&&d?l.push(h):h.draw(t,i))}for(u=0;u<l.length;++u)l[u].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=G1(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=q1(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const r=n==="active",i=this._cachedDataOpts,l=t+"-"+n,o=i[l],c=this.enableOptionSharing&&Hr(s);if(o)return mh(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(ye.elements[t]),g=()=>this.getContext(s,r,n),v=d.resolveNamedOptions(f,p,g,h);return v.$shared&&(v.$shared=c,i[l]=Object.freeze(mh(v,c))),v}_resolveAnimations(t,n,s){const r=this.chart,i=this._cachedDataOpts,l=`animation-${n}`,o=i[l];if(o)return o;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(t,s,n))}const d=new ox(r,c&&c.animations);return c&&c._cacheable&&(i[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Il(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),r=this._sharedOptions,i=this.getSharedOptions(s),l=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:l}}updateElement(t,n,s,r){Il(r)?Object.assign(t,s):this._resolveAnimations(n,r).update(t,s)}updateSharedOptions(t,n,s){t&&!Il(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,r){t.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const r=s.length,i=n.length,l=Math.min(i,r);l&&this.parse(0,l),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,n,s=!0){const r=this._cachedMeta,i=r.data,l=t+n;let o;const c=d=>{for(d.length+=n,o=d.length-1;o>=l;o--)d[o]=d[o-n]};for(c(i),o=t;o<l;++o)i[o]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,r){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,n);s._stacked&&Ys(s,r)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,r]=t;this[n](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}V(ws,"defaults",{}),V(ws,"datasetElementType",null),V(ws,"dataElementType",null);function J1(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=Km(s.sort((r,i)=>r-i))}return e._cache.$bar}function Z1(e){const t=e.iScale,n=J1(t,e.type);let s=t._length,r,i,l,o;const c=()=>{l===32767||l===-32768||(Hr(o)&&(s=Math.min(s,Math.abs(l-o)||s)),o=l)};for(r=0,i=n.length;r<i;++r)l=t.getPixelForValue(n[r]),c();for(o=void 0,r=0,i=t.ticks.length;r<i;++r)l=t.getPixelForTick(r),c();return s}function ew(e,t,n,s){const r=n.barThickness;let i,l;return ae(r)?(i=t.min*n.categoryPercentage,l=n.barPercentage):(i=r*s,l=1),{chunk:i/s,ratio:l,start:t.pixels[e]-i/2}}function tw(e,t,n,s){const r=t.pixels,i=r[e];let l=e>0?r[e-1]:null,o=e<r.length-1?r[e+1]:null;const c=n.categoryPercentage;l===null&&(l=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-l);const d=i-(i-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/s,ratio:n.barPercentage,start:d}}function nw(e,t,n,s){const r=n.parse(e[0],s),i=n.parse(e[1],s),l=Math.min(r,i),o=Math.max(r,i);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[n.axis]=d,t._custom={barStart:c,barEnd:d,start:r,end:i,min:l,max:o}}function dx(e,t,n,s){return ke(e)?nw(e,t,n,s):t[n.axis]=n.parse(e,s),t}function xh(e,t,n,s){const r=e.iScale,i=e.vScale,l=r.getLabels(),o=r===i,c=[];let d,u,h,f;for(d=n,u=n+s;d<u;++d)f=t[d],h={},h[r.axis]=o||r.parse(l[d],d),c.push(dx(f,h,i,d));return c}function Bl(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function sw(e,t,n){return e!==0?yn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function rw(e){let t,n,s,r,i;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:t,top:r,bottom:i}}function iw(e,t,n,s){let r=t.borderSkipped;const i={};if(!r){e.borderSkipped=i;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=rw(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?r=d:(n._bottom||0)===s?r=u:(i[gh(u,l,o,c)]=!0,r=d)),i[gh(r,l,o,c)]=!0,e.borderSkipped=i}function gh(e,t,n,s){return s?(e=aw(e,t,n),e=bh(e,n,t)):e=bh(e,t,n),e}function aw(e,t,n){return e===t?n:e===n?t:e}function bh(e,t,n){return e==="start"?t:e==="end"?n:e}function lw(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Vi extends ws{parsePrimitiveData(t,n,s,r){return xh(t,n,s,r)}parseArrayData(t,n,s,r){return xh(t,n,s,r)}parseObjectData(t,n,s,r){const{iScale:i,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?o:c,u=l.axis==="x"?o:c,h=[];let f,p,g,v;for(f=s,p=s+r;f<p;++f)v=n[f],g={},g[i.axis]=i.parse(Xn(v,d),f),h.push(dx(Xn(v,u),g,l,f));return h}updateRangeFromParsed(t,n,s,r){super.updateRangeFromParsed(t,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(t),l=i._custom,o=Bl(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,r){const i=r==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let p=n;p<n+s;p++){const g=this.getParsed(p),v=i||ae(g[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),x=(g._stacks||{})[o.axis],m={horizontal:d,base:v.base,enableBorderRadius:!x||Bl(g._custom)||l===x._top||l===x._bottom,x:d?v.head:b.center,y:d?b.center:v.head,height:d?b.size:Math.abs(v.size),width:d?Math.abs(v.size):b.size};f&&(m.options=h||this.resolveDataElementOptions(p,t[p].active?"active":r));const y=m.options||t[p].options;iw(m,y,x,l),lw(m,y,u.ratio),this.updateElement(t[p],p,m,r)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(n),c=o&&o[s.axis],d=u=>{const h=u._parsed.find(p=>p[s.axis]===c),f=h&&h[u.vScale.axis];if(ae(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&d(u))&&((i===!1||l.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Q(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const r=this._getStacks(t,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,l;for(i=0,l=n.data.length;i<l;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const o=t.barThickness;return{min:o||Z1(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:l}}=this,o=i||0,c=this.getParsed(t),d=c._custom,u=Bl(d);let h=c[n.axis],f=0,p=s?this.applyStack(n,c,s):h,g,v;p!==h&&(f=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&yn(h)!==yn(d.barEnd)&&(f=0),f+=h);const b=!ae(i)&&!u?i:f;let x=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(f+p):g=x,v=g-x,Math.abs(v)<l){v=sw(v,n,o)*l,h===o&&(x-=v/2);const m=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),w=Math.min(m,y),_=Math.max(m,y);x=Math.max(Math.min(x,_),w),g=x+v,s&&!u&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(g)-n.getValueForPixel(x))}if(x===n.getPixelForValue(o)){const m=yn(v)*n.getLineWidthForValue(o)/2;x+=m,v-=m}return{size:v,base:x,head:g,center:g+v/2}}_calculateBarIndexPixels(t,n){const s=n.scale,r=this.options,i=r.skipNull,l=Q(r.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(t):n.stackCount,h=r.barThickness==="flex"?tw(t,n,r,u*d):ew(t,n,r,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Q(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+p;o=h.start+h.chunk*g+h.chunk/2,c=Math.min(l,h.chunk*h.ratio)}else o=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(l,n.min*n.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}V(Vi,"id","bar"),V(Vi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),V(Vi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ow(e,t,n){let s=1,r=1,i=0,l=0;if(t<je){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),h=Math.cos(c),f=Math.sin(c),p=(y,w,_)=>Na(y,o,c,!0)?1:Math.max(w,w*n,_,_*n),g=(y,w,_)=>Na(y,o,c,!0)?-1:Math.min(w,w*n,_,_*n),v=p(0,d,h),b=p(Se,u,f),x=g(ie,d,h),m=g(ie+Se,u,f);s=(v-x)/2,r=(b-m)/2,i=-(v+x)/2,l=-(b+m)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:l}}class sr extends ws{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=c=>+s[c];if(Z(s[t])){const{key:c="value"}=this._parsing;i=d=>+Xn(s[d],c)}let l,o;for(l=t,o=t+n;l<o;++l)r._parsed[l]=i(l)}}_getRotation(){return Ht(this.options.rotation-90)}_getCircumference(){return Ht(this.options.circumference)}_getRotationExtents(){let t=je,n=-je;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),l=r._getCircumference();t=Math.min(t,i),n=Math.max(n,i+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(s.width,s.height)-l)/2,0),c=Math.min(Dy(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:v}=ow(h,u,c),b=(s.width-l)/f,x=(s.height-l)/p,m=Math.max(Math.min(b,x)/2,0),y=Wm(this.options.radius,m),w=Math.max(y*c,0),_=(y-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*y,this.offsetY=v*y,r.total=this.calculateTotal(),this.outerRadius=y-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/je)}updateElements(t,n,s,r){const i=r==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,f=i&&d.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,r);let x=this._getRotation(),m;for(m=0;m<n;++m)x+=this._circumference(m,i);for(m=n;m<n+s;++m){const y=this._circumference(m,i),w=t[m],_={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+y,circumference:y,outerRadius:g,innerRadius:p};b&&(_.options=v||this.resolveDataElementOptions(m,w.active?"active":r)),x+=y,this.updateElement(w,m,_,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,r;for(r=0;r<n.length;r++){const i=t._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?je*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=ud(n._parsed[t],s.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const s=this.chart;let r,i,l,o,c;if(!t){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){l=s.getDatasetMeta(r),t=l.data,o=l.controller;break}}if(!t)return 0;for(r=0,i=t.length;r<i;++r)c=o.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,r=t.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Q(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}V(sr,"id","doughnut"),V(sr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),V(sr,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),V(sr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:s,textAlign:r,color:i,useBorderRadius:l,borderRadius:o}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,d)=>{const h=t.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!t.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:r,pointStyle:s,borderRadius:l&&(o||h.borderRadius),index:d}}):[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function Pn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yd{constructor(t){V(this,"options");this.options=t||{}}static override(t){Object.assign(yd.prototype,t)}init(){}formats(){return Pn()}parse(){return Pn()}format(){return Pn()}add(){return Pn()}diff(){return Pn()}startOf(){return Pn()}endOf(){return Pn()}}var cw={_date:yd};function dw(e,t,n,s){const{controller:r,data:i,_sorted:l}=e,o=r._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&i.length){const d=o._reversePixels?qy:qo;if(s){if(r._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=d(i,t,n-h),p=d(i,t,n+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(i,t,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(v=>!ae(v[h.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(v=>!ae(v[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function Za(e,t,n,s,r){const i=e.getSortedVisibleDatasetMetas(),l=n[t];for(let o=0,c=i.length;o<c;++o){const{index:d,data:u}=i[o],{lo:h,hi:f}=dw(i[o],t,l,r);for(let p=h;p<=f;++p){const g=u[p];g.skip||s(g,d,p)}}}function uw(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,r){const i=t?Math.abs(s.x-r.x):0,l=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function Hl(e,t,n,s,r){const i=[];return!r&&!e.isPointInArea(t)||Za(e,n,t,function(o,c,d){!r&&!ex(o,e.chartArea,0)||o.inRange(t.x,t.y,s)&&i.push({element:o,datasetIndex:c,index:d})},!0),i}function hw(e,t,n,s){let r=[];function i(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],s),{angle:h}=Xm(l,{x:t.x,y:t.y});Na(h,d,u)&&r.push({element:l,datasetIndex:o,index:c})}return Za(e,n,t,i),r}function fw(e,t,n,s,r,i){let l=[];const o=uw(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(t.x,t.y,r);if(s&&!p)return;const g=u.getCenterPoint(r);if(!(!!i||e.isPointInArea(g))&&!p)return;const b=o(t,g);b<c?(l=[{element:u,datasetIndex:h,index:f}],c=b):b===c&&l.push({element:u,datasetIndex:h,index:f})}return Za(e,n,t,d),l}function $l(e,t,n,s,r,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?hw(e,t,n,r):fw(e,t,n,s,r,i)}function vh(e,t,n,s,r){const i=[],l=n==="x"?"inXRange":"inYRange";let o=!1;return Za(e,n,t,(c,d,u)=>{c[l]&&c[l](t[n],r)&&(i.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,r))}),s&&!o?[]:i}var pw={modes:{index(e,t,n,s){const r=Ln(t,e),i=n.axis||"x",l=n.includeInvisible||!1,o=n.intersect?Hl(e,r,i,s,l):$l(e,r,i,!1,s,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,n,s){const r=Ln(t,e),i=n.axis||"xy",l=n.includeInvisible||!1;let o=n.intersect?Hl(e,r,i,s,l):$l(e,r,i,!1,s,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,n,s){const r=Ln(t,e),i=n.axis||"xy",l=n.includeInvisible||!1;return Hl(e,r,i,s,l)},nearest(e,t,n,s){const r=Ln(t,e),i=n.axis||"xy",l=n.includeInvisible||!1;return $l(e,r,i,n.intersect,s,l)},x(e,t,n,s){const r=Ln(t,e);return vh(e,r,"x",n.intersect,s)},y(e,t,n,s){const r=Ln(t,e);return vh(e,r,"y",n.intersect,s)}}};const ux=["left","top","right","bottom"];function Ks(e,t){return e.filter(n=>n.pos===t)}function yh(e,t){return e.filter(n=>ux.indexOf(n.pos)===-1&&n.box.axis===t)}function qs(e,t){return e.sort((n,s)=>{const r=t?s:n,i=t?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function mw(e){const t=[];let n,s,r,i,l,o;for(n=0,s=(e||[]).length;n<s;++n)r=e[n],{position:i,options:{stack:l,stackWeight:o=1}}=r,t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&i+l,stackWeight:o});return t}function xw(e){const t={};for(const n of e){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!ux.includes(r))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function gw(e,t){const n=xw(e),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let i,l,o;for(i=0,l=e.length;i<l;++i){o=e[i];const{fullSize:c}=o.box,d=n[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*s:c&&t.availableWidth,o.height=r):(o.width=s,o.height=u?u*r:c&&t.availableHeight)}return n}function bw(e){const t=mw(e),n=qs(t.filter(d=>d.box.fullSize),!0),s=qs(Ks(t,"left"),!0),r=qs(Ks(t,"right")),i=qs(Ks(t,"top"),!0),l=qs(Ks(t,"bottom")),o=yh(t,"x"),c=yh(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(l).concat(o),chartArea:Ks(t,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(l).concat(o)}}function wh(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function hx(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function vw(e,t,n,s){const{pos:r,box:i}=n,l=e.maxPadding;if(!Z(r)){n.size&&(e[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,e[r]+=n.size}i.getPadding&&hx(l,i.getPadding());const o=Math.max(0,t.outerWidth-wh(l,e,"left","right")),c=Math.max(0,t.outerHeight-wh(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function yw(e){const t=e.maxPadding;function n(s){const r=Math.max(t[s]-e[s],0);return e[s]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function ww(e,t){const n=t.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{i[l]=Math.max(t[l],n[l])}),i}return s(e?["left","right"]:["top","bottom"])}function rr(e,t,n,s){const r=[];let i,l,o,c,d,u;for(i=0,l=e.length,d=0;i<l;++i){o=e[i],c=o.box,c.update(o.width||t.w,o.height||t.h,ww(o.horizontal,t));const{same:h,other:f}=vw(t,n,o,s);d|=h&&r.length,u=u||f,c.fullSize||r.push(o)}return d&&rr(r,t,n,s)||u}function Si(e,t,n,s,r){e.top=n,e.left=t,e.right=t+s,e.bottom=n+r,e.width=s,e.height=r}function jh(e,t,n,s){const r=n.padding;let{x:i,y:l}=t;for(const o of e){const c=o.box,d=s[o.stack]||{placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const h=t.w*u,f=d.size||c.height;Hr(d.start)&&(l=d.start),c.fullSize?Si(c,r.left,l,n.outerWidth-r.right-r.left,f):Si(c,t.left+d.placed,l,h,f),d.start=l,d.placed+=h,l=c.bottom}else{const h=t.h*u,f=d.size||c.width;Hr(d.start)&&(i=d.start),c.fullSize?Si(c,i,r.top,f,n.outerHeight-r.bottom-r.top):Si(c,i,t.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}t.x=i,t.y=l}var ct={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const r=pt(e.options.layout.padding),i=Math.max(t-r.width,0),l=Math.max(n-r.height,0),o=bw(e.boxes),c=o.vertical,d=o.horizontal;te(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=c.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/u,hBoxMaxHeight:l/2}),f=Object.assign({},r);hx(f,pt(s));const p=Object.assign({maxPadding:f,w:i,h:l,x:r.left,y:r.top},r),g=gw(c.concat(d),h);rr(o.fullSize,p,h,g),rr(c,p,h,g),rr(d,p,h,g)&&rr(c,p,h,g),yw(p),jh(o.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,jh(o.rightAndBottom,p,h,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},te(o.chartArea,v=>{const b=v.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class fx{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,r){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(t){return!0}updateConfig(t){}}class jw extends fx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xi="$chartjs",_w={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_h=e=>e===null||e==="";function kw(e,t){const n=e.style,s=e.getAttribute("height"),r=e.getAttribute("width");if(e[Xi]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_h(r)){const i=ch(e,"width");i!==void 0&&(e.width=i)}if(_h(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=ch(e,"height");i!==void 0&&(e.height=i)}return e}const px=L1?{passive:!0}:!1;function Nw(e,t,n){e&&e.addEventListener(t,n,px)}function Sw(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,px)}function Cw(e,t){const n=_w[e.type]||e.type,{x:s,y:r}=Ln(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Ma(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Mw(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||Ma(o.addedNodes,s),l=l&&!Ma(o.removedNodes,s);l&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ew(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||Ma(o.removedNodes,s),l=l&&!Ma(o.addedNodes,s);l&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wr=new Map;let kh=0;function mx(){const e=window.devicePixelRatio;e!==kh&&(kh=e,Wr.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Pw(e,t){Wr.size||window.addEventListener("resize",mx),Wr.set(e,t)}function Tw(e){Wr.delete(e),Wr.size||window.removeEventListener("resize",mx)}function Rw(e,t,n){const s=e.canvas,r=s&&vd(s);if(!r)return;const i=Gm((o,c)=>{const d=r.clientWidth;n(o,c),d<r.clientWidth&&n()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return l.observe(r),Pw(e,i),l}function Wl(e,t,n){n&&n.disconnect(),t==="resize"&&Tw(e)}function Lw(e,t,n){const s=e.canvas,r=Gm(i=>{e.ctx!==null&&n(Cw(i,e))},e);return Nw(s,t,r),r}class Ow extends fx{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(kw(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Xi])return!1;const s=n[Xi].initial;["height","width"].forEach(i=>{const l=s[i];ae(l)?n.removeAttribute(i):n.setAttribute(i,l)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Xi],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),l={attach:Mw,detach:Ew,resize:Rw}[n]||Lw;r[n]=l(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),r=s[n];if(!r)return;({attach:Wl,detach:Wl,resize:Wl}[n]||Sw)(t,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,r){return R1(t,n,s,r)}isAttached(t){const n=t&&vd(t);return!!(n&&n.isConnected)}}function Dw(e){return!bd()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?jw:Ow}class Kt{constructor(){V(this,"x");V(this,"y");V(this,"active",!1);V(this,"options");V(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return ka(this.x)&&ka(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const r={};return t.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}V(Kt,"defaults",{}),V(Kt,"defaultRoutes");function zw(e,t){const n=e.options.ticks,s=Aw(e),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?Iw(t):[],l=i.length,o=i[0],c=i[l-1],d=[];if(l>r)return Bw(t,d,i,l/r),d;const u=Fw(i,t,r);if(l>0){let h,f;const p=l>1?Math.round((c-o)/(l-1)):null;for(Ci(t,d,u,ae(p)?0:o-p,o),h=0,f=l-1;h<f;h++)Ci(t,d,u,i[h],i[h+1]);return Ci(t,d,u,c,ae(p)?t.length:c+p),d}return Ci(t,d,u),d}function Aw(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(s,r))}function Fw(e,t,n){const s=Hw(e),r=t.length/n;if(!s)return Math.max(r,1);const i=$y(s);for(let l=0,o=i.length-1;l<o;l++){const c=i[l];if(c>r)return c}return Math.max(r,1)}function Iw(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function Bw(e,t,n,s){let r=0,i=n[0],l;for(s=Math.ceil(s),l=0;l<e.length;l++)l===i&&(t.push(e[l]),r++,i=n[r*s])}function Ci(e,t,n,s,r){const i=Q(s,0),l=Math.min(Q(r,e.length),e.length);let o=0,c,d,u;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),u=i;u<0;)o++,u=Math.round(i+o*n);for(d=Math.max(i,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(i+o*n))}function Hw(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const $w=e=>e==="left"?"right":e==="right"?"left":e,Nh=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Sh=(e,t)=>Math.min(t||e,e);function Ch(e,t){const n=[],s=e.length/t,r=e.length;let i=0;for(;i<r;i+=s)n.push(e[Math.floor(i)]);return n}function Ww(e,t,n){const s=e.ticks.length,r=Math.min(t,s-1),i=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(r),d;if(!(n&&(s===1?d=Math.max(c-i,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(r-1))/2,c+=r<t?d:-d,c<i-o||c>l+o)))return c}function Uw(e,t){te(e,n=>{const s=n.gc,r=s.length/2;let i;if(r>t){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Gs(e){return e.drawTicks?e.tickLength:0}function Mh(e,t){if(!e.display)return 0;const n=Fe(e.font,t),s=pt(e.padding);return(ke(e.text)?e.text.length:1)*n.lineHeight+s.height}function Vw(e,t){return zs(e,{scale:t,type:"scale"})}function Xw(e,t,n){return zs(e,{tick:n,index:t,type:"tick"})}function Yw(e,t,n){let s=dd(e);return(n&&t!=="right"||!n&&t==="right")&&(s=$w(s)),s}function Kw(e,t,n,s){const{top:r,left:i,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,f,p,g;const v=l-r,b=o-i;if(e.isHorizontal()){if(p=ze(s,i,o),Z(n)){const x=Object.keys(n)[0],m=n[x];g=u[x].getPixelForValue(m)+v-t}else n==="center"?g=(d.bottom+d.top)/2+v-t:g=Nh(e,n,t);f=o-i}else{if(Z(n)){const x=Object.keys(n)[0],m=n[x];p=u[x].getPixelForValue(m)-b+t}else n==="center"?p=(d.left+d.right)/2-b+t:p=Nh(e,n,t);g=ze(s,l,r),h=n==="left"?-Se:Se}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class As extends Kt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return t=Nt(t,Number.POSITIVE_INFINITY),n=Nt(n,Number.NEGATIVE_INFINITY),s=Nt(s,Number.POSITIVE_INFINITY),r=Nt(r,Number.NEGATIVE_INFINITY),{min:Nt(t,s),max:Nt(n,r),minDefined:ft(t),maxDefined:ft(n)}}getMinMax(t){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),l;if(r&&i)return{min:n,max:s};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),r||(n=Math.min(n,l.min)),i||(s=Math.max(s,l.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Nt(n,Nt(s,n)),max:Nt(s,Nt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:r,grace:i,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=g1(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?Ch(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=zw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),de(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s],i.label=de(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=Sh(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let l=r,o,c,d;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=qe(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/s:p/(s-1),h+6>o&&(o=p/(s-(t.offset?.5:1)),c=this.maxHeight-Gs(t.grid)-n.padding-Mh(t.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),l=Xy(Math.min(Math.asin(qe((u.highest.height+6)/o,-1,1)),Math.asin(qe(c/d,-1,1))-Math.asin(qe(f/d,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){de(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=Mh(r,n.options.font);if(o?(t.width=this.maxWidth,t.height=Gs(i)+c):(t.height=this.maxHeight,t.width=Gs(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,g=Ht(this.labelRotation),v=Math.cos(g),b=Math.sin(g);if(o){const x=s.mirror?0:b*h.width+v*f.height;t.height=Math.min(this.maxHeight,t.height+x+p)}else{const x=s.mirror?0:v*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+x+p)}this._calculatePadding(d,u,b,v)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,r){const{ticks:{align:i,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=r*t.width,p=s*n.height):(f=s*t.height,p=r*n.width):i==="start"?p=n.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+l)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;i==="start"?(u=0,h=t.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+l,this.paddingBottom=h+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)ae(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Ch(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:r,_longestTextCache:i}=this,l=[],o=[],c=Math.floor(n/Sh(n,s));let d=0,u=0,h,f,p,g,v,b,x,m,y,w,_;for(h=0;h<n;h+=c){if(g=t[h].label,v=this._resolveTickFontOptions(h),r.font=b=v.string,x=i[b]=i[b]||{data:{},gc:[]},m=v.lineHeight,y=w=0,!ae(g)&&!ke(g))y=sh(r,x.data,x.gc,y,g),w=m;else if(ke(g))for(f=0,p=g.length;f<p;++f)_=g[f],!ae(_)&&!ke(_)&&(y=sh(r,x.data,x.gc,y,_),w+=m);l.push(y),o.push(w),d=Math.max(y,d),u=Math.max(w,u)}Uw(i,n);const S=l.indexOf(d),C=o.indexOf(u),E=A=>({width:l[A]||0,height:o[A]||0});return{first:E(0),last:E(n-1),widest:E(S),highest:E(C),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Ky(this._alignToPixels?En(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=Xw(this.getContext(),t,s))}return this.$context||(this.$context=Vw(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ht(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,o=i?i.widest.width+l:0,c=i?i.highest.height+l:0;return this.isHorizontal()?c*s>o*r?o/s:c/r:c*r<o*s?c/s:o/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:l,border:o}=r,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Gs(i),p=[],g=o.setContext(this.getContext()),v=g.display?g.width:0,b=v/2,x=function(O){return En(s,O,v)};let m,y,w,_,S,C,E,A,z,R,H,W;if(l==="top")m=x(this.bottom),C=this.bottom-f,A=m-b,R=x(t.top)+b,W=t.bottom;else if(l==="bottom")m=x(this.top),R=t.top,W=x(t.bottom)-b,C=m+b,A=this.top+f;else if(l==="left")m=x(this.right),S=this.right-f,E=m-b,z=x(t.left)+b,H=t.right;else if(l==="right")m=x(this.left),z=t.left,H=x(t.right)-b,S=m+b,E=this.left+f;else if(n==="x"){if(l==="center")m=x((t.top+t.bottom)/2+.5);else if(Z(l)){const O=Object.keys(l)[0],M=l[O];m=x(this.chart.scales[O].getPixelForValue(M))}R=t.top,W=t.bottom,C=m+b,A=C+f}else if(n==="y"){if(l==="center")m=x((t.left+t.right)/2);else if(Z(l)){const O=Object.keys(l)[0],M=l[O];m=x(this.chart.scales[O].getPixelForValue(M))}S=m-b,E=S-f,z=t.left,H=t.right}const Y=Q(r.ticks.maxTicksLimit,h),F=Math.max(1,Math.ceil(h/Y));for(y=0;y<h;y+=F){const O=this.getContext(y),M=i.setContext(O),N=o.setContext(O),k=M.lineWidth,T=M.color,D=N.dash||[],B=N.dashOffset,G=M.tickWidth,P=M.tickColor,U=M.tickBorderDash||[],ee=M.tickBorderDashOffset;w=Ww(this,y,c),w!==void 0&&(_=En(s,w,k),d?S=E=z=H=_:C=A=R=W=_,p.push({tx1:S,ty1:C,tx2:E,ty2:A,x1:z,y1:R,x2:H,y2:W,width:k,color:T,borderDash:D,borderDashOffset:B,tickWidth:G,tickColor:P,tickBorderDash:U,tickBorderDashOffset:ee}))}return this._ticksLength=h,this._borderValue=m,p}_computeLabelItems(t){const n=this.axis,s=this.options,{position:r,ticks:i}=s,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=Gs(s.grid),p=f+u,g=h?-u:p,v=-Ht(this.labelRotation),b=[];let x,m,y,w,_,S,C,E,A,z,R,H,W="middle";if(r==="top")S=this.bottom-g,C=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+g,C=this._getXAxisLabelAlignment();else if(r==="left"){const F=this._getYAxisLabelAlignment(f);C=F.textAlign,_=F.x}else if(r==="right"){const F=this._getYAxisLabelAlignment(f);C=F.textAlign,_=F.x}else if(n==="x"){if(r==="center")S=(t.top+t.bottom)/2+p;else if(Z(r)){const F=Object.keys(r)[0],O=r[F];S=this.chart.scales[F].getPixelForValue(O)+p}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")_=(t.left+t.right)/2-p;else if(Z(r)){const F=Object.keys(r)[0],O=r[F];_=this.chart.scales[F].getPixelForValue(O)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?W="top":c==="end"&&(W="bottom"));const Y=this._getLabelSizes();for(x=0,m=o.length;x<m;++x){y=o[x],w=y.label;const F=i.setContext(this.getContext(x));E=this.getPixelForTick(x)+i.labelOffset,A=this._resolveTickFontOptions(x),z=A.lineHeight,R=ke(w)?w.length:1;const O=R/2,M=F.color,N=F.textStrokeColor,k=F.textStrokeWidth;let T=C;l?(_=E,C==="inner"&&(x===m-1?T=this.options.reverse?"left":"right":x===0?T=this.options.reverse?"right":"left":T="center"),r==="top"?d==="near"||v!==0?H=-R*z+z/2:d==="center"?H=-Y.highest.height/2-O*z+z:H=-Y.highest.height+z/2:d==="near"||v!==0?H=z/2:d==="center"?H=Y.highest.height/2-O*z:H=Y.highest.height-R*z,h&&(H*=-1),v!==0&&!F.showLabelBackdrop&&(_+=z/2*Math.sin(v))):(S=E,H=(1-R)*z/2);let D;if(F.showLabelBackdrop){const B=pt(F.backdropPadding),G=Y.heights[x],P=Y.widths[x];let U=H-B.top,ee=0-B.left;switch(W){case"middle":U-=G/2;break;case"bottom":U-=G;break}switch(C){case"center":ee-=P/2;break;case"right":ee-=P;break;case"inner":x===m-1?ee-=P:x>0&&(ee-=P/2);break}D={left:ee,top:U,width:P+B.width,height:G+B.height,color:F.backdropColor}}b.push({label:w,font:A,textOffset:H,options:{rotation:v,color:M,strokeColor:N,strokeWidth:k,textAlign:T,textBaseline:W,translation:[_,S],backdrop:D}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ht(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,l=this._getLabelSizes(),o=t+i,c=l.widest.width;let d,u;return n==="left"?r?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:r,width:i,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,r,i,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const o=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(n.display)for(i=0,l=r.length;i<l;++i){const c=r[i];n.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),l=s.display?i.width:0;if(!l)return;const o=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=En(t,this.left,l)-l/2,u=En(t,this.right,o)+o/2,h=f=c):(h=En(t,this.top,l)-l/2,f=En(t,this.bottom,o)+o/2,d=u=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&hd(s,r);const i=this.getLabelItems(t);for(const l of i){const o=l.options,c=l.font,d=l.label,u=l.textOffset;$r(s,d,0,u,c,o)}r&&fd(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Fe(s.font),l=pt(s.padding),o=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Z(n)?(c+=l.bottom,ke(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=Kw(this,c,n,o);$r(t,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:Yw(o,n,r),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Q(t.grid&&t.grid.z,-1),r=Q(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==As.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,l;for(i=0,l=n.length;i<l;++i){const o=n[i];o[s]===this.id&&(!t||o.type===t)&&r.push(o)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Fe(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Mi{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;Qw(n)&&(s=this.register(n));const r=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,qw(t,l,s),this.override&&ye.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,r=this.scope;s in n&&delete n[s],r&&s in ye[r]&&(delete ye[r][s],this.override&&delete Yn[s])}}function qw(e,t,n){const s=Br(Object.create(null),[n?ye.get(n):{},ye.get(t),e.defaults]);ye.set(t,s),e.defaultRoutes&&Gw(t,e.defaultRoutes),e.descriptors&&ye.describe(t,e.descriptors)}function Gw(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),r=s.pop(),i=[e].concat(s).join("."),l=t[n].split("."),o=l.pop(),c=l.join(".");ye.route(i,r,c,o)})}function Qw(e){return"id"in e&&"defaults"in e}class Jw{constructor(){this.controllers=new Mi(ws,"datasets",!0),this.elements=new Mi(Kt,"elements"),this.plugins=new Mi(Object,"plugins"),this.scales=new Mi(As,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(t,i,r):te(r,l=>{const o=s||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,n,s){const r=od(t);de(s["before"+r],[],s),n[t](s),de(s["after"+r],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Mt=new Jw;class Zw{constructor(){this._init=void 0}notify(t,n,s,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const i=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,n,s,r){r=r||{};for(const i of t){const l=i.plugin,o=l[s],c=[n,r,i.options];if(de(o,c,l)===!1&&r.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,r=Q(s.options&&s.options.plugins,{}),i=ej(s);return r===!1&&!n?[]:nj(t,i,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,r=(i,l)=>i.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(r(n,s),t,"stop"),this._notify(r(s,n),t,"start")}}function ej(e){const t={},n=[],s=Object.keys(Mt.plugins.items);for(let i=0;i<s.length;i++)n.push(Mt.getPlugin(s[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const l=r[i];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function tj(e,t){return!t&&e===!1?null:e===!0?{}:e}function nj(e,{plugins:t,localIds:n},s,r){const i=[],l=e.getContext();for(const o of t){const c=o.id,d=tj(s[c],r);d!==null&&i.push({plugin:o,options:sj(e.config,{plugin:o,local:n[c]},d,l)})}return i}function sj(e,{plugin:t,local:n},s,r){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(s,i);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qo(e,t){const n=ye.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function rj(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function ij(e,t){return e===t?"_index_":"_value_"}function Eh(e){if(e==="x"||e==="y"||e==="r")return e}function aj(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Jo(e,...t){if(Eh(e))return e;for(const n of t){const s=n.axis||aj(n.position)||e.length>1&&Eh(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ph(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function lj(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Ph(e,"x",n[0])||Ph(e,"y",n[0])}return{}}function oj(e,t){const n=Yn[e.type]||{scales:{}},s=t.scales||{},r=Qo(e.type,t),i=Object.create(null);return Object.keys(s).forEach(l=>{const o=s[l];if(!Z(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=Jo(l,o,lj(l,e),ye.scales[o.type]),d=ij(c,r),u=n.scales||{};i[l]=xr(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||Qo(o,t),u=(Yn[o]||{}).scales||{};Object.keys(u).forEach(h=>{const f=rj(h,c),p=l[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),xr(i[p],[{axis:f},s[p],u[h]])})}),Object.keys(i).forEach(l=>{const o=i[l];xr(o,[ye.scales[o.type],ye.scale])}),i}function xx(e){const t=e.options||(e.options={});t.plugins=Q(t.plugins,{}),t.scales=oj(e,t)}function gx(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function cj(e){return e=e||{},e.data=gx(e.data),xx(e),e}const Th=new Map,bx=new Set;function Ei(e,t){let n=Th.get(e);return n||(n=t(),Th.set(e,n),bx.add(n)),n}const Qs=(e,t,n)=>{const s=Xn(t,n);s!==void 0&&e.add(s)};class dj{constructor(t){this._config=cj(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ei(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ei(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ei(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Ei(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let r=s.get(t);return(!r||n)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,n,s){const{options:r,type:i}=this,l=this._cachedScopes(t,s),o=l.get(n);if(o)return o;const c=new Set;n.forEach(u=>{t&&(c.add(t),u.forEach(h=>Qs(c,t,h))),u.forEach(h=>Qs(c,r,h)),u.forEach(h=>Qs(c,Yn[i]||{},h)),u.forEach(h=>Qs(c,ye,h)),u.forEach(h=>Qs(c,Go,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),bx.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Yn[n]||{},ye.datasets[n]||{},{type:n},ye,Go]}resolveNamedOptions(t,n,s,r=[""]){const i={$shared:!0},{resolver:l,subPrefixes:o}=Rh(this._resolverCache,t,r);let c=l;if(hj(l,n)){i.$shared=!1,s=_n(s)?s():s;const d=this.createResolver(t,s,o);c=Ps(l,s,d)}for(const d of n)i[d]=c[d];return i}createResolver(t,n,s=[""],r){const{resolver:i}=Rh(this._resolverCache,t,s);return Z(n)?Ps(i,n,void 0,r):i}}function Rh(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const r=n.join();let i=s.get(r);return i||(i={resolver:md(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},s.set(r,i)),i}const uj=e=>Z(e)&&Object.getOwnPropertyNames(e).some(t=>_n(e[t]));function hj(e,t){const{isScriptable:n,isIndexable:s}=nx(e);for(const r of t){const i=n(r),l=s(r),o=(l||i)&&e[r];if(i&&(_n(o)||uj(o))||l&&ke(o))return!0}return!1}var fj="4.5.1";const pj=["top","bottom","left","right","chartArea"];function Lh(e,t){return e==="top"||e==="bottom"||pj.indexOf(e)===-1&&t==="x"}function Oh(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Dh(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),de(n&&n.onComplete,[e],t)}function mj(e){const t=e.chart,n=t.options.animation;de(n&&n.onProgress,[e],t)}function vx(e){return bd()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Yi={},zh=e=>{const t=vx(e);return Object.values(Yi).filter(n=>n.canvas===t).pop()};function xj(e,t,n){const s=Object.keys(e);for(const r of s){const i=+r;if(i>=t){const l=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=l)}}}function gj(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var Jt;let el=(Jt=class{static register(...t){Mt.add(...t),Ah()}static unregister(...t){Mt.remove(...t),Ah()}constructor(t,n){const s=this.config=new dj(n),r=vx(t),i=zh(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Dw(r)),this.platform.updateConfig(s);const o=this.platform.acquireContext(r,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Oy(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jy(h=>this.update(h),l.resizeDelay||0),this._dataChanges=[],Yi[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ot.listen(this,"complete",Dh),Ot.listen(this,"progress",mj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return ae(t)?n&&i?i:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Mt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():oh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rh(this.canvas,this.ctx),this}stop(){return Ot.stop(this),this}resize(t,n){Ot.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,n,i),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,oh(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),de(s.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};te(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,r=Object.keys(s).reduce((l,o)=>(l[o]=!1,l),{});let i=[];n&&(i=i.concat(Object.keys(n).map(l=>{const o=n[l],c=Jo(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),te(i,l=>{const o=l.options,c=o.id,d=Jo(c,o),u=Q(o.type,l.dtype);(o.position===void 0||Lh(o.position,d)!==Lh(l.dposition))&&(o.position=l.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const f=Mt.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(o,t)}),te(r,(l,o)=>{l||delete s[o]}),te(s,l=>{ct.configure(this,l,l.options),ct.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Oh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let l=this.getDatasetMeta(s);const o=i.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=o,l.indexAxis=i.indexAxis||Qo(o,this.options),l.order=i.order||0,l.index=s,l.label=""+i.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const c=Mt.getController(o),{datasetElementType:d,dataElementType:u}=ye.datasets[o];Object.assign(c,{dataElementType:Mt.getElement(u),datasetElementType:d&&Mt.getElement(d)}),l.controller=new c(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),l=Math.max(+h.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),r||te(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Oh("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){te(this.scales,t=>{ct.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Ku(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const l=s==="_removeElements"?-i:i;xj(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(l=>l[0]===i).map((l,o)=>o+","+l.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!Ku(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ct.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],te(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,_n(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ot.has(this)?this.attached&&!Ot.running(this)&&Ot.start(this):(this.draw(),Dh({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const l=n[r];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=A1(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&hd(n,r),t.controller.draw(),r&&fd(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return ex(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,r){const i=pw.modes[n];return typeof i=="function"?i(this,t,s,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=zs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,r);Hr(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(i,{visible:s}),this.update(o=>o.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ot.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rh(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Yi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,l)=>{n.addEventListener(this,i,l),t[i]=l},r=(i,l,o)=>{i.offsetX=l,i.offsetY=o,this._eventHandler(i)};te(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},r=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{r("attach",o),this.attached=!0,this.resize(),s("resize",i),s("detach",l)};l=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",o)},n.isAttached(this.canvas)?o():l()}unbindEvents(){te(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},te(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const r=s?"set":"remove";let i,l,o,c;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:l})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[l],index:l}});!wa(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const r=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),l=i(n,t),o=s?t:i(t,n);l.length&&this.updateHoverStyle(l,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:r=[],options:i}=this,l=n,o=this._getActiveElements(t,r,s,l),c=By(t),d=gj(t,this._lastEvent,s,c);s&&(this._lastEvent=null,de(i.onHover,[t,o,this],this),c&&de(i.onClick,[t,o,this],this));const u=!wa(o,r);return(u||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=d,u}_getActiveElements(t,n,s,r){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}},V(Jt,"defaults",ye),V(Jt,"instances",Yi),V(Jt,"overrides",Yn),V(Jt,"registry",Mt),V(Jt,"version",fj),V(Jt,"getChart",zh),Jt);function Ah(){return te(el.instances,e=>e._plugins.invalidate())}function bj(e,t,n){const{startAngle:s,x:r,y:i,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/l,Et(s-n));if(e.beginPath(),e.arc(r,i,l-d/2,s+h/2,n-h/2),o>0){const f=Math.min(d/o,Et(s-n));e.arc(r,i,o+d/2,n-f/2,s+f/2,!0)}else{const f=Math.min(d/2,l*Et(s-n));if(u==="round")e.arc(r,i,f,n-ie/2,s+ie/2,!0);else if(u==="bevel"){const p=2*f*f,g=-p*Math.cos(n+ie/2)+r,v=-p*Math.sin(n+ie/2)+i,b=p*Math.cos(s+ie/2)+r,x=p*Math.sin(s+ie/2)+i;e.lineTo(g,v),e.lineTo(b,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function vj(e,t,n){const{startAngle:s,pixelMargin:r,x:i,y:l,outerRadius:o,innerRadius:c}=t;let d=r/o;e.beginPath(),e.arc(i,l,o,s-d,n+d),c>r?(d=r/c,e.arc(i,l,c,n+d,s-d,!0)):e.arc(i,l,r,n+Se,s-Se),e.closePath(),e.clip()}function yj(e){return pd(e,["outerStart","outerEnd","innerStart","innerEnd"])}function wj(e,t,n,s){const r=yj(e.options.borderRadius),i=(n-t)/2,l=Math.min(i,s*t/2),o=c=>{const d=(n-Math.min(i,c))*s/2;return qe(c,0,Math.min(i,d))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:qe(r.innerStart,0,l),innerEnd:qe(r.innerEnd,0,l)}}function Zn(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Ea(e,t,n,s,r,i){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+s+n-d,0),f=u>0?u+s+n+d:0;let p=0;const g=r-c;if(s){const F=u>0?u-s:0,O=h>0?h-s:0,M=(F+O)/2,N=M!==0?g*M/(M+s):g;p=(g-N)/2}const v=Math.max(.001,g*h-n/ie)/h,b=(g-v)/2,x=c+b+p,m=r-b-p,{outerStart:y,outerEnd:w,innerStart:_,innerEnd:S}=wj(t,f,h,m-x),C=h-y,E=h-w,A=x+y/C,z=m-w/E,R=f+_,H=f+S,W=x+_/R,Y=m-S/H;if(e.beginPath(),i){const F=(A+z)/2;if(e.arc(l,o,h,A,F),e.arc(l,o,h,F,z),w>0){const k=Zn(E,z,l,o);e.arc(k.x,k.y,w,z,m+Se)}const O=Zn(H,m,l,o);if(e.lineTo(O.x,O.y),S>0){const k=Zn(H,Y,l,o);e.arc(k.x,k.y,S,m+Se,Y+Math.PI)}const M=(m-S/f+(x+_/f))/2;if(e.arc(l,o,f,m-S/f,M,!0),e.arc(l,o,f,M,x+_/f,!0),_>0){const k=Zn(R,W,l,o);e.arc(k.x,k.y,_,W+Math.PI,x-Se)}const N=Zn(C,x,l,o);if(e.lineTo(N.x,N.y),y>0){const k=Zn(C,A,l,o);e.arc(k.x,k.y,y,x-Se,A)}}else{e.moveTo(l,o);const F=Math.cos(A)*h+l,O=Math.sin(A)*h+o;e.lineTo(F,O);const M=Math.cos(z)*h+l,N=Math.sin(z)*h+o;e.lineTo(M,N)}e.closePath()}function jj(e,t,n,s,r){const{fullCircles:i,startAngle:l,circumference:o}=t;let c=t.endAngle;if(i){Ea(e,t,n,s,c,r);for(let d=0;d<i;++d)e.fill();isNaN(o)||(c=l+(o%je||je))}return Ea(e,t,n,s,c,r),e.fill(),c}function _j(e,t,n,s,r){const{fullCircles:i,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=c,g=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=f,g?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let v=t.endAngle;if(i){Ea(e,t,n,s,v,r);for(let b=0;b<i;++b)e.stroke();isNaN(o)||(v=l+(o%je||je))}g&&vj(e,t,v),c.selfJoin&&v-l>=ie&&p===0&&u!=="miter"&&bj(e,t,v),i||(Ea(e,t,n,s,v,r),e.stroke())}class ir extends Kt{constructor(n){super();V(this,"circumference");V(this,"endAngle");V(this,"fullCircles");V(this,"innerRadius");V(this,"outerRadius");V(this,"pixelMargin");V(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:l,distance:o}=Xm(i,{x:n,y:s}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=Q(f,d-c),v=Na(l,c,d)&&c!==d,b=g>=je||v,x=An(o,u+p,h+p);return b&&x}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:l,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:u}=this.options,h=(i+l)/2,f=(o+c+u+d)/2;return{x:s+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,l=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>je?Math.floor(r/je):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(ie,r||0)),u=i*d;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,jj(n,this,u,l,o),_j(n,this,u,l,o),n.restore()}}V(ir,"id","arc"),V(ir,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),V(ir,"defaultRoutes",{backgroundColor:"backgroundColor"}),V(ir,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function yx(e,t){const{x:n,y:s,base:r,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,h;return e.horizontal?(h=l/2,o=Math.min(n,r),c=Math.max(n,r),d=s-h,u=s+h):(h=i/2,o=n-h,c=n+h,d=Math.min(s,r),u=Math.max(s,r)),{left:o,top:d,right:c,bottom:u}}function cn(e,t,n,s){return e?0:qe(t,n,s)}function kj(e,t,n){const s=e.options.borderWidth,r=e.borderSkipped,i=tx(s);return{t:cn(r.top,i.top,0,n),r:cn(r.right,i.right,0,t),b:cn(r.bottom,i.bottom,0,n),l:cn(r.left,i.left,0,t)}}function Nj(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,i=vs(r),l=Math.min(t,n),o=e.borderSkipped,c=s||Z(r);return{topLeft:cn(!c||o.top||o.left,i.topLeft,0,l),topRight:cn(!c||o.top||o.right,i.topRight,0,l),bottomLeft:cn(!c||o.bottom||o.left,i.bottomLeft,0,l),bottomRight:cn(!c||o.bottom||o.right,i.bottomRight,0,l)}}function Sj(e){const t=yx(e),n=t.right-t.left,s=t.bottom-t.top,r=kj(e,n/2,s/2),i=Nj(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Ul(e,t,n,s){const r=t===null,i=n===null,o=e&&!(r&&i)&&yx(e,s);return o&&(r||An(t,o.left,o.right))&&(i||An(n,o.top,o.bottom))}function Cj(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Mj(e,t){e.rect(t.x,t.y,t.w,t.h)}function Vl(e,t,n={}){const s=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,l=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+s,y:e.y+r,w:e.w+i,h:e.h+l,radius:e.radius}}class Ki extends Kt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:l}=Sj(this),o=Cj(l.radius)?Sa:Mj;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),o(t,Vl(l,n,i)),t.clip(),o(t,Vl(i,-n,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),o(t,Vl(i,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,s){return Ul(this,t,n,s)}inXRange(t,n){return Ul(this,t,null,n)}inYRange(t,n){return Ul(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}V(Ki,"id","bar"),V(Ki,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),V(Ki,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Fh=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},Ej=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Ih extends Kt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=de(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=Fe(s.font),i=r.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=Fh(s,i);let d,u;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,i,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,r,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,r){const{ctx:i,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=r+o;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,v)=>{const b=s+n/2+i.measureText(g.text).width;(v===0||d[d.length-1]+b+2*o>l)&&(h+=u,d[d.length-(v>0?0:1)]=0,p+=u,f++),c[v]={left:0,top:p,row:f,width:b,height:r},d[d.length-1]+=b+o}),h}_fitCols(t,n,s,r){const{ctx:i,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let h=o,f=0,p=0,g=0,v=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:m,itemHeight:y}=Pj(s,n,i,b,r);x>0&&p+y+2*o>u&&(h+=f+o,d.push({width:f,height:p}),g+=f+o,v++,f=p=0),c[x]={left:g,top:p,col:v,width:m,height:y},f=Math.max(f,m),p+=y+o}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,l=ys(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=ze(s,this.left+r,this.right-this.lineWidths[o]);for(const d of n)o!==d.row&&(o=d.row,c=ze(s,this.left+r,this.right-this.lineWidths[o])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+r}else{let o=0,c=ze(s,this.top+t+r,this.bottom-this.columnSizes[o].height);for(const d of n)d.col!==o&&(o=d.col,c=ze(s,this.top+t+r,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;hd(t,this),this._draw(),fd(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:l}=t,o=ye.color,c=ys(t.rtl,this.left,this.width),d=Fe(l.font),{padding:u}=l,h=d.size,f=h/2;let p;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:g,boxHeight:v,itemHeight:b}=Fh(l,h),x=function(S,C,E){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;r.save();const A=Q(E.lineWidth,1);if(r.fillStyle=Q(E.fillStyle,o),r.lineCap=Q(E.lineCap,"butt"),r.lineDashOffset=Q(E.lineDashOffset,0),r.lineJoin=Q(E.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=Q(E.strokeStyle,o),r.setLineDash(Q(E.lineDash,[])),l.usePointStyle){const z={radius:v*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:A},R=c.xPlus(S,g/2),H=C+f;Zm(r,z,R,H,l.pointStyleWidth&&g)}else{const z=C+Math.max((h-v)/2,0),R=c.leftForLtr(S,g),H=vs(E.borderRadius);r.beginPath(),Object.values(H).some(W=>W!==0)?Sa(r,{x:R,y:z,w:g,h:v,radius:H}):r.rect(R,z,g,v),r.fill(),A!==0&&r.stroke()}r.restore()},m=function(S,C,E){$r(r,E.text,S,C+b/2,d,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},y=this.isHorizontal(),w=this._computeTitleHeight();y?p={x:ze(i,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:p={x:this.left+u,y:ze(i,this.top+w+u,this.bottom-n[0].height),line:0},ax(this.ctx,t.textDirection);const _=b+u;this.legendItems.forEach((S,C)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const E=r.measureText(S.text).width,A=c.textAlign(S.textAlign||(S.textAlign=l.textAlign)),z=g+f+E;let R=p.x,H=p.y;c.setWidth(this.width),y?C>0&&R+z+u>this.right&&(H=p.y+=_,p.line++,R=p.x=ze(i,this.left+u,this.right-s[p.line])):C>0&&H+_>this.bottom&&(R=p.x=R+n[p.line].width+u,p.line++,H=p.y=ze(i,this.top+w+u,this.bottom-n[p.line].height));const W=c.x(R);if(x(W,H,S),R=Zy(A,R+g+f,y?R+z:this.right,t.rtl),m(c.x(R),H,S),y)p.x+=z+u;else if(typeof S.text!="string"){const Y=d.lineHeight;p.y+=wx(S,Y)+u}else p.y+=_}),lx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Fe(n.font),r=pt(n.padding);if(!n.display)return;const i=ys(t.rtl,this.left,this.width),l=this.ctx,o=n.position,c=s.size/2,d=r.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=ze(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);u=d+ze(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=ze(o,h,h+f);l.textAlign=i.textAlign(dd(o)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=s.string,$r(l,n.text,p,u,s)}_computeTitleHeight(){const t=this.options.title,n=Fe(t.font),s=pt(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,r,i;if(An(t,this.left,this.right)&&An(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],An(t,r.left,r.left+r.width)&&An(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!Lj(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,i=Ej(r,s);r&&!i&&de(n.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!i&&de(n.onHover,[t,s,this],this)}else s&&de(n.onClick,[t,s,this],this)}}function Pj(e,t,n,s,r){const i=Tj(s,e,t,n),l=Rj(r,s,t.lineHeight);return{itemWidth:i,itemHeight:l}}function Tj(e,t,n,s){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((i,l)=>i.length>l.length?i:l)),t+n.size/2+s.measureText(r).width}function Rj(e,t,n){let s=e;return typeof t.text!="string"&&(s=wx(t,n)),s}function wx(e,t){const n=e.text?e.text.length:0;return t*n}function Lj(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Oj={id:"legend",_element:Ih,start(e,t,n){const s=e.legend=new Ih({ctx:e.ctx,options:n,chart:e});ct.configure(e,s,n),ct.addBox(e,s)},stop(e){ct.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;ct.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=pt(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class jx extends Kt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=ke(s.text)?s.text.length:1;this._padding=pt(s.padding);const i=r*Fe(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:r,right:i,options:l}=this,o=l.align;let c=0,d,u,h;return this.isHorizontal()?(u=ze(o,s,i),h=n+t,d=i-s):(l.position==="left"?(u=s+t,h=ze(o,r,n),c=ie*-.5):(u=i-t,h=ze(o,n,r),c=ie*.5),d=r-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Fe(n.font),i=s.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(i);$r(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:d,textAlign:dd(n.align),textBaseline:"middle",translation:[l,o]})}}function Dj(e,t){const n=new jx({ctx:e.ctx,options:t,chart:e});ct.configure(e,n,t),ct.addBox(e,n),e.titleBlock=n}var zj={id:"title",_element:jx,start(e,t,n){Dj(e,n)},stop(e){const t=e.titleBlock;ct.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;ct.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ar={average(e){if(!e.length)return!1;let t,n,s=new Set,r=0,i=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((o,c)=>o+c)/s.size,y:r/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,r=Number.POSITIVE_INFINITY,i,l,o;for(i=0,l=e.length;i<l;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Yy(t,d);u<r&&(r=u,o=c)}}if(o){const c=o.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function St(e,t){return t&&(ke(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Dt(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Aj(e,t){const{element:n,datasetIndex:s,index:r}=t,i=e.getDatasetMeta(s).controller,{label:l,value:o}=i.getLabelAndValue(r);return{chart:e,label:l,parsed:i.getParsed(r),raw:e.data.datasets[s].data[r],formattedValue:o,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function Bh(e,t){const n=e.chart.ctx,{body:s,footer:r,title:i}=e,{boxWidth:l,boxHeight:o}=t,c=Fe(t.bodyFont),d=Fe(t.titleFont),u=Fe(t.footerFont),h=i.length,f=r.length,p=s.length,g=pt(t.padding);let v=g.height,b=0,x=s.reduce((w,_)=>w+_.before.length+_.lines.length+_.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,h&&(v+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){const w=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;v+=p*w+(x-p)*c.lineHeight+(x-1)*t.bodySpacing}f&&(v+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let m=0;const y=function(w){b=Math.max(b,n.measureText(w).width+m)};return n.save(),n.font=d.string,te(e.title,y),n.font=c.string,te(e.beforeBody.concat(e.afterBody),y),m=t.displayColors?l+2+t.boxPadding:0,te(s,w=>{te(w.before,y),te(w.lines,y),te(w.after,y)}),m=0,n.font=u.string,te(e.footer,y),n.restore(),b+=g.width,{width:b,height:v}}function Fj(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function Ij(e,t,n,s){const{x:r,width:i}=s,l=n.caretSize+n.caretPadding;if(e==="left"&&r+i+l>t.width||e==="right"&&r-i-l<0)return!0}function Bj(e,t,n,s){const{x:r,width:i}=n,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return s==="center"?d=r<=(o+c)/2?"left":"right":r<=i/2?d="left":r>=l-i/2&&(d="right"),Ij(d,e,t,n)&&(d="center"),d}function Hh(e,t,n){const s=n.yAlign||t.yAlign||Fj(e,n);return{xAlign:n.xAlign||t.xAlign||Bj(e,t,n,s),yAlign:s}}function Hj(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function $j(e,t,n){let{y:s,height:r}=e;return t==="top"?s+=n:t==="bottom"?s-=r+n:s-=r/2,s}function $h(e,t,n,s){const{caretSize:r,caretPadding:i,cornerRadius:l}=e,{xAlign:o,yAlign:c}=n,d=r+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=vs(l);let g=Hj(t,o);const v=$j(t,c,d);return c==="center"?o==="left"?g+=d:o==="right"&&(g-=d):o==="left"?g-=Math.max(u,f)+r:o==="right"&&(g+=Math.max(h,p)+r),{x:qe(g,0,s.width-t.width),y:qe(v,0,s.height-t.height)}}function Pi(e,t,n){const s=pt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function Wh(e){return St([],Dt(e))}function Wj(e,t,n){return zs(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Uh(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const _x={beforeTitle:Lt,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Lt,beforeBody:Lt,beforeLabel:Lt,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ae(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Lt,afterBody:Lt,beforeFooter:Lt,footer:Lt,afterFooter:Lt};function Ve(e,t,n,s){const r=e[t].call(n,s);return typeof r>"u"?_x[t].call(n,s):r}class Zo extends Kt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new ox(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Wj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,r=Ve(s,"beforeTitle",this,t),i=Ve(s,"title",this,t),l=Ve(s,"afterTitle",this,t);let o=[];return o=St(o,Dt(r)),o=St(o,Dt(i)),o=St(o,Dt(l)),o}getBeforeBody(t,n){return Wh(Ve(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,r=[];return te(t,i=>{const l={before:[],lines:[],after:[]},o=Uh(s,i);St(l.before,Dt(Ve(o,"beforeLabel",this,i))),St(l.lines,Ve(o,"label",this,i)),St(l.after,Dt(Ve(o,"afterLabel",this,i))),r.push(l)}),r}getAfterBody(t,n){return Wh(Ve(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,r=Ve(s,"beforeFooter",this,t),i=Ve(s,"footer",this,t),l=Ve(s,"afterFooter",this,t);let o=[];return o=St(o,Dt(r)),o=St(o,Dt(i)),o=St(o,Dt(l)),o}_createItems(t){const n=this._active,s=this.chart.data,r=[],i=[],l=[];let o=[],c,d;for(c=0,d=n.length;c<d;++c)o.push(Aj(this.chart,n[c]));return t.filter&&(o=o.filter((u,h,f)=>t.filter(u,h,f,s))),t.itemSort&&(o=o.sort((u,h)=>t.itemSort(u,h,s))),te(o,u=>{const h=Uh(t.callbacks,u);r.push(Ve(h,"labelColor",this,u)),i.push(Ve(h,"labelPointStyle",this,u)),l.push(Ve(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=o,o}update(t,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,l=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const o=ar[s.position].call(this,r,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const c=this._size=Bh(this,s),d=Object.assign({},o,c),u=Hh(this.chart,s,d),h=$h(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,r){const i=this.getCaretPosition(t,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:l,cornerRadius:o}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=vs(o),{x:f,y:p}=t,{width:g,height:v}=n;let b,x,m,y,w,_;return i==="center"?(w=p+v/2,r==="left"?(b=f,x=b-l,y=w+l,_=w-l):(b=f+g,x=b+l,y=w-l,_=w+l),m=b):(r==="left"?x=f+Math.max(c,u)+l:r==="right"?x=f+g-Math.max(d,h)-l:x=this.caretX,i==="top"?(y=p,w=y-l,b=x-l,m=x+l):(y=p+v,w=y+l,b=x+l,m=x-l),_=y),{x1:b,x2:x,x3:m,y1:y,y2:w,y3:_}}drawTitle(t,n,s){const r=this.title,i=r.length;let l,o,c;if(i){const d=ys(s.rtl,this.x,this.width);for(t.x=Pi(this,s.titleAlign,s),n.textAlign=d.textAlign(s.titleAlign),n.textBaseline="middle",l=Fe(s.titleFont),o=s.titleSpacing,n.fillStyle=s.titleColor,n.font=l.string,c=0;c<i;++c)n.fillText(r[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===i&&(t.y+=s.titleMarginBottom-o)}}_drawColorBox(t,n,s,r,i){const l=this.labelColors[s],o=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=Fe(i.bodyFont),h=Pi(this,"left",i),f=r.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+p;if(i.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=r.leftForLtr(f,d)+d/2,x=g+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,ih(t,v,b,x),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,ih(t,v,b,x)}else{t.lineWidth=Z(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const v=r.leftForLtr(f,d),b=r.leftForLtr(r.xPlus(f,1),d-2),x=vs(l.borderRadius);Object.values(x).some(m=>m!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Sa(t,{x:v,y:g,w:d,h:c,radius:x}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Sa(t,{x:b,y:g+1,w:d-2,h:c-2,radius:x}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(v,g,d,c),t.strokeRect(v,g,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=Fe(s.bodyFont);let f=h.lineHeight,p=0;const g=ys(s.rtl,this.x,this.width),v=function(E){n.fillText(E,g.x(t.x+p),t.y+f/2),t.y+=f+i},b=g.textAlign(l);let x,m,y,w,_,S,C;for(n.textAlign=l,n.textBaseline="middle",n.font=h.string,t.x=Pi(this,b,s),n.fillStyle=s.bodyColor,te(this.beforeBody,v),p=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,w=0,S=r.length;w<S;++w){for(x=r[w],m=this.labelTextColors[w],n.fillStyle=m,te(x.before,v),y=x.lines,o&&y.length&&(this._drawColorBox(n,t,w,g,s),f=Math.max(h.lineHeight,c)),_=0,C=y.length;_<C;++_)v(y[_]),f=h.lineHeight;te(x.after,v)}p=0,f=h.lineHeight,te(this.afterBody,v),t.y-=i}drawFooter(t,n,s){const r=this.footer,i=r.length;let l,o;if(i){const c=ys(s.rtl,this.x,this.width);for(t.x=Pi(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",l=Fe(s.footerFont),n.fillStyle=s.footerColor,n.font=l.string,o=0;o<i;++o)n.fillText(r[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,n,s,r){const{xAlign:i,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=vs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+h,c),l==="top"&&this.drawCaret(t,n,s,r),n.lineTo(o+d-f,c),n.quadraticCurveTo(o+d,c,o+d,c+f),l==="center"&&i==="right"&&this.drawCaret(t,n,s,r),n.lineTo(o+d,c+u-g),n.quadraticCurveTo(o+d,c+u,o+d-g,c+u),l==="bottom"&&this.drawCaret(t,n,s,r),n.lineTo(o+p,c+u),n.quadraticCurveTo(o,c+u,o,c+u-p),l==="center"&&i==="left"&&this.drawCaret(t,n,s,r),n.lineTo(o,c+h),n.quadraticCurveTo(o,c,o+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const l=ar[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=Bh(this,t),c=Object.assign({},l,this._size),d=Hh(n,t,c),u=$h(t,c,d,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=pt(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,r,n),ax(t,n.textDirection),i.y+=l.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),lx(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,r=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),i=!wa(s,r),l=this._positionChanged(r,n);(i||l)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],l=this._getActiveElements(t,i,n,s),o=this._positionChanged(l,t),c=n||!wa(l,i)||o;return c&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,s,r){const i=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:s,caretY:r,options:i}=this,l=ar[i.position].call(this,t,n);return l!==!1&&(s!==l.x||r!==l.y)}}V(Zo,"positioners",ar);var Uj={id:"tooltip",_element:Zo,positioners:ar,afterInit(e,t,n){n&&(e.tooltip=new Zo({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_x},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Vj=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Xj(e,t,n,s){const r=e.indexOf(t);if(r===-1)return Vj(e,t,n,s);const i=e.lastIndexOf(t);return r!==i?n:r}const Yj=(e,t)=>e===null?null:qe(Math.round(e),0,t);function Vh(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ec extends As{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ae(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:Xj(s,t,Q(n,t),this._addedLabels),Yj(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=n;l++)r.push({value:l});return r}getLabelForValue(t){return Vh.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}V(ec,"id","category"),V(ec,"defaults",{ticks:{callback:Vh}});function Kj(e,t){const n=[],{bounds:r,step:i,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=e,p=i||1,g=u-1,{min:v,max:b}=t,x=!ae(l),m=!ae(o),y=!ae(d),w=(b-v)/(h+1);let _=Gu((b-v)/g/p)*p,S,C,E,A;if(_<1e-14&&!x&&!m)return[{value:v},{value:b}];A=Math.ceil(b/_)-Math.floor(v/_),A>g&&(_=Gu(A*_/g/p)*p),ae(c)||(S=Math.pow(10,c),_=Math.ceil(_*S)/S),r==="ticks"?(C=Math.floor(v/_)*_,E=Math.ceil(b/_)*_):(C=v,E=b),x&&m&&i&&Uy((o-l)/i,_/1e3)?(A=Math.round(Math.min((o-l)/_,u)),_=(o-l)/A,C=l,E=o):y?(C=x?l:C,E=m?o:E,A=d-1,_=(E-C)/A):(A=(E-C)/_,Ui(A,Math.round(A),_/1e3)?A=Math.round(A):A=Math.ceil(A));const z=Math.max(Qu(_),Qu(C));S=Math.pow(10,ae(c)?z:c),C=Math.round(C*S)/S,E=Math.round(E*S)/S;let R=0;for(x&&(f&&C!==l?(n.push({value:l}),C<l&&R++,Ui(Math.round((C+R*_)*S)/S,l,Xh(l,w,e))&&R++):C<l&&R++);R<A;++R){const H=Math.round((C+R*_)*S)/S;if(m&&H>o)break;n.push({value:H})}return m&&f&&E!==o?n.length&&Ui(n[n.length-1].value,o,Xh(o,w,e))?n[n.length-1].value=o:n.push({value:o}):(!m||E===o)&&n.push({value:E}),n}function Xh(e,t,{horizontal:n,minRotation:s}){const r=Ht(s),i=(n?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class qj extends As{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const l=c=>r=n?r:c,o=c=>i=s?i:c;if(t){const c=yn(r),d=yn(i);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);o(i+c),t||l(r-c)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,l=Kj(r,i);return t.bounds==="ticks"&&Vy(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-n)/Math.max(t.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return ud(t,this.chart.options.locale,this.options.ticks.format)}}class tc extends qj{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ft(t)?t:0,this.max=ft(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=Ht(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}V(tc,"id","linear"),V(tc,"defaults",{ticks:{callback:Jm.formatters.numeric}});const tl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ye=Object.keys(tl);function Yh(e,t){return e-t}function Kh(e,t){if(ae(t))return null;const n=e._adapter,{parser:s,round:r,isoWeekday:i}=e._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),ft(l)||(l=typeof s=="string"?n.parse(l,s):n.parse(l)),l===null?null:(r&&(l=r==="week"&&(ka(i)||i===!0)?n.startOf(l,"isoWeek",i):n.startOf(l,r)),+l)}function qh(e,t,n,s){const r=Ye.length;for(let i=Ye.indexOf(e);i<r-1;++i){const l=tl[Ye[i]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(o*l.size))<=s)return Ye[i]}return Ye[r-1]}function Gj(e,t,n,s,r){for(let i=Ye.length-1;i>=Ye.indexOf(n);i--){const l=Ye[i];if(tl[l].common&&e._adapter.diff(r,s,l)>=t-1)return l}return Ye[n?Ye.indexOf(n):0]}function Qj(e){for(let t=Ye.indexOf(e)+1,n=Ye.length;t<n;++t)if(tl[Ye[t]].common)return Ye[t]}function Gh(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:r}=cd(n,t),i=n[s]>=t?n[s]:n[r];e[i]=!0}}function Jj(e,t,n,s){const r=e._adapter,i=+r.startOf(t[0].value,s),l=t[t.length-1].value;let o,c;for(o=i;o<=l;o=+r.add(o,1,s))c=n[o],c>=0&&(t[c].major=!0);return t}function Qh(e,t,n){const s=[],r={},i=t.length;let l,o;for(l=0;l<i;++l)o=t[l],r[o]=l,s.push({value:o,major:!1});return i===0||!n?s:Jj(e,s,r,n)}class Pa extends As{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),r=this._adapter=new cw._date(t.adapters.date);r.init(n),xr(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Kh(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:r,max:i,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!o&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=ft(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=ft(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,l=this.max,o=Gy(r,i,l);return this._unit=n.unit||(s.autoSkip?qh(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Gj(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Qj(this._unit),this.initOffsets(r),t.reverse&&o.reverse(),Qh(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,r,i;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=qe(n,0,l),s=qe(s,0,l),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,l=i.unit||qh(i.minUnit,n,s,this._getLabelCapacity(n)),o=Q(r.ticks.stepSize,1),c=l==="week"?i.isoWeekday:!1,d=ka(c)||c===!0,u={};let h=n,f,p;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":l),t.diff(s,n,l)>1e5*o)throw new Error(n+" and "+s+" are too far apart with stepSize of "+o+" "+l);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+t.add(f,o,l),p++)Gh(u,f,g);return(f===s||r.bounds==="ticks"||p===1)&&Gh(u,f,g),Object.keys(u).sort(Yh).map(v=>+v)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,i=this._unit,l=n||r[i];return this._adapter.format(t,l)}_tickFormatFunction(t,n,s,r){const i=this.options,l=i.ticks.callback;if(l)return de(l,[t,n,s],this);const o=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],h=d&&o[d],f=s[n],p=d&&h&&f&&f.major;return this._adapter.format(t,r||(p?h:u))}generateTickLabels(t){let n,s,r;for(n=0,s=t.length;n<s;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,r=Ht(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),l=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:s*i+o*l,h:s*l+o*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,Qh(this,[t],this._majorUnit),r),l=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)t.push(Kh(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Km(t.sort(Yh))}}V(Pa,"id","time"),V(Pa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ti(e,t,n){let s=0,r=e.length-1,i,l,o,c;n?(t>=e[s].pos&&t<=e[r].pos&&({lo:s,hi:r}=qo(e,"pos",t)),{pos:i,time:o}=e[s],{pos:l,time:c}=e[r]):(t>=e[s].time&&t<=e[r].time&&({lo:s,hi:r}=qo(e,"time",t)),{time:i,pos:o}=e[s],{time:l,pos:c}=e[r]);const d=l-i;return d?o+(c-o)*(t-i)/d:o}class Jh extends Pa{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ti(n,this.min),this._tableRange=Ti(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,r=[],i=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=n&&d<=s&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(l=0,o=r.length;l<o;++l)u=r[l+1],c=r[l-1],d=r[l],Math.round((u+c)/2)!==d&&i.push({time:d,pos:l/(o-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Ti(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Ti(this._table,s*this._tableRange+this._minPos,!0)}}V(Jh,"id","timeseries"),V(Jh,"defaults",Pa.defaults);const kx="label";function Zh(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Zj(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Nx(e,t){e.labels=t}function Sx(e,t,n=kx){const s=[];e.datasets=t.map(r=>{const i=e.datasets.find(l=>l[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function e_(e,t=kx){const n={labels:[],datasets:[]};return Nx(n,e.labels),Sx(n,e.datasets,t),n}function t_(e,t){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=e,p=j.useRef(null),g=j.useRef(null),v=()=>{p.current&&(g.current=new el(p.current,{type:l,data:e_(o,i),options:c&&{...c},plugins:d}),Zh(t,g.current))},b=()=>{Zh(t,null),g.current&&(g.current.destroy(),g.current=null)};return j.useEffect(()=>{!r&&g.current&&c&&Zj(g.current,c)},[r,c]),j.useEffect(()=>{!r&&g.current&&Nx(g.current.config.data,o.labels)},[r,o.labels]),j.useEffect(()=>{!r&&g.current&&o.datasets&&Sx(g.current.config.data,o.datasets,i)},[r,o.datasets]),j.useEffect(()=>{g.current&&(r?(b(),setTimeout(v)):g.current.update(h))},[r,c,o.labels,o.datasets,h]),j.useEffect(()=>{g.current&&(b(),setTimeout(v))},[l]),j.useEffect(()=>(v(),()=>b()),[]),a.jsx("canvas",{ref:p,role:"img",height:n,width:s,...f,children:u})}const n_=j.forwardRef(t_);function Cx(e,t){return el.register(t),j.forwardRef((n,s)=>a.jsx(n_,{...n,ref:s,type:e}))}const Xl=Cx("bar",Vi),s_=Cx("doughnut",sr);el.register(ec,tc,Ki,zj,Uj,Oj,ir);const r_=()=>{var H,W,Y,F,O;const[e,t]=j.useState(null),[n,s]=j.useState(null),[r,i]=j.useState(!0),[l,o]=j.useState("Checking..."),[c,d]=j.useState({start:"",end:""}),[u,h]=j.useState(["1","2","3","4","5","6","7"]),[f,p]=j.useState({}),[g,v]=j.useState(1),[b,x]=j.useState(25),[m,y]=j.useState({f_div:"",f_amount:"",f_from:"",f_to:"",f_type:"",f_category:"",f_reason:""}),w=j.useRef(null),_=j.useRef(null);j.useEffect(()=>{const M=new Date,N=new Date(M.getFullYear(),M.getMonth(),1).toISOString().split("T")[0],k=new Date(M.getFullYear(),M.getMonth()+1,0).toISOString().split("T")[0];return d({start:N,end:k}),C(),S(),()=>{w.current&&clearTimeout(w.current),_.current&&clearInterval(_.current)}},[]),j.useEffect(()=>{c.start&&E()},[c,u,g,b,m]);const S=()=>{fetch("/api/mgmt/srp/divisions/").then(M=>M.json()).then(M=>{M&&!M.error&&p(M)}).catch(M=>console.error("Failed to fetch divisions",M))},C=()=>{fetch("/api/srp/status/").then(M=>M.json()).then(M=>{t(M),M.next_sync&&z(M.next_sync);let N=3e4;if(M.next_sync){const k=new Date(M.next_sync)-new Date;k>3e5?N=3e5:k>15e3?N=k:N=15e3}w.current=setTimeout(C,N>1e3?N:5e3)}).catch(()=>{w.current=setTimeout(C,6e4)})},E=()=>{i(!0);const M=new URLSearchParams({start_date:c.start,end_date:c.end,page:g,limit:b,...m});u.forEach(N=>M.append("divisions[]",N)),fetch(`/api/srp/data/?${M.toString()}`).then(N=>N.json()).then(N=>{s(N),i(!1)}).catch(N=>{console.error("Failed to fetch SRP data",N),i(!1)})},A=(M,N)=>{var T;const k=(T=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:T[1];fetch("/api/mgmt/srp/update_category/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k},body:JSON.stringify({entry_id:M,category:N})}).then(D=>D.json()).then(D=>{D.success?E():alert("Failed to update category")})},z=M=>{_.current&&clearInterval(_.current);const N=new Date(M).getTime(),k=()=>{const T=new Date().getTime(),D=N-T;if(D<=0){o("Sync Ready");return}const B=Math.floor(D/(1e3*60*60)),G=Math.floor(D%(1e3*60*60)/(1e3*60)),P=Math.floor(D%(1e3*60)/1e3);o(`${B>0?B+"h ":""}${G}m ${P}s`)};k(),_.current=setInterval(k,1e3)},R=(M,N)=>{y(k=>({...k,[M]:N})),v(1)};return!e&&!n&&r?a.jsxs("div",{className:"p-10 text-center text-slate-500",children:[a.jsx(bs,{className:"animate-spin inline mr-2"})," Loading Dashboard..."]}):a.jsxs("div",{className:"flex flex-col gap-6 pb-12",children:[a.jsxs("div",{className:"glass-panel p-4 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-900/90 sticky top-0 z-20 backdrop-blur-md",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-white tracking-tight",children:"Corporation Wallet Monitor"}),a.jsxs("p",{className:"text-xs text-slate-400",children:["Last Sync: ",a.jsx("span",{className:"text-slate-300",children:e!=null&&e.last_sync?new Date(e.last_sync).toLocaleString():"Never"})]})]}),(e==null?void 0:e.next_sync)&&a.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg bg-black/20 border border-white/5",children:[a.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Next Sync"}),a.jsx("span",{className:"text-xs font-mono text-slate-400 font-bold w-20",children:l})]})]}),a.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-black/30 p-1.5 rounded border border-white/10",children:[a.jsx("input",{type:"date",value:c.start,onChange:M=>d(N=>({...N,start:M.target.value})),className:"bg-transparent text-xs text-white outline-none w-24"}),a.jsx("span",{className:"text-slate-500",children:"-"}),a.jsx("input",{type:"date",value:c.end,onChange:M=>d(N=>({...N,end:M.target.value})),className:"bg-transparent text-xs text-white outline-none w-24"}),a.jsx("button",{onClick:()=>d({start:"",end:""}),className:"text-[10px] font-bold text-slate-500 hover:text-brand-400 ml-2 pl-2 border-l border-white/10 uppercase transition",children:"All"})]}),a.jsx("div",{className:"flex gap-2 text-xs",children:["1","2","3","4","5","6","7"].map(M=>a.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:u.includes(M),onChange:N=>{N.target.checked?h(k=>[...k,M]):h(k=>k.filter(T=>T!==M))},className:"rounded bg-slate-800 border-slate-600 text-brand-500 focus:ring-0 w-3 h-3"}),a.jsx("span",{className:"text-slate-300",title:f[M]||`Division ${M}`,children:f[M]?f[M].substring(0,10):`Div ${M}`})]},M))}),a.jsx("button",{onClick:()=>E(),className:"btn-ghost p-1.5 text-slate-400 hover:text-white",title:"Refresh",children:a.jsx(bs,{size:16,className:r?"animate-spin":""})})]})]}),(n==null?void 0:n.division_balances)&&Object.keys(n.division_balances).length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:Object.entries(n.division_balances).map(([M,N])=>a.jsxs("div",{className:"glass-panel p-3 flex flex-col justify-center items-center border border-white/5 bg-slate-900/50",children:[a.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider mb-1 truncate w-full text-center",title:f[M]||`Division ${M}`,children:f[M]||`Division ${M}`}),a.jsxs("span",{className:"text-xs font-mono font-bold text-white whitespace-nowrap",children:[parseFloat(N).toLocaleString()," ISK"]})]},M))}),n&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Yl,{label:"Total Income",value:n.summary.income,color:"text-green-400"}),a.jsx(Yl,{label:"Total Outcome",value:n.summary.outcome,color:"text-red-400"}),a.jsx(Yl,{label:"Net Change",value:n.summary.net,color:n.summary.net>=0?"text-white":"text-red-300"})]}),n&&a.jsx(l_,{data:n}),a.jsxs("div",{className:"glass-panel flex flex-col overflow-hidden min-h-[500px]",children:[a.jsxs("div",{className:"p-3 border-b border-white/5 bg-slate-900/50 flex justify-between items-center",children:[a.jsx("h3",{className:"label-text mb-0 w-1/3",children:"Transactions"}),a.jsx("div",{className:"w-1/3 flex justify-center",children:a.jsx(ef,{current:g,total:((H=n==null?void 0:n.pagination)==null?void 0:H.total_pages)||1,onChange:v})}),a.jsx("div",{className:"w-1/3 flex justify-end",children:a.jsxs("select",{value:b,onChange:M=>{x(Number(M.target.value)),v(1)},className:"bg-black/30 border border-slate-700 text-slate-300 text-xs rounded px-2 py-1 outline-none focus:border-brand-500",children:[a.jsx("option",{value:"10",children:"10 Rows"}),a.jsx("option",{value:"25",children:"25 Rows"}),a.jsx("option",{value:"50",children:"50 Rows"}),a.jsx("option",{value:"100",children:"100 Rows"})]})})]}),a.jsx("div",{className:"overflow-auto custom-scrollbar flex-grow relative bg-slate-900/20",children:a.jsxs("table",{className:"w-full text-left text-xs text-slate-400 border-collapse",children:[a.jsxs("thead",{className:"bg-slate-900/95 text-[10px] uppercase font-bold sticky top-0 z-10 backdrop-blur-md shadow-sm",children:[a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 border-b border-white/5 w-24 whitespace-nowrap",children:"Date"}),a.jsx("th",{className:"px-2 py-2 border-b border-white/5 text-center w-12",children:"Div"}),a.jsx("th",{className:"px-2 py-2 border-b border-white/5 text-right w-32 whitespace-nowrap",children:"Amount"}),a.jsx("th",{className:"px-2 py-2 border-b border-white/5 w-32",children:"From"}),a.jsx("th",{className:"px-2 py-2 border-b border-white/5 w-32",children:"To"}),a.jsx("th",{className:"px-2 py-2 border-b border-white/5 w-32 whitespace-nowrap",children:"Type"}),a.jsx("th",{className:"px-2 py-2 border-b border-white/5 w-48",children:"Category"}),a.jsx("th",{className:"px-2 py-2 border-b border-white/5",children:"Reason"})]}),a.jsxs("tr",{className:"bg-slate-900/90 border-b border-white/10",children:[a.jsx("td",{className:"p-1"}),a.jsx("td",{className:"p-1",children:a.jsx("input",{placeholder:"#",value:m.f_div,onChange:M=>R("f_div",M.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-1 py-0.5 text-[10px] text-center text-slate-300 focus:border-brand-500 outline-none"})}),a.jsx("td",{className:"p-1",children:a.jsx("input",{placeholder:"Min...",value:m.f_amount,onChange:M=>R("f_amount",M.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-1 py-0.5 text-[10px] text-right text-slate-300 focus:border-brand-500 outline-none"})}),a.jsx("td",{className:"p-1",children:a.jsx("input",{placeholder:"From...",value:m.f_from,onChange:M=>R("f_from",M.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-1 py-0.5 text-[10px] text-slate-300 focus:border-brand-500 outline-none"})}),a.jsx("td",{className:"p-1",children:a.jsx("input",{placeholder:"To...",value:m.f_to,onChange:M=>R("f_to",M.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-1 py-0.5 text-[10px] text-slate-300 focus:border-brand-500 outline-none"})}),a.jsx("td",{className:"p-1",children:a.jsx("input",{placeholder:"Type...",value:m.f_type,onChange:M=>R("f_type",M.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-1 py-0.5 text-[10px] text-slate-300 focus:border-brand-500 outline-none"})}),a.jsx("td",{className:"p-1",children:a.jsxs("select",{value:m.f_category,onChange:M=>R("f_category",M.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-1 py-0.5 text-[10px] text-slate-300 focus:border-brand-500 outline-none",children:[a.jsx("option",{value:"",children:"All"}),a.jsx("option",{value:"uncategorised",children:"Uncategorised"}),a.jsx("option",{value:"srp_in",children:"SRP In"}),a.jsx("option",{value:"srp_out",children:"SRP Out"}),a.jsx("option",{value:"internal_transfer",children:"Internal Transfer"}),a.jsx("option",{value:"giveaway",children:"Giveaway"}),a.jsx("option",{value:"manual_change",children:"Manual Change"}),a.jsx("option",{value:"manual_out",children:"Manual Out"}),a.jsx("option",{value:"tax",children:"Tax"}),a.jsx("option",{value:"other",children:"Other"})]})}),a.jsx("td",{className:"p-1",children:a.jsx("input",{placeholder:"Reason...",value:m.f_reason,onChange:M=>R("f_reason",M.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-1 py-0.5 text-[10px] text-slate-300 focus:border-brand-500 outline-none"})})]})]}),a.jsxs("tbody",{className:"divide-y divide-white/5 opacity-100 transition-opacity duration-200",style:{opacity:r?.5:1},children:[(W=n==null?void 0:n.transactions)==null?void 0:W.map(M=>a.jsx(a_,{tx:M,onUpdateCategory:A,divisionMap:f},M.entry_id)),((Y=n==null?void 0:n.transactions)==null?void 0:Y.length)===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-8 text-center text-slate-500 italic",children:"No transactions found for this period."})})]})]})}),a.jsxs("div",{className:"p-3 border-t border-white/5 bg-slate-900/50 flex justify-center items-center relative",children:[a.jsx(ef,{current:g,total:((F=n==null?void 0:n.pagination)==null?void 0:F.total_pages)||1,onChange:v}),a.jsxs("div",{className:"absolute right-4 text-[10px] text-slate-500 font-mono hidden md:block",children:[(O=n==null?void 0:n.pagination)==null?void 0:O.total_count," entries"]})]})]})]})},ef=({current:e,total:t,onChange:n})=>{if(t<=1)return null;let s=Math.max(1,e-3),r=Math.min(t,e+3);s===1&&(r=Math.min(t,7)),r===t&&(s=Math.max(1,t-6));const i=[];for(let l=s;l<=r;l++)i.push(l);return a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"btn-secondary py-1 px-2 text-[10px] disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10",children:""}),i.map(l=>a.jsx("button",{onClick:()=>n(l),className:K("py-1 px-2.5 text-[10px] rounded transition font-mono",l===e?"bg-brand-500 text-white font-bold shadow-lg shadow-brand-500/20":"bg-white/5 text-slate-400 hover:bg-white/10 hover:text-white"),children:l},l)),r<t&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-slate-600 text-[10px]",children:"..."}),a.jsx("button",{onClick:()=>n(t),className:"py-1 px-2 text-[10px] text-slate-500 hover:text-white",children:t})]}),a.jsx("button",{onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"btn-secondary py-1 px-2 text-[10px] disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10",children:""})]})},Yl=({label:e,value:t,color:n})=>a.jsxs("div",{className:"glass-panel p-4 text-center",children:[a.jsx("div",{className:"label-text mb-1",children:e}),a.jsxs("div",{className:K("text-2xl font-mono font-bold",n),children:[parseFloat(t).toLocaleString()," ISK"]})]}),i_=e=>{const t=e.ref_type,n=(e.reason||"").toLowerCase();return["contract_brokers_fee","brokers_fee","transaction_tax","tax"].includes(t)||n.includes("broker")?"tax":e.amount>0&&(n.includes("srp")||Math.abs(e.amount%2e7)<.1)?"srp_in":e.amount<0&&n.includes("srp")?"srp_out":e.amount<0&&n.includes("giveaway")?"giveaway":""},a_=({tx:e,onUpdateCategory:t,divisionMap:n})=>{const s=[{id:"",label:"Select...",class:"bg-slate-800 border-slate-700 text-slate-400"},{id:"srp_in",label:"SRP In",class:"bg-green-600 border-green-500 text-white"},{id:"srp_out",label:"SRP Out",class:"bg-red-600 border-red-500 text-white"},{id:"internal_transfer",label:"Internal Transfer",class:"bg-purple-600 border-purple-500 text-white"},{id:"giveaway",label:"Giveaway",class:"bg-orange-600 border-orange-500 text-white"},{id:"manual_change",label:"Manual Change",class:"bg-blue-600 border-blue-500 text-white"},{id:"manual_out",label:"Manual Out",class:"bg-blue-600 border-blue-500 text-white"},{id:"tax",label:"Tax",class:"bg-slate-600 border-slate-500 text-white"},{id:"other",label:"Other",class:"bg-slate-600 border-slate-500 text-white"}],r=e.custom_category||i_(e),i=s.find(l=>l.id===r)||s.find(l=>l.id==="other");return e.first_party_name||`${e.entry_id.toString().substring(0,5)}`,e.second_party_name,a.jsxs("tr",{className:"hover:bg-white/5 transition group",children:[a.jsxs("td",{className:"px-2 py-1 font-mono text-[10px] whitespace-nowrap text-slate-500 group-hover:text-slate-300",children:[new Date(e.date).toLocaleDateString()," ",a.jsx("span",{className:"opacity-50",children:new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("td",{className:"px-2 py-1 text-center",title:n[e.division],children:a.jsx("span",{className:"bg-white/5 px-1.5 py-0.5 rounded text-[10px] border border-white/5",children:e.division})}),a.jsx("td",{className:K("px-2 py-1 text-right font-mono font-bold text-xs whitespace-nowrap",e.amount>0?"text-green-400":"text-red-400"),children:parseFloat(e.amount).toLocaleString()}),a.jsx("td",{className:"px-2 py-1 truncate max-w-[120px] text-slate-300",title:e.first_party_name,children:e.first_party_name||a.jsx("span",{className:"opacity-50 italic",children:"Unknown"})}),a.jsx("td",{className:"px-2 py-1 truncate max-w-[120px] text-slate-300",title:e.second_party_name,children:e.second_party_name||a.jsx("span",{className:"opacity-50 italic",children:"Unknown"})}),a.jsx("td",{className:"px-2 py-1 whitespace-nowrap",children:a.jsx("span",{className:"badge badge-slate text-[9px] text-slate-500",children:e.ref_type.replace(/_/g," ")})}),a.jsx("td",{className:"px-2 py-1",children:a.jsx("select",{value:e.custom_category||"",onChange:l=>t(e.entry_id,l.target.value),className:K("w-full rounded px-1 py-0.5 text-[10px] font-bold border outline-none appearance-none cursor-pointer transition-colors duration-300 focus:ring-1 focus:ring-white/50",i.class),children:s.map(l=>a.jsx("option",{value:l.id,className:"bg-slate-900 text-white",children:l.label},l.id))})}),a.jsx("td",{className:"px-2 py-1 truncate max-w-[200px] italic text-slate-500 text-[10px]",title:e.reason,children:e.reason})]})},l_=({data:e})=>{const t=Object.keys(e.monthly).sort(),n={labels:t,datasets:[{label:"In",data:t.map(g=>e.monthly[g].in),backgroundColor:"#4ade80"},{label:"Out",data:t.map(g=>e.monthly[g].out),backgroundColor:"#f87171"}]},s=Object.keys(e.categories.in),r=Object.keys(e.categories.out),i=Array.from(new Set([...s,...r])).sort(),l=g=>{const v=g.toLowerCase().replace(/_/g," ");return v.includes("srp in")?"#16a34a":v.includes("srp out")?"#dc2626":v.includes("internal")?"#9333ea":v.includes("giveaway")?"#ea580c":v.includes("manual")?"#2563eb":v.includes("tax")?"#475569":"#94a3b8"},o={labels:i.map(g=>g.replace(/_/g," ")),datasets:[{data:i.map(g=>(e.categories.in[g]||0)+Math.abs(e.categories.out[g]||0)),backgroundColor:i.map(g=>l(g)),borderWidth:0}]},c=Object.entries(e.top_payers).sort((g,v)=>v[1].total-g[1].total).slice(0,5),d=c.map(g=>g[0]),u={labels:d,datasets:[{label:"Count",data:c.map(g=>g[1].count),backgroundColor:"#38bdf8"}]},h={labels:d,datasets:[{label:"Total ISK",data:c.map(g=>g[1].total),backgroundColor:"#facc15"}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#94a3b8",font:{size:10}}}},scales:{x:{ticks:{color:"#94a3b8",font:{size:10}},grid:{color:"rgba(255,255,255,0.05)"}},y:{ticks:{color:"#94a3b8",font:{size:10}},grid:{color:"rgba(255,255,255,0.05)"}}}},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#94a3b8",font:{size:10}}}}};return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"glass-panel p-4 flex flex-col h-80",children:[a.jsx("h3",{className:"label-text mb-2",children:"Monthly Cashflow"}),a.jsx("div",{className:"flex-grow relative min-h-0",children:a.jsx(Xl,{data:n,options:f})})]}),a.jsxs("div",{className:"glass-panel p-4 flex flex-col h-80",children:[a.jsx("h3",{className:"label-text mb-2",children:"Category Breakdown (Volume)"}),a.jsx("div",{className:"flex-grow relative min-h-0",children:a.jsx(s_,{data:o,options:p})})]}),a.jsxs("div",{className:"glass-panel p-4 flex flex-col h-80",children:[a.jsx("h3",{className:"label-text mb-2",children:"Top Payers (Count)"}),a.jsx("div",{className:"flex-grow relative min-h-0",children:a.jsx(Xl,{data:u,options:{...f,indexAxis:"y"}})})]}),a.jsxs("div",{className:"glass-panel p-4 flex flex-col h-80",children:[a.jsx("h3",{className:"label-text mb-2",children:"Top Payers (ISK)"}),a.jsx("div",{className:"flex-grow relative min-h-0",children:a.jsx(Xl,{data:h,options:{...f,indexAxis:"y"}})})]})]})},o_=()=>{const[e,t]=j.useState(null),[n,s]=j.useState([]),[r,i]=j.useState(!1),[l,o]=j.useState(null);j.useEffect(()=>{c()},[]);const c=()=>{o(null),fetch("/api/management/srp/config/").then(h=>{if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);return h.json()}).then(h=>{t(h.config),s(h.user_chars)}).catch(h=>{console.error("Failed to fetch SRP config",h),o("Failed to load SRP Configuration. Please ensure you have the 'Manage SRP Source' capability.")})},d=h=>{var p;if(!confirm("Set this character as the global SRP source? This will effect all wallet data."))return;const f=(p=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:p[1];fetch("/api/mgmt/srp/set_source/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f},body:JSON.stringify({character_id:h})}).then(g=>g.json()).then(g=>{g.success?c():alert("Error: "+g.error)})},u=()=>{var f;i(!0);const h=(f=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:f[1];fetch("/api/mgmt/srp/sync/",{method:"POST",headers:{"X-CSRFToken":h}}).then(p=>p.json()).then(p=>{alert(p.message),i(!1),c()})};return l?a.jsxs("div",{className:"glass-panel p-6 border-red-500/20 text-center",children:[a.jsx(td,{className:"mx-auto text-red-500 mb-2",size:32}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Configuration Error"}),a.jsx("p",{className:"text-slate-400",children:l}),a.jsx("button",{onClick:c,className:"btn-secondary mt-4",children:"Retry"})]}):a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"border-b border-white/5 pb-6",children:[a.jsx("h1",{className:"heading-1",children:"SRP Configuration"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Designate the character used to pull Corporation Wallet data."})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"label-text mb-0",children:"Current Source"}),e!=null&&e.character_id?a.jsx("span",{className:"badge badge-green",children:"Active"}):a.jsx("span",{className:"badge badge-red",children:"Not Configured"})]}),e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${e.character_id}/portrait?size=128`,className:"w-16 h-16 rounded-lg border-2 border-brand-500 shadow-[0_0_15px_rgba(245,158,11,0.3)]",alt:""}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:e.character_name}),a.jsxs("p",{className:"text-slate-400 text-xs",children:["Last Sync: ",e.last_sync?new Date(e.last_sync).toLocaleString():"Never"]}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Corp ID: ",e.corporation_id]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:u,disabled:r,className:"btn-primary text-xs py-2 px-4 shadow-brand-500/20",children:r?"Syncing...":" Force Sync Now"}),a.jsxs("a",{href:"/auth/srp/",className:"btn-secondary text-xs py-2 px-4 border-amber-500/30 text-amber-400 hover:bg-amber-500/10",children:[a.jsx(Rm,{size:14})," Update Token (Re-Auth)"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-slate-500 italic mb-4",children:"No character selected."}),a.jsx("div",{children:a.jsxs("a",{href:"/auth/srp/",className:"btn-primary text-xs py-2 px-6 inline-flex gap-2",children:[a.jsx(Lm,{size:14})," Log In New Character with Wallet Scopes"]})})]})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("h3",{className:"label-text mb-4",children:"Change Source Character"}),a.jsxs("p",{className:"text-xs text-slate-400 mb-4 bg-blue-900/20 p-3 rounded border border-blue-500/30",children:[" The selected character MUST have the ",a.jsx("strong",{children:"Accountant"})," or ",a.jsx("strong",{children:"Junior Accountant"})," role in-game, and must have logged in via the 'Update Token' button above to grant the ",a.jsx("code",{children:"esi-wallet.read_corporation_wallets.v1"})," scope."]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.map(h=>a.jsxs("div",{onClick:()=>d(h.character_id),className:"cursor-pointer bg-white/5 border border-white/5 hover:border-brand-500 hover:bg-white/10 p-3 rounded-lg flex items-center gap-3 transition group",children:[a.jsx("img",{src:`https://images.evetech.net/characters/${h.character_id}/portrait?size=64`,className:"w-10 h-10 rounded border border-slate-600 group-hover:border-white",alt:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-slate-300 group-hover:text-white",children:h.character_name}),a.jsx("div",{className:"text-[10px] text-slate-500",children:h.corporation_name})]})]},h.character_id)),n.length===0&&a.jsx("div",{className:"text-slate-500 text-sm italic col-span-full",children:"No characters available. Link more alts via your Profile."})]})]})]})},c_=()=>{const[e,t]=j.useState([]),[n,s]=j.useState([]),[r,i]=j.useState([]),[l,o]=j.useState("create"),[c,d]=j.useState({fit_id:"",category_id:"",eft_paste:"",description:"",tags:[]}),[u,h]=j.useState(!1),[f,p]=j.useState(!1),[g,v]=j.useState(""),[b,x]=j.useState("");j.useEffect(()=>{m()},[]);const m=()=>{fetch("/api/management/doctrines/data/").then(R=>R.json()).then(R=>{t(R.categories||[]),s(R.tags||[]),i(R.fits||[]),R.categories.length>0&&!c.category_id&&d(H=>({...H,category_id:R.categories[0].id}))})},y=R=>{const H=c.tags.includes(R)?c.tags.filter(W=>W!==R):[...c.tags,R];d({...c,tags:H})},w=R=>{o("update"),d({fit_id:R.id,category_id:R.category_id,eft_paste:R.eft_format,description:R.description,tags:R.tag_ids}),window.scrollTo({top:0,behavior:"smooth"})},_=()=>{var R;o("create"),d({fit_id:"",category_id:((R=e[0])==null?void 0:R.id)||"",eft_paste:"",description:"",tags:[]})},S=R=>{var W;R.preventDefault();const H=(W=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:W[1];fetch("/api/management/doctrines/save/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":H},body:JSON.stringify({action:l,...c})}).then(Y=>Y.json()).then(Y=>{Y.success?(_(),m()):alert(Y.error)})},C=R=>{var W;if(!confirm("Are you sure?"))return;const H=(W=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:W[1];fetch("/api/management/doctrines/save/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":H},body:JSON.stringify({action:"delete",fit_id:R})}).then(Y=>Y.json()).then(Y=>{Y.success?m():alert(Y.error)})},E=()=>{fetch("/api/management/doctrines/export/").then(R=>R.json()).then(R=>{R.success?(v(R.export_string),h(!0)):alert(R.error)})},A=()=>{var H;if(!b.trim())return alert("Paste string first");if(!confirm("Overwrite all data?"))return;const R=(H=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:H[1];fetch("/api/management/doctrines/import/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":R},body:JSON.stringify({import_string:b})}).then(W=>W.json()).then(W=>{W.success?(alert(W.message),p(!1),m()):alert(W.error)})},z=(R,H=0)=>R.map(W=>a.jsxs(ac.Fragment,{children:[a.jsxs("option",{value:W.id,className:H===0?"font-bold bg-slate-900":"bg-slate-800",children:["-".repeat(H*2)," ",W.name]}),W.subcategories&&z(W.subcategories,H+1)]},W.id));return a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:[a.jsx("h1",{className:"heading-1",children:"Doctrine Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:E,className:"btn-secondary text-xs border-brand-500/30 text-brand-400 hover:bg-brand-500/10 flex items-center gap-2",children:[a.jsx(Am,{size:14})," Export Doctrines"]}),a.jsxs("button",{onClick:()=>p(!0),className:"btn-secondary text-xs hover:text-white flex items-center gap-2",children:[a.jsx(Tm,{size:14})," Import"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[a.jsxs("div",{className:"glass-panel p-6 h-fit sticky top-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:`text-lg font-bold tracking-wide ${l==="update"?"text-blue-500":"text-brand-500"}`,children:l==="update"?"Edit Fit":"Import Fit"}),l==="update"&&a.jsx("button",{onClick:_,className:"text-xs text-red-400 hover:text-white underline decoration-red-500/30 hover:decoration-white transition",children:"Cancel Edit"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Category"}),a.jsx("select",{value:c.category_id,onChange:R=>d({...c,category_id:R.target.value}),className:"select-field",children:z(e)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"EFT Block"}),a.jsx("textarea",{value:c.eft_paste,onChange:R=>d({...c,eft_paste:R.target.value}),rows:"8",className:"input-field font-mono text-xs",placeholder:"[Hull Name, Fit Name]..."}),a.jsx("p",{className:"text-[10px] text-slate-500 mt-1 pl-1",children:"Accepts EFT/Pyfa formats."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Tags / Labels"}),a.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-lg border border-white/5 bg-black/20",children:n.map(R=>a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:c.tags.includes(R.id),onChange:()=>y(R.id)}),a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold border border-slate-700 bg-slate-800 text-slate-400 peer-checked:border-brand-500 peer-checked:text-brand-400 peer-checked:bg-brand-900/20 transition select-none block hover:border-slate-500",children:R.name})]},R.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Internal Notes"}),a.jsx("input",{type:"text",value:c.description,onChange:R=>d({...c,description:R.target.value}),className:"input-field"})]}),a.jsx("button",{type:"submit",className:`w-full shadow-lg transition btn ${l==="update"?"bg-blue-600 hover:bg-blue-500 text-white shadow-blue-500/20":"btn-primary shadow-brand-500/20"}`,children:l==="update"?"Update Fit":"Parse & Save"})]})]}),a.jsxs("div",{className:"lg:col-span-2 glass-panel overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-white/5 border-b border-white/5",children:a.jsx("h3",{className:"font-bold text-slate-200",children:"Existing Fits"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left text-slate-400",children:[a.jsx("thead",{className:"text-xs uppercase bg-white/5 text-slate-300 font-bold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Hull"}),a.jsx("th",{className:"px-6 py-3",children:"Fit Name"}),a.jsx("th",{className:"px-6 py-3",children:"Category"}),a.jsx("th",{className:"px-6 py-3",children:"Tags"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[r.map(R=>a.jsxs("tr",{className:"hover:bg-white/5 transition group",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-white",children:R.ship_name}),a.jsx("td",{className:"px-6 py-4",children:R.name}),a.jsx("td",{className:"px-6 py-4 opacity-50 text-xs",children:R.category_path}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:R.tags.map(H=>a.jsx("span",{className:"badge badge-slate text-[10px]",children:H},H))})}),a.jsxs("td",{className:"px-6 py-4 text-right flex justify-end items-center gap-2",children:[a.jsxs("button",{onClick:()=>w(R),className:"btn-secondary py-1 px-2 text-[10px] border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:[a.jsx(ed,{size:12})," EDIT"]}),a.jsxs("button",{onClick:()=>C(R.id),className:"btn-danger py-1 px-2 text-[10px]",children:[a.jsx(Gr,{size:12})," DEL"]})]})]},R.id)),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-8 text-center italic text-slate-500",children:"No fits found."})})]})]})})]})]}),u&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-dark-950/80 backdrop-blur-sm px-4",children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-fade-in",children:[a.jsxs("div",{className:"glass-header px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-white text-lg",children:"Export Doctrines"}),a.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-white",children:a.jsx(wt,{size:16})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Copy this string to import into another instance."}),a.jsx("textarea",{readOnly:!0,value:g,className:"w-full bg-black/30 border border-slate-700 rounded p-3 text-xs font-mono text-brand-400 h-32 focus:ring-1 focus:ring-brand-500 outline-none resize-none"}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"btn-ghost text-xs",children:"Close"}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(g),className:"btn-primary text-xs px-6",children:"Copy to Clipboard"})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-dark-950/80 backdrop-blur-sm px-4",children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-fade-in",children:[a.jsxs("div",{className:"glass-header px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-white text-lg",children:"Import Doctrines"}),a.jsx("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-white",children:a.jsx(wt,{size:16})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"bg-amber-900/20 border border-amber-500/30 p-3 rounded text-amber-200 text-xs mb-4 flex items-start gap-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("p",{children:[a.jsx("strong",{children:"Warning:"})," Importing will ",a.jsx("u",{className:"font-bold text-white",children:"WIPE"})," all existing data."]})]}),a.jsx("textarea",{value:b,onChange:R=>x(R.target.value),className:"w-full bg-black/30 border border-slate-700 rounded p-3 text-xs font-mono text-white h-32 focus:ring-1 focus:ring-brand-500 outline-none resize-none",placeholder:"Paste export string here..."}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>p(!1),className:"btn-ghost text-xs",children:"Cancel"}),a.jsx("button",{onClick:A,className:"btn-primary text-xs px-6",children:"Import & Overwrite"})]})]})]})})]})},d_=()=>{const[e,t]=j.useState("assignments"),[n,s]=j.useState([]),[r,i]=j.useState([]),[l,o]=j.useState([]),[c,d]=j.useState([]),[u,h]=j.useState([]),[f,p]=j.useState(null),[g,v]=j.useState([]),[b,x]=j.useState("fit"),[m,y]=j.useState(""),[w,_]=j.useState("skill"),[S,C]=j.useState(""),[E,A]=j.useState(5),[z,R]=j.useState(""),[H,W]=j.useState(""),[Y,F]=j.useState(""),[O,M]=j.useState({name:"",order:0,badge_class:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50",hex_color:"#EAB308"}),[N,k]=j.useState(""),[T,D]=j.useState(5);j.useEffect(()=>{B();const L=window.location.hash.replace("#","");["assignments","groups","tiers"].includes(L)&&t(L)},[]);const B=()=>{fetch("/api/management/skills/data/").then(L=>L.json()).then(L=>{s(L.fits||[]),i(L.tiers||[]),o(L.groups||[]),d(L.requirements||[]),L.groups.length>0})},G=L=>{if(F(L),L.length<3){h([]);return}fetch(`/api/search_hull/?q=${encodeURIComponent(L)}`).then(le=>le.json()).then(le=>h(le.results||[]))},P=()=>{var se;const L={target_type:b,target_id:m,req_type:w,tier_id:H,...w==="skill"?{skill_name:S,level:E}:{group_id:z}},le=(se=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:se[1];fetch("/api/skill_req/add/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":le},body:JSON.stringify(L)}).then(be=>be.json()).then(be=>{be.success?(B(),C("")):alert(be.error)})},U=L=>{var se;if(!confirm("Delete rule?"))return;const le=(se=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:se[1];fetch("/api/skill_req/delete/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":le},body:JSON.stringify({req_id:L})}).then(be=>be.json()).then(be=>{be.success&&B()})},ee=()=>{var se;const L=prompt("Enter Group Name:");if(!L)return;const le=(se=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:se[1];fetch("/api/skill_group/manage/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":le},body:JSON.stringify({action:"create",name:L})}).then(be=>be.json()).then(be=>{be.success?B():alert(be.error)})},Ce=()=>{var le;if(!confirm("Delete group?"))return;const L=(le=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:le[1];fetch("/api/skill_group/manage/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":L},body:JSON.stringify({action:"delete",group_id:f.id})}).then(se=>se.json()).then(se=>{se.success&&(p(null),B())})},nl=L=>{p(L),v(L.members||[]),fetch(`/api/skill_group/${L.id}/members/`).then(le=>le.json()).then(le=>v(le.members||[]))},Mx=()=>{var le;if(!N)return;const L=(le=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:le[1];fetch("/api/skill_group/member/add/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":L},body:JSON.stringify({group_id:f.id,skill_name:N,level:T})}).then(se=>se.json()).then(se=>{se.success?(k(""),nl(f),B()):alert(se.error)})},Ex=L=>{var se;const le=(se=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:se[1];fetch("/api/skill_group/member/remove/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":le},body:JSON.stringify({member_id:L})}).then(be=>be.json()).then(be=>{be.success&&nl(f)})},Px=()=>{var le;const L=(le=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:le[1];fetch("/api/skill_tier/manage/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":L},body:JSON.stringify({action:"create",...O})}).then(se=>se.json()).then(se=>{se.success?(M({name:"",order:0,badge_class:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50",hex_color:"#EAB308"}),B()):alert(se.error)})},Tx=L=>{var se;if(!confirm("Delete tier?"))return;const le=(se=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:se[1];fetch("/api/skill_tier/manage/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":le},body:JSON.stringify({action:"delete",tier_id:L})}).then(be=>be.json()).then(be=>{be.success&&B()})};return a.jsxs("div",{className:"flex flex-col gap-6 h-full pb-20",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6 shrink-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"heading-1",children:"Skill Management"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Configure mandatory skills, tiers, and reusable groups."})]}),a.jsx("div",{className:"flex bg-black/40 p-1 rounded-lg border border-white/10",children:["assignments","groups","tiers"].map(L=>a.jsx("button",{onClick:()=>t(L),className:K("px-4 py-1.5 rounded-md text-xs font-bold transition capitalize",e===L?"bg-slate-700 text-white shadow-sm":"text-slate-400 hover:text-white"),children:L},L))})]}),e==="assignments"&&a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("h3",{className:"label-text mb-4",children:"Assign Requirement"}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"md:w-1/4 w-full",children:[a.jsx("label",{className:"label-text",children:"Target Type"}),a.jsxs("select",{value:b,onChange:L=>x(L.target.value),className:"select-field",children:[a.jsx("option",{value:"fit",children:"Specific Doctrine Fit"}),a.jsx("option",{value:"hull",children:"Hull (Any Fit)"})]})]}),a.jsxs("div",{className:"flex-grow w-full relative",children:[a.jsx("label",{className:"label-text",children:"Target"}),b==="fit"?a.jsxs("select",{value:m,onChange:L=>y(L.target.value),className:"select-field",children:[a.jsx("option",{value:"",children:"Select Fit..."}),n.map(L=>a.jsxs("option",{value:L.id,children:[L.ship_name," - ",L.name]},L.id))]}):a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"text",value:Y,onChange:L=>G(L.target.value),className:"input-field",placeholder:"e.g. Guardian..."}),u.length>0&&a.jsx("div",{className:"absolute top-full left-0 w-full bg-slate-800 border border-slate-700 z-50 rounded-b-lg max-h-48 overflow-y-auto",children:u.map(L=>a.jsx("div",{className:"p-2 hover:bg-slate-700 cursor-pointer text-xs text-white",onClick:()=>{y(L.id),F(L.name),h([])},children:L.name},L.id))})]})]}),a.jsxs("div",{className:"md:w-1/4 w-full",children:[a.jsx("label",{className:"label-text",children:"Tier"}),a.jsxs("select",{value:H,onChange:L=>W(L.target.value),className:"select-field",children:[a.jsx("option",{value:"",children:"Minimum (Mandatory)"}),r.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end border-t border-white/5 pt-4",children:[a.jsxs("div",{className:"md:w-1/4 w-full",children:[a.jsx("label",{className:"label-text",children:"Requirement Type"}),a.jsxs("select",{value:w,onChange:L=>_(L.target.value),className:"select-field",children:[a.jsx("option",{value:"skill",children:"Single Skill"}),a.jsx("option",{value:"group",children:"Skill Group"})]})]}),w==="skill"?a.jsxs("div",{className:"flex-grow w-full flex gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("label",{className:"label-text",children:"Skill Name"}),a.jsx("input",{type:"text",value:S,onChange:L=>C(L.target.value),className:"input-field",placeholder:"e.g. Logistics"})]}),a.jsxs("div",{className:"w-24",children:[a.jsx("label",{className:"label-text",children:"Level"}),a.jsx("select",{value:E,onChange:L=>A(L.target.value),className:"select-field",children:[1,2,3,4,5].map(L=>a.jsx("option",{value:L,children:L},L))})]})]}):a.jsxs("div",{className:"flex-grow w-full",children:[a.jsx("label",{className:"label-text",children:"Select Group"}),a.jsxs("select",{value:z,onChange:L=>R(L.target.value),className:"select-field",children:[a.jsx("option",{value:"",children:"Select Group..."}),l.map(L=>a.jsxs("option",{value:L.id,children:[L.name," (",L.count," skills)"]},L.id))]})]}),a.jsx("button",{onClick:P,className:"btn-primary whitespace-nowrap",children:"Add Rule"})]})]})]}),a.jsx("div",{className:"glass-panel overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left text-slate-400",children:[a.jsx("thead",{className:"text-xs uppercase bg-white/5 text-slate-300 font-bold border-b border-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Target"}),a.jsx("th",{className:"px-6 py-4",children:"Tier"}),a.jsx("th",{className:"px-6 py-4",children:"Type"}),a.jsx("th",{className:"px-6 py-4",children:"Required Skill / Group"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Level"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[c.map(L=>a.jsxs("tr",{className:"hover:bg-white/5 transition group",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-white",children:L.fit_name?`${L.ship_name} - ${L.fit_name}`:L.ship_name}),a.jsx("td",{className:"px-6 py-4",children:L.tier?a.jsx("span",{className:"badge",style:{backgroundColor:`${L.tier.hex}20`,color:L.tier.hex,borderColor:`${L.tier.hex}50`},children:L.tier.name}):a.jsx("span",{className:"badge badge-red",children:"MINIMUM"})}),a.jsx("td",{className:"px-6 py-4",children:L.fit_name?a.jsx("span",{className:"badge badge-brand",children:"FIT"}):a.jsx("span",{className:"badge badge-slate",children:"HULL"})}),a.jsx("td",{className:"px-6 py-4 text-slate-300",children:L.group_name?a.jsxs("span",{className:"text-blue-400 font-bold flex items-center gap-2",children:[a.jsx("span",{children:""})," ",L.group_name]}):L.skill_name}),a.jsx("td",{className:"px-6 py-4 text-center font-mono font-bold text-white",children:L.group_name?"-":L.level}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>U(L.id),className:"text-slate-500 hover:text-red-400 transition",children:""})})]},L.id)),c.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center italic",children:"No explicit rules defined."})})]})]})})]}),e==="groups"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-start",children:[a.jsxs("div",{className:"glass-panel p-4 flex flex-col gap-4 max-h-[600px] overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/5",children:[a.jsx("h3",{className:"label-text mb-0",children:"Skill Groups"}),a.jsx("button",{onClick:ee,className:"btn-secondary text-[10px] py-1 px-2",children:"+ New"})]}),a.jsx("div",{className:"overflow-y-auto custom-scrollbar space-y-2 pr-1",children:l.map(L=>a.jsxs("div",{className:K("p-3 rounded border cursor-pointer group transition flex justify-between items-center",(f==null?void 0:f.id)===L.id?"bg-brand-900/20 border-brand-500/50":"bg-white/5 border-white/5 hover:border-brand-500"),onClick:()=>nl(L),children:[a.jsx("span",{className:"font-bold text-slate-200 group-hover:text-white",children:L.name}),a.jsx("span",{className:"badge badge-slate text-[10px]",children:L.count})]},L.id))})]}),a.jsx("div",{className:K("md:col-span-2 glass-panel p-6 flex flex-col h-full",!f&&"hidden"),children:f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-white/5 pb-4",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-white",children:f.name})}),a.jsx("button",{onClick:Ce,className:"btn-danger text-xs py-1.5 px-3",children:"Delete Group"})]}),a.jsxs("div",{className:"flex gap-2 items-end mb-6",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("label",{className:"label-text",children:"Add Skill to Group"}),a.jsx("input",{type:"text",value:N,onChange:L=>k(L.target.value),className:"input-field",placeholder:"e.g. Armor Layering"})]}),a.jsxs("div",{className:"w-24",children:[a.jsx("label",{className:"label-text",children:"Level"}),a.jsx("select",{value:T,onChange:L=>D(L.target.value),className:"select-field",children:[1,2,3,4,5].map(L=>a.jsx("option",{value:L,children:L},L))})]}),a.jsx("button",{onClick:Mx,className:"btn-primary",children:"Add"})]}),a.jsxs("div",{className:"space-y-1 overflow-y-auto custom-scrollbar flex-grow bg-black/20 p-2 rounded border border-white/5 h-64",children:[g.map(L=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-white/5 rounded border border-transparent hover:border-white/10 group",children:[a.jsx("span",{className:"text-slate-300 text-xs font-bold",children:L.name}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-mono text-white text-xs",children:["Lvl ",L.level]}),a.jsx("button",{onClick:()=>Ex(L.id),className:"text-slate-500 hover:text-red-400 px-2 transition",children:a.jsx(wt,{size:14})})]})]},L.id)),g.length===0&&a.jsx("div",{className:"text-slate-500 text-xs text-center py-4",children:"No skills in this group yet."})]})]})})]}),e==="tiers"&&a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("h3",{className:"label-text mb-4",children:"Create Tier"}),a.jsxs("div",{className:"flex items-end gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("label",{className:"label-text",children:"Tier Name"}),a.jsx("input",{type:"text",value:O.name,onChange:L=>M({...O,name:L.target.value}),className:"input-field",placeholder:"e.g. Elite"})]}),a.jsxs("div",{className:"w-24",children:[a.jsx("label",{className:"label-text",children:"Order"}),a.jsx("input",{type:"number",value:O.order,onChange:L=>M({...O,order:L.target.value}),className:"input-field"})]}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("label",{className:"label-text",children:"Badge Classes"}),a.jsx("input",{type:"text",value:O.badge_class,onChange:L=>M({...O,badge_class:L.target.value}),className:"input-field"})]}),a.jsxs("div",{className:"w-32",children:[a.jsx("label",{className:"label-text",children:"Hex"}),a.jsx("input",{type:"color",value:O.hex_color,onChange:L=>M({...O,hex_color:L.target.value}),className:"input-field h-10 p-1"})]}),a.jsx("button",{onClick:Px,className:"btn-primary",children:"Create"})]})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("h3",{className:"label-text mb-4",children:"Active Tiers"}),a.jsxs("div",{className:"space-y-2",children:[r.map(L=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-mono text-slate-500 font-bold",children:["#",L.order]}),a.jsx("span",{className:`px-3 py-1 rounded text-xs font-bold uppercase border ${L.badge_class}`,style:{boxShadow:`0 0 10px ${L.hex_color}40`,borderColor:`${L.hex_color}50`},children:L.name})]}),a.jsx("button",{onClick:()=>Tx(L.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]},L.id)),r.length===0&&a.jsx("div",{className:"text-slate-500 italic",children:"No tiers defined."})]})]})]})]})},u_=()=>{const[e,t]=j.useState("search"),[n,s]=j.useState(""),[r,i]=j.useState([]),[l,o]=j.useState(""),[c,d]=j.useState([]),[u,h]=j.useState({page:1,total_pages:1,has_next:!1,has_previous:!1}),[f,p]=j.useState(null),[g,v]=j.useState([]),[b,x]=j.useState(!1),[m,y]=j.useState(!1),[w,_]=j.useState(!1),[S,C]=j.useState(""),[E,A]=j.useState(""),z=j.useRef(null);j.useEffect(()=>{if(n.length===0){i([]);return}z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{fetch(`/api/management/rules/search_groups/?q=${encodeURIComponent(n)}`).then(k=>k.json()).then(k=>i(k.results||[]))},300)},[n]),j.useEffect(()=>{e==="saved"&&R(1)},[e,l]);const R=k=>{fetch(`/api/management/rules/list/?page=${k}&q=${encodeURIComponent(l)}`).then(T=>T.json()).then(T=>{d(T.results||[]),h({page:T.current_page,total_pages:T.total_pages,has_next:T.has_next,has_previous:T.has_previous})})},H=(k,T)=>{p({id:k,name:T}),x(!0),i([]),s(""),fetch(`/api/management/rules/discovery/${k}/`).then(D=>D.json()).then(D=>{v(D.rules||[]),x(!1)})},W=(k,T,D)=>{v(B=>B.map(G=>G.attr_id===k?{...G,[T]:D}:G))},Y=k=>{v(T=>T.map(D=>D.attr_id===k?{...D,is_active:!D.is_active}:D))},F=()=>{var D;if(!f)return;const k=g.filter(B=>B.is_active).map(B=>({attr_id:B.attr_id,logic:B.logic,tolerance:parseFloat(B.tolerance)||0})),T=(D=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:D[1];fetch("/api/management/rules/save/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":T},body:JSON.stringify({group_id:f.id,rules:k})}).then(B=>B.json()).then(B=>{B.success?alert("Saved!"):alert("Error: "+B.error)})},O=(k,T)=>{var B;if(!confirm(`Delete all rules for "${T}"?`))return;const D=(B=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:B[1];fetch("/api/management/rules/delete/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":D},body:JSON.stringify({group_id:k})}).then(G=>G.json()).then(G=>{G.success?(R(u.page),(f==null?void 0:f.id)===k&&(p(null),v([]))):alert("Error: "+G.error)})},M=()=>{fetch("/api/management/rules/export/").then(k=>k.json()).then(k=>{k.success?(C(k.export_string),y(!0)):alert(k.error)})},N=()=>{var T;if(!E)return alert("Paste string first");if(!confirm("Overwrite all rules?"))return;const k=(T=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:T[1];fetch("/api/management/rules/import/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":k},body:JSON.stringify({import_string:E})}).then(D=>D.json()).then(D=>{D.success?(alert(D.message),_(!1),e==="saved"&&R(1)):alert(D.error)})};return a.jsxs("div",{className:"flex flex-col h-full gap-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6 shrink-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"heading-1",children:"Doctrine Rule Helper"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Configure logic for comparing non-doctrine modules."})]}),a.jsxs("div",{className:"flex gap-3",children:[f&&a.jsxs("button",{onClick:F,className:"btn-success shadow-lg shadow-green-500/20 flex items-center gap-2",children:[a.jsx(Fr,{size:14})," Save Selected Rules"]}),a.jsx("div",{className:"h-8 w-px bg-white/10 mx-2"}),a.jsxs("button",{onClick:M,className:"btn-secondary text-xs border-brand-500/30 text-brand-400 hover:bg-brand-500/10 flex items-center gap-2",children:[a.jsx(Am,{size:14})," Export Rules"]}),a.jsxs("button",{onClick:()=>_(!0),className:"btn-secondary text-xs hover:text-white flex items-center gap-2",children:[a.jsx(Tm,{size:14})," Import"]})]})]}),a.jsxs("div",{className:"glass-panel p-4 shrink-0 flex flex-col md:flex-row gap-4 items-center relative z-20",children:[a.jsxs("div",{className:"flex bg-black/40 p-1 rounded-lg border border-white/10",children:[a.jsx("button",{onClick:()=>t("search"),className:K("px-4 py-1.5 rounded-md text-xs font-bold transition",e==="search"?"bg-slate-700 text-white shadow-sm":"text-slate-400 hover:text-white"),children:"Search Groups"}),a.jsx("button",{onClick:()=>t("saved"),className:K("px-4 py-1.5 rounded-md text-xs font-bold transition",e==="saved"?"bg-slate-700 text-white shadow-sm":"text-slate-400 hover:text-white"),children:"Saved Rules"})]}),e==="search"?a.jsxs("div",{className:"relative flex-grow w-full group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none group-focus-within:text-brand-500 transition",children:a.jsx(Yt,{className:"w-5 h-5 text-slate-500"})}),a.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search by Item Group (e.g. 'Shield Hardener')...",value:n,onChange:k=>s(k.target.value)}),r.length>0&&a.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-slate-900 border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden",children:r.map(k=>a.jsxs("div",{className:"p-3 hover:bg-brand-900/20 hover:text-brand-400 cursor-pointer border-b border-white/5 last:border-0 transition flex justify-between",onClick:()=>H(k.id,k.name),children:[a.jsx("span",{children:k.name})," ",a.jsx("span",{className:"text-slate-600 font-mono text-xs opacity-50",children:k.id})]},k.id))})]}):a.jsxs("div",{className:"w-full overflow-hidden flex flex-col gap-2",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx("input",{type:"text",className:"input-field pl-9 py-1.5 text-xs bg-black/20 border-white/10 focus:border-brand-500",placeholder:"Filter saved rules...",value:l,onChange:k=>o(k.target.value)}),a.jsx(Yt,{className:"absolute left-3 top-2 w-4 h-4 text-slate-500"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto custom-scrollbar p-1",children:c.map(k=>a.jsxs("div",{className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded hover:border-brand-500 hover:text-white text-slate-300 text-xs transition flex justify-between items-center gap-2 group min-w-[200px] flex-grow md:flex-grow-0",children:[a.jsxs("span",{className:"flex-grow cursor-pointer flex justify-between items-center gap-2",onClick:()=>H(k.id,k.name),children:[a.jsx("span",{className:"font-bold truncate",children:k.name}),a.jsx("span",{className:"bg-slate-900 text-slate-500 px-1.5 py-0.5 rounded text-[9px] group-hover:text-brand-400 transition font-mono",children:k.count})]}),a.jsx("button",{onClick:T=>{T.stopPropagation(),O(k.id,k.name)},className:"text-slate-600 hover:text-red-400 px-1 transition",children:a.jsx(wt,{size:14})})]},k.id))}),u.total_pages>1&&a.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-1.5 rounded border border-white/5 text-[10px]",children:[a.jsx("button",{disabled:!u.has_previous,onClick:()=>R(u.page-1),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 rounded text-slate-300 disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"text-slate-500 font-mono",children:["Page ",u.page," / ",u.total_pages]}),a.jsx("button",{disabled:!u.has_next,onClick:()=>R(u.page+1),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 rounded text-slate-300 disabled:opacity-50",children:"Next"})]})]})]}),f&&a.jsxs("div",{className:"flex-col flex-grow min-h-0 animate-fade-in relative z-0 flex",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:f.name}),a.jsxs("span",{className:"badge badge-brand",children:["ID: ",f.id]})]}),a.jsxs("div",{className:"glass-panel overflow-hidden flex flex-col flex-grow",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-white/5 border-b border-white/5 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[a.jsx("div",{className:"col-span-1 text-center",children:"Use?"}),a.jsx("div",{className:"col-span-3",children:"Attribute Name"}),a.jsx("div",{className:"col-span-3",children:"Logic"}),a.jsx("div",{className:"col-span-1 text-center",children:"Tolerance %"}),a.jsx("div",{className:"col-span-4",children:"Description"})]}),a.jsx("div",{className:"overflow-y-auto custom-scrollbar flex-grow p-2 space-y-1",children:b?a.jsx("div",{className:"p-12 text-center text-slate-500 animate-pulse",children:"Scanning database attributes..."}):g.length>0?g.map(k=>a.jsxs("div",{className:K("grid grid-cols-12 gap-4 p-3 rounded items-center transition group",k.is_active?"bg-white/5 border-l-2 border-brand-500":"opacity-60 hover:opacity-100 hover:bg-white/5 border-l-2 border-transparent"),children:[a.jsx("div",{className:"col-span-1 flex justify-center",children:a.jsx("input",{type:"checkbox",checked:k.is_active,onChange:()=>Y(k.attr_id),className:"w-5 h-5 rounded border-slate-600 bg-slate-800 text-brand-500 focus:ring-offset-0 focus:ring-0 cursor-pointer"})}),a.jsx("div",{className:"col-span-3 font-bold text-sm text-slate-200 truncate",title:k.name,children:k.name}),a.jsx("div",{className:"col-span-3",children:a.jsxs("select",{value:k.logic,onChange:T=>W(k.attr_id,"logic",T.target.value),className:"w-full bg-black/40 border border-slate-700 rounded px-2 py-1 text-xs text-white outline-none focus:border-brand-500",children:[a.jsx("option",{value:"higher",children:"Higher is Better"}),a.jsx("option",{value:"lower",children:"Lower is Better"}),a.jsx("option",{value:"match",children:"Must Match"})]})}),a.jsx("div",{className:"col-span-1",children:a.jsx("input",{type:"number",step:"0.1",min:"0",value:k.tolerance,onChange:T=>W(k.attr_id,"tolerance",T.target.value),className:"w-full bg-black/40 border border-slate-700 rounded px-2 py-1 text-xs text-center text-white outline-none focus:border-brand-500",placeholder:"0%"})}),a.jsx("div",{className:"col-span-4 text-xs text-slate-500 truncate",title:k.description,children:k.description||"No description available."})]},k.attr_id)):a.jsx("div",{className:"p-8 text-center text-slate-500",children:"No relevant attributes found for this group."})})]})]}),m&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-dark-950/80 backdrop-blur-sm px-4",children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-fade-in",children:[a.jsxs("div",{className:"glass-header px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-white text-lg",children:"Export Rules"}),a.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:a.jsx(wt,{size:16})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Copy the string below to import into another instance."}),a.jsx("textarea",{readOnly:!0,value:S,className:"w-full bg-black/30 border border-slate-700 rounded p-3 text-xs font-mono text-brand-400 h-32 focus:ring-1 focus:ring-brand-500 outline-none resize-none"}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>y(!1),className:"btn-ghost text-xs",children:"Close"}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(S),className:"btn-primary text-xs px-6",children:"Copy to Clipboard"})]})]})]})}),w&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-dark-950/80 backdrop-blur-sm px-4",children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-fade-in",children:[a.jsxs("div",{className:"glass-header px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-white text-lg",children:"Import Rules"}),a.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-white",children:a.jsx(wt,{size:16})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"bg-amber-900/20 border border-amber-500/30 p-3 rounded text-amber-200 text-xs mb-4 flex items-start gap-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("p",{children:[a.jsx("strong",{children:"Warning:"})," Importing rules will ",a.jsx("u",{children:"overwrite"})," all currently configured analysis rules."]})]}),a.jsx("textarea",{value:E,onChange:k=>A(k.target.value),className:"w-full bg-black/30 border border-slate-700 rounded p-3 text-xs font-mono text-white h-32 focus:ring-1 focus:ring-brand-500 outline-none resize-none",placeholder:"Paste export string here..."}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx("button",{onClick:()=>_(!1),className:"btn-ghost text-xs",children:"Cancel"}),a.jsx("button",{onClick:N,className:"btn-primary text-xs px-6",children:"Import & Overwrite"})]})]})]})})]})},h_=()=>{const[e,t]=j.useState(null);return j.useEffect(()=>{fetch("/api/management/sde/").then(n=>n.json()).then(t)},[]),e?a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"heading-1",children:"SDE Database"}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("div",{className:"label-text",children:"Items"}),a.jsx("div",{className:"text-3xl font-mono text-white",children:e.counts.items.toLocaleString()})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("div",{className:"label-text",children:"Groups"}),a.jsx("div",{className:"text-3xl font-mono text-white",children:e.counts.groups.toLocaleString()})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("div",{className:"label-text",children:"Attributes"}),a.jsx("div",{className:"text-3xl font-mono text-white",children:e.counts.attrs.toLocaleString()})]})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Top Item Groups"}),a.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:e.chart.data.map((n,s)=>a.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative",children:[a.jsx("div",{className:"bg-brand-600/50 hover:bg-brand-500 transition rounded-t w-full",style:{height:`${n/Math.max(...e.chart.data)*100}%`}}),a.jsx("div",{className:"absolute bottom-0 w-full text-[10px] text-slate-500 truncate text-center opacity-0 group-hover:opacity-100 transition",children:e.chart.labels[s]})]},s))})]})]}):a.jsx("div",{children:"Loading Database Stats..."})},f_=()=>{const[e,t]=j.useState(null),[n,s]=j.useState(!1),r=j.useRef(null),i=()=>{const l=window.location.protocol==="https:"?"wss://":"ws://",o=window.location.host,c=`${l}${o}/ws/system/monitor/`;r.current&&r.current.close(),r.current=new WebSocket(c),r.current.onopen=()=>{console.log("System Monitor: Connected"),s(!0)},r.current.onmessage=d=>{const u=JSON.parse(d.data);u.html&&t(u.html)},r.current.onclose=()=>{console.log("System Monitor: Disconnected"),s(!1),setTimeout(i,3e3)}};return j.useEffect(()=>(i(),()=>{r.current&&r.current.close()}),[]),e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"heading-1",children:"System Monitor"}),a.jsxs("span",{className:K("badge flex items-center gap-2 normal-case font-normal transition-all duration-300",n?"badge-green":"badge-red"),children:[a.jsx("span",{className:K("w-2 h-2 rounded-full animate-pulse",n?"bg-green-500":"bg-red-500")}),n?"Live Stream":"Connecting..."]})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"btn-secondary text-xs py-1.5 shadow-lg",children:[a.jsx(bs,{size:16})," Reload Page"]})]}),a.jsx("div",{dangerouslySetInnerHTML:{__html:e},className:"space-y-8"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"heading-1",children:"System Monitor"}),a.jsxs("span",{className:"badge badge-slate flex items-center gap-2 normal-case font-normal",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"})," Connecting..."]})]})}),a.jsx("div",{className:"p-12 text-center text-slate-500 italic",children:"Waiting for stream..."})]})},p_=()=>{const[e,t]=j.useState([]),[n,s]=j.useState([]),[r,i]=j.useState(!1),[l,o]=j.useState(!1),[c,d]=j.useState({action:"create",id:"",name:""});j.useEffect(()=>{u()},[]);const u=()=>{fetch("/api/management/permissions/").then(b=>b.json()).then(b=>{t(b.groups||[]),s(b.capabilities||[]),i(!1)})},h=(b,x)=>{var w;const m=(w=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:w[1],y=e.map(_=>{if(_.id===b){const S=_.capabilities.includes(x);return{..._,capabilities:S?_.capabilities.filter(C=>C!==x):[..._.capabilities,x]}}return _});t(y),fetch("/api/management/permissions/toggle/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":m},body:JSON.stringify({group_id:b,cap_id:x})}).then(_=>_.json()).then(_=>{_.success||(alert(_.error),u())})},f=(b,x)=>{const m=[...e];x==="up"&&b>0?[m[b-1],m[b]]=[m[b],m[b-1]]:x==="down"&&b<m.length-1&&([m[b+1],m[b]]=[m[b],m[b+1]]),t(m),i(!0)},p=()=>{var x;const b=(x=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:x[1];fetch("/api/management/roles/reorder/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":b},body:JSON.stringify({ordered_ids:e.map(m=>m.id)})}).then(m=>m.json()).then(m=>{m.success?i(!1):alert(m.error)})},g=()=>{var x;const b=(x=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:x[1];fetch("/api/management/groups/manage/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":b},body:JSON.stringify(c)}).then(m=>m.json()).then(m=>{m.success?(o(!1),u()):alert(m.error)})},v=(b,x)=>{var y;if(!confirm(`Delete group "${x}"?`))return;const m=(y=document.cookie.match(/csrftoken=([^;]+)/))==null?void 0:y[1];fetch("/api/management/groups/manage/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":m},body:JSON.stringify({action:"delete",id:b})}).then(w=>w.json()).then(w=>{w.success?u():alert(w.error)})};return a.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in pb-20",children:[a.jsxs("div",{className:"flex justify-between items-end border-b border-white/5 pb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"heading-1",children:"Access Control Matrix"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Manage groups and capabilities dynamically."})]}),a.jsxs("div",{className:"flex gap-2",children:[r&&a.jsxs("button",{onClick:p,className:"btn-success py-2 px-4 text-xs shadow-green-500/20 animate-pulse flex items-center gap-2",children:[a.jsx(Fr,{size:14})," Save Order"]}),a.jsxs("button",{onClick:()=>{d({action:"create",id:"",name:""}),o(!0)},className:"btn-primary py-2 px-4 text-xs shadow-brand-500/20 flex items-center gap-2",children:[a.jsx(Qa,{size:14})," Create Group"]})]})]}),a.jsx("div",{className:"glass-panel overflow-hidden flex flex-col",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar relative",children:a.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-900/90 text-xs uppercase tracking-wider text-slate-300",children:[a.jsx("th",{className:"p-4 sticky left-0 z-30 bg-slate-900/95 border-r border-b border-white/10 w-72 shadow-xl backdrop-blur-md",children:"Role / Group"}),n.map(b=>a.jsxs("th",{className:"p-2 text-center min-w-[60px] max-w-[100px] border-r border-b border-white/10 group relative hover:bg-white/5 transition align-bottom pb-4",children:[a.jsx("div",{className:"absolute inset-0 group-hover:bg-white/5 transition z-0"}),a.jsx("div",{className:"writing-mode-vertical transform rotate-180 text-[10px] font-bold tracking-widest text-slate-400 group-hover:text-white transition cursor-help h-48 flex items-center justify-start relative z-10",title:b.description,children:b.name})]},b.id))]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[e.map((b,x)=>a.jsxs("tr",{className:"hover:bg-white/5 transition group/row",children:[a.jsx("td",{className:"p-4 sticky left-0 z-20 bg-slate-900/95 border-r border-white/10 group-hover/row:bg-white/10 transition backdrop-blur-md shadow-xl",children:a.jsxs("div",{className:"flex justify-between items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-0.5 opacity-0 group-hover/row:opacity-100 transition",children:[a.jsx("button",{onClick:()=>f(x,"up"),className:"text-slate-600 hover:text-brand-400 leading-none",children:a.jsx(kv,{size:12})}),a.jsx("button",{onClick:()=>f(x,"down"),className:"text-slate-600 hover:text-brand-400 leading-none",children:a.jsx(Em,{size:12})})]}),a.jsx("span",{className:"font-bold text-white text-sm truncate",title:b.name,children:b.name})]}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover/row:opacity-100 transition shrink-0",children:[a.jsx("button",{onClick:()=>{d({action:"update",id:b.id,name:b.name}),o(!0)},className:"p-1 hover:bg-blue-500/20 rounded text-slate-500 hover:text-blue-400 transition",title:"Rename",children:a.jsx(ed,{size:12})}),b.name!=="Admin"&&a.jsx("button",{onClick:()=>v(b.id,b.name),className:"p-1 hover:bg-red-500/20 rounded text-slate-500 hover:text-red-400 transition",title:"Delete",children:a.jsx(Gr,{size:12})})]})]})}),n.map(m=>a.jsx("td",{className:"p-0 border-r border-white/5 last:border-r-0 relative cursor-pointer hover:bg-white/10 transition",onClick:()=>h(b.id,m.id),title:`${b.name} -> ${m.name}`,children:a.jsx("div",{className:"w-full h-full min-h-[48px] flex items-center justify-center",children:b.capabilities.includes(m.id)?a.jsx("div",{className:"w-3 h-3 rounded-sm bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)] transition-all duration-300 transform scale-100"}):a.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-800 transition-all duration-300 transform scale-100 opacity-50"})})},m.id))]},b.id)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"100%",className:"p-8 text-center text-slate-500 italic",children:"No groups found."})})]})]})})}),l&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-dark-950/80 backdrop-blur-sm px-4",children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-fade-in",children:[a.jsxs("div",{className:"glass-header px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-white text-lg",children:c.action==="create"?"Create New Group":"Rename Group"}),a.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-white",children:""})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label-text",children:"Group Name"}),a.jsx("input",{type:"text",className:"input-field",placeholder:"e.g. Logistics Commander",value:c.name,onChange:b=>d({...c,name:b.target.value})})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx("button",{onClick:()=>o(!1),className:"btn-ghost text-xs",children:"Cancel"}),a.jsx("button",{onClick:g,className:"btn-primary text-xs px-6",children:"Save"})]})]})]})}),a.jsx("style",{children:`
                .writing-mode-vertical {
                    writing-mode: vertical-rl;
                    text-orientation: mixed;
                }
            `})]})};function m_(){return a.jsx(gv,{children:a.jsx(dv,{children:a.jsx(Iv,{children:a.jsxs(tv,{children:[a.jsx(re,{path:"/",element:a.jsx(Bu,{})}),a.jsx(re,{path:"/landing/",element:a.jsx(Bu,{})}),a.jsx(re,{path:"/doctrines",element:a.jsx($v,{})}),a.jsx(re,{path:"/profile",element:a.jsx(Wv,{})}),a.jsx(re,{path:"/fleet/:token",element:a.jsx(Vv,{})}),a.jsx(re,{path:"/access_denied",element:a.jsx(Yv,{})}),a.jsx(re,{path:"/banned",element:a.jsx(Kv,{})}),a.jsxs(re,{path:"/management",element:a.jsx(qv,{}),children:[a.jsx(re,{index:!0,element:a.jsx(Gv,{})}),a.jsx(re,{path:"users",element:a.jsx(Qv,{})}),a.jsx(re,{path:"roles",element:a.jsx(Jv,{})}),a.jsx(re,{path:"fleets",element:a.jsx(Zv,{})}),a.jsx(re,{path:"fleets/setup",element:a.jsx(ly,{})}),a.jsx(re,{path:"fleets/:token/settings",element:a.jsx(oy,{})}),a.jsx(re,{path:"fleets/:token/history",element:a.jsx(cy,{})}),a.jsx(re,{path:"srp",element:a.jsx(r_,{})}),a.jsx(re,{path:"srp/config",element:a.jsx(o_,{})}),a.jsx(re,{path:"bans",element:a.jsx(dy,{})}),a.jsx(re,{path:"bans/audit",element:a.jsx(uy,{})}),a.jsx(re,{path:"doctrines",element:a.jsx(c_,{})}),a.jsx(re,{path:"skills",element:a.jsx(d_,{})}),a.jsx(re,{path:"rules",element:a.jsx(u_,{})}),a.jsx(re,{path:"sde",element:a.jsx(h_,{})}),a.jsx(re,{path:"celery",element:a.jsx(f_,{})}),a.jsx(re,{path:"permissions",element:a.jsx(p_,{})}),a.jsx(re,{path:"*",element:a.jsx("div",{className:"p-10 text-slate-500",children:"Page Not Found"})})]}),a.jsx(re,{path:"*",element:a.jsx("div",{className:"p-10 text-center text-slate-500",children:"Page Not Found"})})]})})})})}Kl.createRoot(document.getElementById("root")).render(a.jsx(ac.StrictMode,{children:a.jsx(m_,{})}));
