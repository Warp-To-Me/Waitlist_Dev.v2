{% extends 'management/base_management.html' %}

{% block management_content %}
<h1 class="text-2xl font-bold text-white mb-6">Static Data Export (SDE) Status</h1>

<div class="bg-slate-800 rounded-lg border border-slate-700 p-6 shadow-xl max-w-2xl">
    <h2 class="font-bold text-lg text-purple-400 mb-2 flex items-center gap-2">
        <span>💾</span> Database Integrity
    </h2>

    <div class="mt-6 space-y-4">
        <div class="flex justify-between items-center p-4 bg-slate-900 rounded border border-slate-700">
            <span class="text-slate-300">Inventory Types (Items/Ships)</span>
            <span class="font-mono text-xl text-white">{{ item_count }}</span>
        </div>

        <div class="flex justify-between items-center p-4 bg-slate-900 rounded border border-slate-700">
            <span class="text-slate-300">Status</span>
            {% if item_count > 0 %}
            <span class="font-bold text-green-400 flex items-center gap-2">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span> ONLINE
            </span>
            {% else %}
            <span class="font-bold text-red-400">OFFLINE / EMPTY</span>
            {% endif %}
        </div>
    </div>

    <div class="mt-8 p-4 bg-slate-700/30 rounded border border-slate-600 text-sm text-slate-400">
        <p class="mb-2"><strong class="text-white">Note:</strong> The import process must be run via console to avoid timeouts.</p>
        <code class="block bg-black p-2 rounded text-green-400 font-mono mt-2">
            python manage.py shell<br>
            >>> from esi_calls.sde_import import import_inv_types<br>
            >>> import_inv_types()
        </code>
    </div>
</div>
{% endblock %}