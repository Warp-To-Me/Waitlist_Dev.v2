{% extends base_template|default:"base.html" %}

{% block title %}Access Restricted - Fleet Command{% endblock %}

{% block content %}
<div class="absolute inset-0 flex items-center justify-center bg-dark-950 overflow-hidden">
    <!-- Background Effects -->
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-brand-500/10 rounded-full blur-[100px]"></div>
        <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-600/10 rounded-full blur-[100px]"></div>
    </div>

    <div class="relative z-10 max-w-md w-full p-6">
        <div class="glass-panel p-8 text-center border-red-500/20 shadow-2xl shadow-red-900/20 animate-fade-in">

            <div class="mb-6 relative inline-block">
                <div class="absolute inset-0 bg-red-500/20 blur-xl rounded-full"></div>
                <div class="relative bg-dark-900 p-4 rounded-full border border-red-500/30 text-4xl">
                    🚫
                </div>
            </div>

            <h1 class="text-2xl font-bold text-white mb-2">Access Restricted</h1>
            <p class="text-slate-400 mb-8 leading-relaxed">
                You do not have the required security clearance to view this resource.
                {% if not user.is_authenticated %}
                Please authenticate your pilot credentials to proceed.
                {% else %}
                Your current role level does not permit access to this area.
                {% endif %}
            </p>

            {% if not user.is_authenticated %}
            <a href="{% url 'sso_login' %}?next={{ request.GET.next }}" data-no-spa
               class="btn-primary w-full py-3 justify-center text-base shadow-brand-500/20 group">
                <span class="group-hover:scale-110 transition">🚀</span>
                Log In via EVE Online
            </a>
            {% else %}
            <div class="flex flex-col gap-3">
                <a href="{% url 'landing_page' %}" class="btn-secondary w-full justify-center">
                    Return to Dashboard
                </a>
                <p class="text-xs text-slate-500 mt-2">
                    Logged in as: <strong class="text-slate-300">{{ user.username }}</strong>
                </p>
            </div>
            {% endif %}

        </div>

        <div class="mt-8 text-center">
            <p class="text-xs text-slate-600 font-mono">SECURITY PROTOCOL 403-UNAUTHORIZED</p>
        </div>
    </div>
</div>
{% endblock %}